"use strict";(self.webpackChunk_8x8_developer_docs=self.webpackChunk_8x8_developer_docs||[]).push([[95371],{28453:(e,n,t)=>{t.d(n,{R:()=>d,x:()=>l});var s=t(96540);const r={},i=s.createContext(r);function d(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(i.Provider,{value:n},e.children)}},36301:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"connect/docs/delivery-receipts-for-outbound-chatapps","title":"Delivery receipts for Outbound Messaging Apps","description":"Delivery Report (DR) are webhooks for Messaging Apps delivery statuses: POST requests sent by the 8x8 platform in JSON format to the callback URL configured for your account.","source":"@site/docs/connect/docs/delivery-receipts-for-outbound-chatapps.md","sourceDirName":"connect/docs","slug":"/connect/docs/delivery-receipts-for-outbound-chatapps","permalink":"/production/connect/docs/delivery-receipts-for-outbound-chatapps","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"sidebarConnectReference","previous":{"title":"Inbound Messaging Apps message","permalink":"/production/connect/docs/inbound-chatapps-message"},"next":{"title":"WhatsApp Template Change Webhook","permalink":"/production/connect/docs/whatsapp-template-change-webhook"}}');var r=t(74848),i=t(28453);const d={},l="Delivery receipts for Outbound Messaging Apps",c={},o=[{value:"Requirements",id:"requirements",level:3},{value:"Retry logic",id:"retry-logic",level:3},{value:"Read Receipt - Validity Period",id:"read-receipt---validity-period",level:3},{value:"Webhook format",id:"webhook-format",level:3},{value:"Sample delivery receipt for outbound message",id:"sample-delivery-receipt-for-outbound-message",level:3}];function a(e){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"delivery-receipts-for-outbound-messaging-apps",children:"Delivery receipts for Outbound Messaging Apps"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Delivery Report (DR)"})," are webhooks for Messaging Apps delivery statuses: ",(0,r.jsx)(n.code,{children:"POST"})," requests sent by the 8x8 platform in ",(0,r.jsx)(n.code,{children:"JSON"})," format to the callback URL configured for your account."]}),"\n",(0,r.jsx)(n.h3,{id:"requirements",children:"Requirements"}),"\n",(0,r.jsx)(n.p,{children:"To use 8x8 Outbound Messaging Apps capabilities, you need:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"An account configured to use Messaging Apps product."}),"\n",(0,r.jsx)(n.li,{children:"A webhook to indicate to us which URL 8x8 platform should send delivery reports to."}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\ud83d\udcd8"}),"\n",(0,r.jsxs)(n.p,{children:["You can configure your callback using ",(0,r.jsx)(n.a,{href:"/connect/docs/webhooks-configuration-api",children:"Webhooks Configuration API"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"retry-logic",children:"Retry logic"}),"\n",(0,r.jsx)(n.p,{children:"In case of connection error/timeout or HTTP response code 4XX or 5XX, there will be multiple retry attempts with progressive intervals: 1, 10, 30, 90 sec."}),"\n",(0,r.jsx)(n.h3,{id:"read-receipt---validity-period",children:"Read Receipt - Validity Period"}),"\n",(0,r.jsxs)(n.p,{children:["If the chat app doesn't provide a read receipt promptly, either because the user hasn't read the message or due to a chat app service issue, we'll continue checking for up to ",(0,r.jsx)(n.strong,{children:"10 days"}),". If the user reads the message after this period, the read receipt won't be updated."]}),"\n",(0,r.jsx)(n.h3,{id:"webhook-format",children:"Webhook format"}),"\n",(0,r.jsx)(n.p,{children:"Request body description"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter name"}),(0,r.jsx)(n.th,{children:"Parameter type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"namespace"}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:["A generic namespace for incoming webhook.",(0,r.jsx)(n.br,{}),"Equal to ",(0,r.jsx)(n.code,{children:"ChatApps"})," for delivery receipts."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"eventType"}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:["Webhook type.",(0,r.jsx)(n.br,{}),"Equals to ",(0,r.jsx)(n.code,{children:"outbound_message_status_changed"})," for delivery receipts"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"description"}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Human-readable description of the incoming event"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"payload"}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:"Delivery receipt information, see below"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Payload object description"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter name"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter type"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"umid"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"uuid"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"A unique identifier generated by 8x8 for the message"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"batchId"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"uuid"}),(0,r.jsxs)(n.td,{style:{textAlign:"left"},children:["A unique identifier generated by 8x8 for the message if sent using ",(0,r.jsx)(n.a,{href:"/connect/reference/send-sms-batch",children:"Batch API"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"clientMessageId"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Custom identifier you provided for this message"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"clientBatchId"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Custom identifier you provided for this batch of messages"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"subAccountId"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"The sub-account id used to deliver the message"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"channel"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,r.jsxs)(n.td,{style:{textAlign:"left"},children:["Name of the channel used to send the message, please see ",(0,r.jsx)(n.a,{href:"/connect/docs/list-of-supported-chatapps-channels",children:"List of supported Messaging Apps channels"})," for details"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"user"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"object"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Information about the user the message is associated with"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"status"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"object"}),(0,r.jsxs)(n.td,{style:{textAlign:"left"},children:["Current status of the message, please see ",(0,r.jsx)(n.a,{href:"/connect/reference/message-status-references",children:"Message status reference"})," for details"]})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"User information object description"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter name"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter type"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"msisdn"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Phone number expressed in E.164 international format"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"channelUserId"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Channel user identifier"})]})]})]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\ud83d\udea7"}),"\n",(0,r.jsx)(n.p,{children:"Please note that unlike Delivery Receipts for the SMS API, the Price object is not sent for Messaging Apps Webhooks."}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\u2757\ufe0f"}),"\n",(0,r.jsx)(n.p,{children:"If the request you receive has a different structure from described in this document, please contact our support to activate the latest format for your account."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"sample-delivery-receipt-for-outbound-message",children:"Sample delivery receipt for outbound message"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",metastring:"Delivered",children:'{\n  "namespace": "ChatApps",\n  "eventType": "outbound_message_status_changed",\n  "description": "ChatApps outbound message delivery receipt",\n  "payload": {\n    "umid": <UNIQUE_MESSAGE_ID>,\n    "batchId": <BATCH_ID>,\n    "clientMessageId": <YOUR_MESSAGE_ID>,\n    "clientBatchId": <YOUR_BATCH_ID>,\n    "subAccountId": <SUBACCOUNT_ID>,\n    "channel": "whatsapp",\n    "user": {\n      "msisdn": "+6512345678",\n      "channelUserId": "6512345678"\n    },\n    "status": {\n      "state": "delivered",\n      "detail": "delivered_to_recipient",\n      "timestamp": "2025-05-05T09:15:57.00Z"\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",metastring:"Read",children:'{\n  "namespace": "ChatApps",\n  "eventType": "outbound_message_status_changed",\n  "description": "ChatApps outbound message delivery receipt",\n  "payload": {\n    "umid": <UNIQUE_MESSAGE_ID>,\n    "batchId": <BATCH_ID>,\n    "clientMessageId": <YOUR_MESSAGE_ID>,\n    "clientBatchId": <YOUR_BATCH_ID>,\n    "subAccountId": <SUBACCOUNT_ID>,\n    "channel": "whatsApp",\n    "user": {\n      "msisdn": "+6512345678",\n      "channelUserId": "6512345678"\n    },\n    "status": {\n      "state": "read",\n      "timestamp": "2025-05-17T06:27:52.45Z"\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",metastring:"Undelivered",children:'{\n  "namespace": "ChatApps",\n  "eventType": "outbound_message_status_changed",\n  "description": "ChatApps outbound message delivery receipt",\n  "payload": {\n    "umid": <UNIQUE_MESSAGE_ID>,\n    "batchId": <BATCH_ID>,\n    "clientMessageId": <YOUR_MESSAGE_ID>,\n    "clientBatchId": <YOUR_BATCH_ID>,\n    "subAccountId": <SUBACCOUNT_ID>,\n    "channel": "whatsapp",\n    "user": {\n      "msisdn": "+6512345678",\n      "channelUserId": "+6512345678"\n    },\n    "status": {\n      "state": "undelivered",\n      "detail": "rejected_by_operator",\n      "timestamp": "2016-01-01T00:00:00Z",\n      "errorCode": 15,\n      "errorMessage": "Invalid destination"\n    }\n  }\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);