"use strict";(self.webpackChunk_8x8_developer_docs=self.webpackChunk_8x8_developer_docs||[]).push([[19648],{5132:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/8ddc288-image-1c4d72f001fc7552c464463dbc681ee9.png"},6083:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/7a5bf0e-image-c652ce04784e43e6284220fb744ca39d.png"},11506:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/b65f2ca-image-502253c37e8fffb6b40f07c8a362ad34.png"},16878:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/58d0026-image-73acf68318b9aa368374e8a72acdfc00.png"},18828:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/75cc45b-image-170c3f7af164c1a68ade0a10168a0825.png"},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var s=t(96540);const o={},i=s.createContext(o);function r(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(i.Provider,{value:n},e.children)}},34925:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/37a551d-image-700390f1f344ff724492725f65a73ce0.png"},36184:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/2959b4b-image-308412898c681e03b5a372eb5542d319.png"},48327:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/982f180-image-f02df0157e170c4b4ba0a5ae891e8754.png"},50015:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/a9782e8-image-49099871578b881bb52ae0abf5b28c2e.png"},68119:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/c22d8d7-image-5ff1a4ef853ed86dba87429d67cb0156.png"},75863:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/a7da876-image-34dda6f231b93c33af9fba44b3b6da98.png"},76321:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/9a461a8-image-9c5c435bb1f1d6031897bce396d300bf.png"},78429:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/be14419-image-f05315ea94bfc9257e155669e1bb9b79.png"},81976:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/c32a99f-image-51aff418f5eea67e1f596c72eafd406b.png"},92897:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/c3a7e16-image-bb2910f3bad93e22393fddbf8841f147.png"},98855:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"connect/docs/okta","title":"Okta - (BYOT) Bring Your Own Telephony Guide","description":"Overview","source":"@site/docs/connect/docs/okta.md","sourceDirName":"connect/docs","slug":"/connect/docs/okta","permalink":"/production/connect/docs/okta","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"sidebarConnectDocs","previous":{"title":"Oracle Responsys","permalink":"/production/connect/docs/oracle-responsys"},"next":{"title":"Salesforce Chat Configuration Guide","permalink":"/production/connect/docs/salesforce-live-agent"}}');var o=t(74848),i=t(28453);const r={},a="Okta - (BYOT) Bring Your Own Telephony Guide",d={},c=[{value:"Overview",id:"overview",level:2},{value:"Video Demo",id:"video-demo",level:2},{value:"Requirements",id:"requirements",level:2},{value:"Setup",id:"setup",level:2},{value:"Setup Backend Code",id:"setup-backend-code",level:2},{value:"Create Inline Hook",id:"create-inline-hook",level:2},{value:"Adding Inline Hook as Authenticators",id:"adding-inline-hook-as-authenticators",level:2},{value:"Preview the Telephony Inline Hook",id:"preview-the-telephony-inline-hook",level:2},{value:"Using the Inline Hook",id:"using-the-inline-hook",level:3},{value:"Add Authenticator",id:"add-authenticator",level:2},{value:"Create new Authentication Policy Rule",id:"create-new-authentication-policy-rule",level:2},{value:"Add to Application",id:"add-to-application",level:2},{value:"Signing In",id:"signing-in",level:2},{value:"Conclusion",id:"conclusion",level:3}];function l(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",iframe:"iframe",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"okta---byot-bring-your-own-telephony-guide",children:"Okta - (BYOT) Bring Your Own Telephony Guide"})}),"\n",(0,o.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,o.jsxs)(n.p,{children:["This guide will take you through how to integrate 8x8's SMS API into Okta as an authenticator method using an Okta ",(0,o.jsx)(n.a,{href:"https://developer.okta.com/docs/concepts/inline-hooks/",children:"Inline Hook"}),". Specifically we will be using Okta's ",(0,o.jsx)(n.a,{href:"https://developer.okta.com/docs/reference/telephony-hook/",children:"Telephony Inline Hook"})," to add 8x8's SMS API as an option."]}),"\n",(0,o.jsxs)(n.p,{children:["For Okta's own guide on bringing your own telephony provider, refer to Okta's reference guide ",(0,o.jsx)(n.a,{href:"https://support.okta.com/help/s/article/bring-your-own-telephony-required-for-sms-and-voice?language=en_US",children:"here"})," and use Option 2."]}),"\n",(0,o.jsx)(n.p,{children:"The diagram below explains how the flow will look like from using Okta together with the Node.js server we will be building in this tutorial to send OTPs via 8x8 SMS API."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(78429).A+"",width:"1252",height:"299"})}),"\n",(0,o.jsx)(n.h2,{id:"video-demo",children:"Video Demo"}),"\n",(0,o.jsx)(n.p,{children:"This Video Demo shows the integration in action and explains a high level of the setup steps in this guide. We recommend referring to this text guide for the full setup."}),"\n",(0,o.jsx)(n.iframe,{src:"https://www.youtube.com/embed/EZ-uKf--nPc?si=-YePWMizF8fJdgww",height:"500px",width:"100%",allow:"picture-in-picture; web-share",allowFullScreen:!0,children:"\n"}),"\n",(0,o.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Okta Account (an Okta Dev Account is fine for testing)."}),"\n",(0,o.jsx)(n.li,{children:"8x8 Account and Subaccount with a SMS Sender."}),"\n",(0,o.jsx)(n.li,{children:"JavaScript Knowledge for running the sample code."}),"\n",(0,o.jsx)(n.li,{children:"API Endpoint for Okta to send a HTTP request. Required as part of their Inline Hook integration."}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,o.jsx)(n.h2,{id:"setup-backend-code",children:"Setup Backend Code"}),"\n",(0,o.jsx)(n.p,{children:"We will need an example endpoint for Okta to send it's HTTP request to. We have provided some example Node.js server code below for you to use:"}),"\n",(0,o.jsx)(n.p,{children:"server.js"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"const express = require('express');\nconst bodyParser = require('body-parser');\nconst axios = require('axios');\nconst { apiKey, subaccount, sender, authKey } = require('./config');\n\nconst app = express();\nconst PORT = 3000;\n\n// Middleware to parse JSON bodies\napp.use(bodyParser.json());\n\n// Function to send a successful response to Okta\nconst sendSuccessResponse = (res, umid, transactionMetadata) => {\n    res.status(200).json({\n        commands: [\n            {\n                type: \"com.okta.telephony.action\",\n                value: [\n                    {\n                        status: \"SUCCESSFUL\",\n                        provider: \"8x8\",\n                        transactionId: umid,\n                        transactionMetadata: JSON.stringify(transactionMetadata)\n                    }\n                ]\n            }\n        ]\n    });\n};\n\n// Function to send an error response to Okta\nconst sendErrorResponse = (res, errorData) => {\n    const errorSummary = `8x8 Error Code: ${errorData.code}. 8x8 Error Message: ${errorData.message}`;\n    res.status(500).json({\n        error: {\n            errorSummary: errorSummary\n        }\n    });\n};\n\napp.post('/telephony-hook', async (req, res) => {\n    // Print the request body\n    console.log('Received request body:', req.body);\n\n    // Check if the Authorization header is correct\n    const authHeader = req.headers['authorization'];\n    if (authHeader !== authKey) {\n        console.log('Unauthorized request');\n        return res.status(401).json({ error: 'Unauthorized' });\n    }\n\n    // Check if the required fields are present\n    const { msgTemplate, phoneNumber } = req.body.data.messageProfile;\n    if (!msgTemplate || !phoneNumber) {\n        console.log('Invalid request data:', req.body.data);\n        return res.status(400).json({ error: 'Invalid request data' });\n    }\n\n    // Send OTP using 8x8's SMS API\n    try {\n        const response = await axios.post(\n            `https://sms.8x8.com/api/v1/subaccounts/${subaccount}/messages`,\n            {\n                source: sender,\n                destination: phoneNumber,\n                text: msgTemplate,\n                encoding: \"AUTO\"\n            },\n            {\n                headers: {\n                    'Authorization': `Bearer ${apiKey}`\n                }\n            }\n        );\n\n        // Print successful response\n        console.log('OTP sent successfully:', response.data);\n\n        // Respond with a successful delivery response\n        sendSuccessResponse(res, response.data.umid, response.data);\n    } catch (error) {\n        // Print error response\n        console.log('Failed to send OTP:', error.message);\n\n        // Handle errors from the SMS API and respond with an error delivery response\n        if (error.response && error.response.data) {\n            sendErrorResponse(res, error.response.data);\n        } else {\n            sendErrorResponse(res, { code: 'UNKNOWN', message: 'An unknown error occurred' });\n        }\n    }\n});\n\napp.listen(PORT, () => {\n    console.log(`Server is running on port ${PORT}`);\n});\n\n"})}),"\n",(0,o.jsx)(n.p,{children:"The code takes as input a inline hook from Okta which is simply an HTTPS request. Then it will extract the phone number and message from the request body and use that information to send an API call to 8x8's SMS API to send an OTP to the destination number. It will return either success or error information to Okta as a final step."}),"\n",(0,o.jsxs)(n.p,{children:["Please note it requires parameters set in a ",(0,o.jsx)(n.strong,{children:"config.js"})," file as below. All values should be replaced and set with the corresponding values unique to your 8x8 Account and Okta Inline Hook configuration. The apiKey, subaccount and sender can be found in 8x8 Connect under ",(0,o.jsx)(n.a,{href:"https://connect.8x8.com/messaging/api-keys",children:"API Keys"})," and ",(0,o.jsx)(n.a,{href:"https://connect.8x8.com/messaging/virtual-numbers",children:"Numbers"}),"."]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Key"}),(0,o.jsx)(n.th,{children:"Value"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"apiKey"}),(0,o.jsx)(n.td,{children:"Your 8x8 API Key."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"subaccount"}),(0,o.jsx)(n.td,{children:"Your 8x8 Subaccount."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"sender"}),(0,o.jsx)(n.td,{children:"Your 8x8 SMS Sender ID or Virtual Number"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"authKey"}),(0,o.jsx)(n.td,{children:"Should be set to the same value as the Authentication Secret from the Inline Hook guide setup below. Used by your server to authenticate the request from Okta."})]})]})]}),"\n",(0,o.jsxs)(n.p,{children:["Here is the example ",(0,o.jsx)(n.strong,{children:"config.js"})," file for reference where the values should be replaced."]}),"\n",(0,o.jsx)(n.p,{children:"config.js"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"// config.js\nmodule.exports = {\n    apiKey: 'your_8x8_api_key',\n    subaccount: 'your_8x8_subaccount',\n    sender: 'YourSender',\n    authKey: '1234'\n};\n\n"})}),"\n",(0,o.jsx)(n.p,{children:"Here is the example package.json for your Node.js application. It includes the packages axios, body-parser and expressed used in the backend server code."}),"\n",(0,o.jsx)(n.p,{children:"package.json"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "name": "okta_inline_hook_integration",\n  "version": "1.0.0",\n  "main": "server.js",\n  "scripts": {\n    "test": "echo \\"Error: no test specified\\" && exit 1",\n    "start": "node server.js"\n  },\n  "keywords": [],\n  "author": "",\n  "license": "ISC",\n  "description": "",\n  "dependencies": {\n    "axios": "^1.7.3",\n    "body-parser": "^1.20.2",\n    "express": "^4.19.2"\n  }\n}\n\n'})}),"\n",(0,o.jsx)(n.p,{children:"After placing this code in the same directory, you can run the following commands to start the server."}),"\n",(0,o.jsx)(n.p,{children:"Shell - Install Packages and Start Server"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm install\nnpm start\n\n"})}),"\n",(0,o.jsx)(n.p,{children:"The output should appear as follows."}),"\n",(0,o.jsx)(n.p,{children:"Shell - Start Server Ouptut"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"> okta_inline_hook_integration@1.0.0 start\n> node server.js\n\nServer is running on port 3000\n\n"})}),"\n",(0,o.jsx)(n.p,{children:"The server should be exposed to the public internet so that Okta can send a webhook. The exact method is left to you but some options may include ngrok and localtunnel if you are running on your local laptop/desktop dev environment."}),"\n",(0,o.jsx)(n.p,{children:"For production, however, this should be running behind a proper web server setup."}),"\n",(0,o.jsx)(n.h2,{id:"create-inline-hook",children:"Create Inline Hook"}),"\n",(0,o.jsxs)(n.p,{children:["Go to ",(0,o.jsx)(n.strong,{children:"Workflow > Inline Hooks"})," on the Okta Dashboard. Select ",(0,o.jsx)(n.strong,{children:"Add Inline Hook"})," and ",(0,o.jsx)(n.strong,{children:"Telephony"}),"."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(48327).A+"",width:"845",height:"523"})}),"\n",(0,o.jsx)(n.h2,{id:"adding-inline-hook-as-authenticators",children:"Adding Inline Hook as Authenticators"}),"\n",(0,o.jsxs)(n.p,{children:["In the ",(0,o.jsx)(n.strong,{children:"Create Inline Hook"})," page, fill in the following values."]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Field"}),(0,o.jsx)(n.th,{children:"Description"}),(0,o.jsx)(n.th,{children:"Example Value"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Name"})}),(0,o.jsx)(n.td,{children:'Can be any value. We use "8x8 - SMS Authentication"'}),(0,o.jsx)(n.td,{children:"8x8 - SMS Authentication"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"URL"})}),(0,o.jsxs)(n.td,{children:["Should be set to the URL of your backend server that you send the code.",(0,o.jsx)(n.br,{}),"For this tutorial we host it locally and use ngrok to expose it for demo purposes. In production you will need a hosting solution."]}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.a,{href:"https://example.com/endpoint",children:"https://example.com/endpoint"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Authentication Field"})}),(0,o.jsxs)(n.td,{children:["Will be sent as part of the request header. Authentication Field is for your backend to authenticate the webhook from Okta. It can be any value",(0,o.jsx)(n.br,{}),"Refer to Okta's ",(0,o.jsx)(n.a,{href:"https://developer.okta.com/docs/reference/hooks-best-practices/",children:"page"})," on authentication and Inline Hooks for reference."]}),(0,o.jsx)(n.td,{children:"Authentication"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Authentication Secret (Used with Authentication Field)"})}),(0,o.jsx)(n.td,{children:"Will be sent as part of the request header. This should be the value your backend uses to authenticate"}),(0,o.jsx)(n.td,{children:"secretvalue"})]})]})]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(16878).A+"",width:"1708",height:"1198"})}),"\n",(0,o.jsxs)(n.p,{children:["After entering the values, click ",(0,o.jsx)(n.strong,{children:"Save"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"preview-the-telephony-inline-hook",children:"Preview the Telephony Inline Hook"}),"\n",(0,o.jsxs)(n.p,{children:["In the next page you should see the following confirming a few of the values from setting up the Inline Hook. Select an Okta user to preview from your organization in ",(0,o.jsx)(n.strong,{children:"data.userProfile"})," and select anything for the ",(0,o.jsx)(n.strong,{children:"requestType"}),", we use MFA enrollment."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(5132).A+"",width:"794",height:"383"})}),"\n",(0,o.jsxs)(n.p,{children:["Afterwards click ",(0,o.jsx)(n.strong,{children:"Generate Request"})," in Step 2 on this page, it will generate an example JSON that will be sent to your endpoint so that you know what format to expect from Okta. If needed, change any of the JSON Values such as the ",(0,o.jsx)(n.strong,{children:"messageProfile.phoneNumber"})," field which we use in our tutorial code to send an OTP."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(50015).A+"",width:"1846",height:"462"})}),"\n",(0,o.jsxs)(n.p,{children:["Click ",(0,o.jsx)(n.strong,{children:"View Response"})," to send the example Inline hook to your server. You should see the JSON response below from the server upon a successful request."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(76321).A+"",width:"1752",height:"908"})}),"\n",(0,o.jsx)(n.p,{children:"From our example Node.js server you should see the following output, showing the API request sent from Okta and also the output of the API call to 8x8's SMS API."}),"\n",(0,o.jsx)(n.p,{children:"Server Code Output"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-text",children:"Received request body: {\n  eventId: '3IPD5oQfQdOttCCjUWMk3Q',\n  eventTime: '2024-08-07T22:15:30.000Z',\n  eventType: 'com.okta.telephony.provider',\n  eventTypeVersion: '1.0',\n  contentType: 'application/json',\n  cloudEventVersion: '0.1',\n  source: '<redacted>',\n  requestType: 'com.okta.user.telephony.pre-enrollment',\n  data: {\n    context: { request: [Object] },\n    userProfile: {\n      firstName: 'Rommel',\n      lastName: 'Sunga',\n      login: '<redacted>',\n      userId: '00uit3mfz9gLSSzgQ5d7'\n    },\n    messageProfile: {\n      msgTemplate: 'Your code is 11111',\n      phoneNumber: '<Destination Phone Number>',\n      otpExpires: '2024-08-07T22:20:25.057Z',\n      deliveryChannel: 'SMS',\n      otpCode: '11111',\n      locale: 'EN-US'\n    }\n  }\n}\nOTP sent successfully: {\n  umid: 'f68ac2f8-9da3-48d8-b8ec-f9702dad3b5b',\n  clientMessageId: null,\n  destination: '<Destination Phone Number>',\n  encoding: 'GSM7',\n  status: {\n    code: 'QUEUED',\n    description: 'SMS is accepted and queued for processing'\n  }\n}\n\n"})}),"\n",(0,o.jsx)(n.p,{children:"The SMS should also be delivered to your phone."}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.img,{src:t(75863).A+"",width:"824",height:"135"}),"\nThis demonstrates the inline hook is now successfully working. Now you can attach the Okta inline hook to any action that would trigger the inline hook in Okta."]}),"\n",(0,o.jsx)(n.h3,{id:"using-the-inline-hook",children:"Using the Inline Hook"}),"\n",(0,o.jsx)(n.p,{children:"Now that the Inline Hook has been added, in order to require it for signing into your Okta organization."}),"\n",(0,o.jsx)(n.h2,{id:"add-authenticator",children:"Add Authenticator"}),"\n",(0,o.jsxs)(n.p,{children:["Ensure that in the ",(0,o.jsx)(n.strong,{children:"Security - Authenticators"})," page that Phone is added as an Authenticator option."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(6083).A+"",width:"772",height:"452"})}),"\n",(0,o.jsxs)(n.p,{children:["If it is not already on the list then click ",(0,o.jsx)(n.strong,{children:"Add Authenticator"})," to add it."]}),"\n",(0,o.jsx)(n.h2,{id:"create-new-authentication-policy-rule",children:"Create new Authentication Policy Rule"}),"\n",(0,o.jsxs)(n.p,{children:["Click ",(0,o.jsx)(n.strong,{children:"Add Rule"})," on the ",(0,o.jsx)(n.strong,{children:"Security - Authentication Policies"})," page."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(68119).A+"",width:"1058",height:"308"})}),"\n",(0,o.jsxs)(n.p,{children:["In the ",(0,o.jsx)(n.strong,{children:"Edit Rule"})," page, the only change we will make is for AND Authentication methods where we should include the ",(0,o.jsx)(n.strong,{children:"Phone - SMS"})," method along with any other methods we wish to offer the user authenticating into Okta."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(81976).A+"",width:"1414",height:"806"})}),"\n",(0,o.jsx)(n.h2,{id:"add-to-application",children:"Add to Application"}),"\n",(0,o.jsx)(n.p,{children:"After creating the Policy, add it to one of your Applications."}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.img,{alt:"Okta Policy List",src:t(34925).A+"",width:"759",height:"363"}),"Okta Policy List"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.img,{alt:"Inline Hook Rule - After Adding Okta Dashboard to the rule.",src:t(36184).A+"",width:"1700",height:"1064"}),"Inline Hook Rule - After Adding Okta Dashboard to the rule."]}),"\n",(0,o.jsx)(n.h2,{id:"signing-in",children:"Signing In"}),"\n",(0,o.jsx)(n.p,{children:"When attempting to login to the application that you have configured above, you should receive the following screen prompting you to register for Phone Verification."}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.img,{src:t(11506).A+"",width:"952",height:"1282"}),"\n",(0,o.jsx)(n.img,{src:t(18828).A+"",width:"800",height:"1214"}),"\nAgain the code should be sent to your phone via SMS, follow the prompts to finish logging into application."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.img,{src:t(92897).A+"",width:"837",height:"185"}),"\nFor subsequent sign-ins to the application it should utilize SMS as a verification method."]}),"\n",(0,o.jsx)(n.h3,{id:"conclusion",children:"Conclusion"}),"\n",(0,o.jsx)(n.p,{children:"In this tutorial we have shown how to create a Telephony Inline Hook that makes use of 8x8's SMS API to send OTPs via SMS. With this integration, you can leverage the ability of 8x8's SMS API to send an OTP while integrating with Okta."})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}}}]);