"use strict";(self.webpackChunk_8x8_developer_docs=self.webpackChunk_8x8_developer_docs||[]).push([[84840],{12472:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"connect/docs/vm-session-status","title":"Session Summary (Voice Messaging)","description":"This method allows you to review the \\"Voice Session Summary\\" status and individual call legs.","source":"@site/docs/connect/docs/vm-session-status.md","sourceDirName":"connect/docs","slug":"/connect/docs/vm-session-status","permalink":"/production/connect/docs/vm-session-status","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"sidebarConnectReference","previous":{"title":"Voice Messaging Guide","permalink":"/production/connect/docs/voice-messaging-guide"},"next":{"title":"IVR","permalink":"/production/connect/docs/ivr-1"}}');var r=t(74848),i=t(28453);const l={},d="Session Summary (Voice Messaging)",c={},o=[{value:"Request",id:"request",level:2},{value:"Response",id:"response",level:2},{value:"Error Details and Error Code",id:"error-details-and-error-code",level:3}];function a(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"session-summary-voice-messaging",children:"Session Summary (Voice Messaging)"})}),"\n",(0,r.jsxs)(n.p,{children:['This method allows you to review the "Voice Session Summary" status and individual call legs.',(0,r.jsx)(n.br,{}),'\n"Voice Session Summary" (VSS) endpoint. Your "Voice Session Summary" (VSS) endpoint can be configured on the sub-account level with the Voice Call Action ',(0,r.jsx)(n.a,{href:"/connect/reference/create-a-new-webhook",children:"Webhooks"}),(0,r.jsx)(n.br,{}),"\nThis can be used alongside or instead of the ",(0,r.jsx)(n.a,{href:"/connect/reference/call-status",children:"Call Status"}),", to simplify your monitoring."]}),"\n",(0,r.jsx)(n.h2,{id:"request",children:"Request"}),"\n",(0,r.jsx)(n.p,{children:"When the session has ended, 8x8 platform will POST a JSON object to your URL."}),"\n",(0,r.jsx)(n.p,{children:"The JSON object will contain the following values:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Name"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"namespace"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:'8x8\'s overall product namespace. For Voice products, the value will be "VOICE"'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"eventType"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:'Event type that generated this callback. For session summary events the value will be "SESSION_SUMMARY"'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"description"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Description of the event type that triggered the callback."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"sessionId"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Unique id that represents Voice Messaging session [UUID]"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"subAccountId"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Unique ID of account"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"sessionStatus"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsxs)(n.td,{children:["\u201csessionStatus\u201d values of the two call legs. Possible values for \u201csessionStatus\u201d are:",(0,r.jsx)(n.br,{}),"COMPLETED, NO_ANSWER, BUSY, CANCELED, FAILED, ERROR",(0,r.jsx)(n.strong,{children:"For Opt Out Scenario:"}),(0,r.jsx)(n.br,{}),"- COMPLETED_UNSUBSCRIBED (",(0,r.jsx)(n.code,{children:"user opt out"}),")",(0,r.jsx)(n.br,{}),"- COMPLETED_UNSUB_ERROR (",(0,r.jsx)(n.code,{children:"error encountered during blacklist process"}),")",(0,r.jsx)(n.br,{}),"- UNSUBSCRIBED_CONTACT (",(0,r.jsx)(n.code,{children:"user is already in the blacklist group"}),")"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"startTime"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Start time of voice messaging session"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"endTime"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Start time of voice messaging session"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"lastAction"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Shows the last executed command during the session"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"callCount"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"Shows how many call legs have been bridged for the given session"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"details"}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{children:"JSON object containing information about all call legs in the session"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"callId"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Unique identifier of call leg"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"callDirection"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Indicates the direction of the call leg (INBOUND or OUTBOUND)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"callType"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:'Type of the call leg. Values can be "PSTN" or "VOIP", depending on where the call was initiated from (telco operators or VoiceSDK users). For Voice Messaging the value will always be PSTN.'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"initiatedTimestamp"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Initiated time of call leg"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"connectedTimestamp"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Time when the call leg is connected"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"disconnectedTimestamp"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Time when the call leg is disconnected"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"source"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Source number (CallerID) set for the call leg"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"sourceFormat"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:'The value for Voice Messaging will always be "MSISDN"'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"destination"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Destination number set for the call leg"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"destinationFormat"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:'The value for Voice Messaging will always be "MSISDN"'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"sourceCountryCode"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Country code for the Source Number"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"destinationCountryCode"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Country code for the Destination Number"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"sourceRefId"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"For OUTBOUND call legs, this property shows the referenceId of the Virtual Number that has been called. For INBOUND calls the value is null"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"callStatus"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsxs)(n.td,{children:["Call status of the call leg. The values can be:",(0,r.jsx)(n.br,{}),"COMPLETED, NO_ANSWER, BUSY, CANCELED, FAILED"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"callDuration"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"Call duration of the call leg."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"errorDetails"}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{children:"JSON object containing information about all call leg errors in the session"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"errorMsg"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"The error details of the call leg"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"errorCode"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Error code specified in the Error object"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"callQuality"}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{children:"JSON object containing information about all call leg call quality indicators in the session"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"mos"}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Mean Opinion Score (MOS) is a numerical measure of the human-judged overall quality of the call leg"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"packetLossRate"}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"The packet loss rate reflects the reliability of a communication network path."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"jitter"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"Jitter reflects any time delay in sending data packets over your call connection."})]})]})]}),"\n",(0,r.jsx)(n.p,{children:'Example of a JSON object sent to your "Voice Session Summary" endpoint:'}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",metastring:"Session Summary (Success)",children:'{\n  "payload": {\n    "sessionId": "1f048a84-ea6d-11ee-911b-078f7290bf52",\n    "subAccountId": "8x8_test",\n    "sessionStatus": "COMPLETED",\n    "startTime": "2024-03-25T06:01:30Z",\n    "endTime": "2024-03-25T06:01:50Z",\n    "lastAction": "MAKE_CALL",\n    "callCount": 1,\n    "details": {\n      "CallA": {\n        "callId": "1f048a83-ea6d-11ee-911b-e9023a97c284",\n        "callDirection": "OUTBOUND",\n        "callType": "PSTN",\n        "initiatedTimestamp": "2024-03-25T06:01:28Z",\n        "connectedTimestamp": "2024-03-25T06:01:37Z",\n        "disconnectedTimestamp": "2024-03-25T06:01:50Z",\n        "source": "+12314377870",\n        "destination": "+6568332048",\n        "sourceFormat": "MSISDN",\n        "destinationFormat": "MSISDN",\n        "sourceCountryCode": "US",\n        "destinationCountryCode": "SG",\n        "SourceRefId": "null",\n        "callStatus": "COMPLETED",\n        "callDuration": 13,\n        "callQuality": {\n          "mos": 4.5,\n          "packetLossRate": 0,\n          "jitter": 20\n        }\n      }\n    }\n  },\n  "namespace": "VOICE",\n  "eventType": "SESSION_SUMMARY",\n  "description": "Summary of a completed call session"\n}\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",metastring:"Session Summary (Failure)",children:'{\n  "payload": {\n    "sessionId": "47f19e66-2163-11ee-8ccd-27b543a164ea",\n    "subAccountId": "8x8_test",\n    "sessionStatus": "ERROR",\n    "startTime": "2024-07-13T09:54:38Z",\n    "endTime": "2024-07-13T09:54:38Z",\n    "lastAction": "MAKE_CALL",\n    "callCount": 1,\n    "errorDetails": {\n      "errorMsg": "No coverage available for requested area",\n      "errorCode": -2005\n    },\n    "details": {\n      "callA": {\n        "callId": "4809bb03-2163-11ee-8f06-8da8b5ddeca4",\n        "callDirection": "OUTBOUND",\n        "callType": "PSTN",\n        "initiatedTimestamp": "2023-07-13T09:54:38Z",\n        "disconnectedTimestamp": "2023-07-13T09:54:38Z",\n        "source": "+6568332048",\n        "destination": "+6591178965",\n        "sourceFormat": "MSISDN",\n        "destinationFormat": "MSISDN",\n        "sourceCountryCode": "SG",\n        "destinationCountryCode": "SG",\n        "sourceRefId": "PSTN1",\n        "callStatus": "ERROR",\n        "callDuration": 0\n      }\n    }\n  },\n  "namespace": "VOICE",\n  "eventType": "SESSION_SUMMARY",\n  "description": "Summary of a completed call session"\n}\n \n\n'})}),"\n",(0,r.jsx)(n.h2,{id:"response",children:"Response"}),"\n",(0,r.jsx)(n.p,{children:"Your endpoint should respond with 200 OK status"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"error-details-and-error-code",children:"Error Details and Error Code"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Status Code"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Message"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"-2001"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"An internal error has occurred"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"-2002"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"An internal connectivity error has occurred"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"-2003"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"The call flow provided is invalid"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"-2004"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"No coverage available for requested area"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"-2005"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Unable to synthesize text to speech"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"-2008"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"The provided source MSISDN or caller ID is not whitelisted."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"-9999"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"An unknown error has occurred."})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>d});var s=t(96540);const r={},i=s.createContext(r);function l(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);