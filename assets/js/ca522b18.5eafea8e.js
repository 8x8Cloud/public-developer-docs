"use strict";(self.webpackChunk_8x8_developer_docs=self.webpackChunk_8x8_developer_docs||[]).push([[92965],{28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>r});var o=t(96540);const a={},c=o.createContext(a);function i(e){const n=o.useContext(c);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),o.createElement(c.Provider,{value:n},e.children)}},57216:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>r,default:()=>l,frontMatter:()=>i,metadata:()=>o,toc:()=>h});const o=JSON.parse('{"id":"actions-events/docs/trigger-webchat","title":"Trigger webchat","description":"Introduction","source":"@site/docs/actions-events/docs/trigger-webchat.md","sourceDirName":"actions-events/docs","slug":"/actions-events/docs/trigger-webchat","permalink":"/actions-events/docs/trigger-webchat","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"sidebarActionsEventsDocs","previous":{"title":"Set chat variables","permalink":"/actions-events/docs/chat-language-copy"},"next":{"title":"Theming","permalink":"/actions-events/docs/theming"}}');var a=t(74848),c=t(28453);const i={},r="Trigger webchat",s={},h=[{value:"Introduction",id:"introduction",level:2},{value:"Script config",id:"script-config",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"trigger-webchat",children:"Trigger webchat"})}),"\n",(0,a.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,a.jsx)(n.p,{children:"There are occasions, where you might want to trigger the webchat yourself."}),"\n",(0,a.jsx)(n.p,{children:"For example, an action has happened on your webpage, and you want to trigger a set invitation to bring the customer into your chat or where, you want to create your own button your website, and when a customer clicks on this you launch the webchat"}),"\n",(0,a.jsx)(n.h3,{id:"script-config",children:"Script config"}),"\n",(0,a.jsx)(n.p,{children:"Here is an example of what to set when you want to launch the invitation"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"function fn(chatApp) {\n  window.chatApp = chatApp;\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:"Here is an example of what to set when you want to launch the webchat"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"window.chatApp.startChat()\n\n"})}),"\n",(0,a.jsx)(n.p,{children:"To add this, you need to add it at the bottom of the script in this area here"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:"})(  \n--ADD THE FUNCTION CHATAPP CODE HERE  \n);  \n    <\/script>\n\n"})}),"\n",(0,a.jsx)(n.p,{children:"Then, the full script will look like this"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'    \x3c!-- Place this code snippet anywhere you want the button to appear in your page. If no button has been configured in the chat script, it will not show up nor take any space. --\x3e\n    <div id="__8x8-chat-button-container-script_1333070733643e5b8fa7a791.52161248"></div>\n\n    \x3c!-- This script will not interfere with the button layout, you just need to include it in the same page. It must also be within the <body> section of the page, preferably just before the ending tag. --\x3e\n    <script type="text/javascript">\n    (function(c, f, ef){\n        var typeofC = Object.prototype.toString.call(c);\n        var props = (typeofC === \'[object Object]\' && c) || {};\n        var cb = f || (typeofC === \'[object Function]\' && c);\n        var config = {\n            scriptUuid: "script_1333070733643e5b8fa7a791.52161248",\n            tenant: "Y2hyaXNjcm9tYmllZGVtbzAx",\n            channelName: "WebChatChannel",\n            channelUuid: "Ak3ULjXFQx-unSA6ebdW8A",\n            domain: "https://vcc-eu11.8x8.com",\n            buttonContainerId: "__8x8-chat-button-container-script_1333070733643e5b8fa7a791.52161248",\n            align: "right",\n        };\n\n        var url = new URL("https://cloud8-cc-geo.8x8.com/vcc-chat-channels/public/webchat/discovery");\n        var params = { domain: config.domain, tenant: config.tenant, channelUuid: config.channelUuid };\n        url.search = new URLSearchParams(params).toString();\n        fetch(url)\n            .then(response => response.json())\n            .then(data => config.domain = !data.domain ? config.domain : data.domain)\n            .catch(error => console.warn(\'Failed to retrieve override domain, will continue using \', config.domain, error))\n            .finally(() => loadChat());\n\n        function loadChat() {\n            var se = document.createElement("script");\n            se.type = "text/javascript";\n            se.async = true;\n            se.src = props.loaderURL || (config.domain + "/CHAT/common/js/chatv3.js");\n            Object.keys(config).forEach(function (k) { se.dataset[k] = config[k] });\n            Object.keys(props).forEach(function (k) { se.dataset[k] = props[k] });\n            function handleInitEvent(e) {\n                var initFn = e.detail.init;\n                initFn(config, cb);\n                se.removeEventListener(\'init\', handleInitEvent)\n            }\n            function handleErrorEvent(e) {\n                ef && ef(e);\n                se.removeEventListener(\'customerror\', handleErrorEvent);\n            }\n            se.addEventListener(\'init\', handleInitEvent);\n            se.addEventListener(\'customerror\', handleErrorEvent);\n            var os = document.getElementsByTagName("script")[0];\n            os.parentNode.insertBefore(se, os);\n        }\n    })(function (chatApp) {\nwindow.chatApp = chatApp;\n},\n);\n    <\/script>\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:""})]})}function l(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);