"use strict";(self.webpackChunk_8x8_developer_docs=self.webpackChunk_8x8_developer_docs||[]).push([[41189],{28453:(e,t,n)=>{n.d(t,{R:()=>c,x:()=>a});var s=n(96540);const o={},i=s.createContext(o);function c(e){const t=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),s.createElement(i.Provider,{value:t},e.children)}},72640:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>r,contentTitle:()=>a,default:()=>d,frontMatter:()=>c,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"connect/docs/auth0","title":"Auth0","description":"Auth0 integration","source":"@site/docs/connect/docs/auth0.md","sourceDirName":"connect/docs","slug":"/connect/docs/auth0","permalink":"/connect/docs/auth0","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"sidebarConnectDocs","previous":{"title":"Apple\'s Shortcuts","permalink":"/connect/docs/apples-shortcuts"},"next":{"title":"Braze","permalink":"/connect/docs/braze"}}');var o=n(74848),i=n(28453);const c={},a="Auth0",r={},l=[{value:"Auth0 integration",id:"auth0-integration",level:2},{value:"About Auth0",id:"about-auth0",level:3},{value:"Integrating Auth0 with 8x8 SMS API",id:"integrating-auth0-with-8x8-sms-api",level:3},{value:"Prerequisites",id:"prerequisites",level:4},{value:"Steps",id:"steps",level:4},{value:"Video steps",id:"video-steps",level:4}];function h(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"auth0",children:"Auth0"})}),"\n",(0,o.jsx)(t.h2,{id:"auth0-integration",children:"Auth0 integration"}),"\n",(0,o.jsx)(t.h3,{id:"about-auth0",children:"About Auth0"}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.a,{href:"https://auth0.com",children:"Auth0"})," is an identity management platform that let applications developers easily implement authentication and authorisation logic into their applications."]}),"\n",(0,o.jsx)(t.p,{children:"Coupled with 8x8 SMS connectivity, it allows developers to send one-time passwords via the Auth0 platform to their users all over the World."}),"\n",(0,o.jsx)(t.h3,{id:"integrating-auth0-with-8x8-sms-api",children:"Integrating Auth0 with 8x8 SMS API"}),"\n",(0,o.jsx)(t.p,{children:"To leverage SMS API to send OTP codes to your users, you will be using the hook feature in Auth0."}),"\n",(0,o.jsx)(t.p,{children:'More specifically, you will be using the "Send a phone message" hook and adapt it to send requests to 8x8 SMS API.'}),"\n",(0,o.jsx)(t.h4,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"https://auth0.com/signup?place=header&type=button&text=sign%20up",children:"Auth0 account"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"https://connect.8x8.com/messaging/api-keys",children:"8x8 CPaaS subaccount"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"https://connect.8x8.com/messaging/api-keys",children:"8x8 CPaaS apikey"})}),"\n"]}),"\n",(0,o.jsx)(t.h4,{id:"steps",children:"Steps"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsxs)(t.li,{children:["In your ",(0,o.jsx)(t.a,{href:"https://manage.auth0.com/dashboard/",children:"Auth0 portal"}),", go to the Auth pipeline > Hooks section."]}),"\n",(0,o.jsx)(t.li,{children:'Select "Create a hook" in the top right corner.'}),"\n",(0,o.jsx)(t.li,{children:'You can call it by any name, let\'s call it "8x8".'}),"\n",(0,o.jsx)(t.li,{children:'Select type "Send phone message" and click on "Create".'}),"\n",(0,o.jsx)(t.li,{children:'Scroll down on the Hooks page to the "Send phone message" section and click on the pencil/edit button to edit the hook you just created.'}),"\n",(0,o.jsx)(t.li,{children:'Click on the wrench icon (settings) and select "Secrets".'}),"\n",(0,o.jsxs)(t.li,{children:['Select "Add Secret" and input for secret key: ',(0,o.jsx)(t.code,{children:"subaccount"})," and for secret value, your 8x8 SMS subaccount (can be obtained in ",(0,o.jsx)(t.a,{href:"https://connect.8x8.com/messaging/api-keys",children:"8x8 Connect portal - API Keys section"}),")."]}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:['8.Select "Add Secret" and input for secret key: ',(0,o.jsx)(t.code,{children:"apikey"})," and for secret value, your 8x8 SMS apikey (can be obtained in ",(0,o.jsx)(t.a,{href:"https://connect.8x8.com/messaging/api-keys",children:"8x8 Connect portal - API Keys section"}),").\n8. Close the secrets and settings section.\n9. Copy and paste this code in the code section of the hook in place of the code already there:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-javascript",children:'module.exports = function (recipient, text, context, cb) {\n    const axios = require("axios").default,\n        API_KEY = context.webtask.secrets.apikey,\n        SUBACCOUNT = context.webtask.secrets.subaccount,\n        BASE_URL = "https://sms.8x8.com/api/v1/";\n    let instance = axios.create({\n        baseURL: BASE_URL,\n        headers: {\n            "Authorization": `Bearer ${API_KEY}`,\n            "Accept": "application/json",\n            "Content-Type": "application/json"\n        },\n    });\n    instance({\n        method: "post",\n        url: `subaccounts/${SUBACCOUNT}/messages`,\n        data: {\n            "encoding": "AUTO",\n            "destination": recipient,\n            "text": text\n        }\n    })\n        .then((response) => {\n            cb(null, {});\n        })\n        .catch((error) => {\n            cb(error);\n        });\n\n};\n\n'})}),"\n",(0,o.jsxs)(t.ol,{start:"11",children:["\n",(0,o.jsx)(t.li,{children:"Save the code."}),"\n",(0,o.jsx)(t.li,{children:"Click the play button to open the runner."}),"\n",(0,o.jsx)(t.li,{children:"Wait for the logs stream to load."}),"\n",(0,o.jsx)(t.li,{children:"Press the run button (Bottom right) ."}),"\n",(0,o.jsx)(t.li,{children:"Check that you have no errors in the hook log stream and the response has a status code of 200."}),"\n",(0,o.jsx)(t.li,{children:"Check 8x8 Connect logs and verify that you Auth0 submitted an SMS to the test number with your account."}),"\n",(0,o.jsx)(t.li,{children:"You're all set! You can now use this hook in your Auth pipeline!"}),"\n"]}),"\n",(0,o.jsx)(t.h4,{id:"video-steps",children:"Video steps"})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}}}]);