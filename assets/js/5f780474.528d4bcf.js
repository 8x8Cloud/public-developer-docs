"use strict";(globalThis.webpackChunk_8x8_developer_docs=globalThis.webpackChunk_8x8_developer_docs||[]).push([[1830],{28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>a});var r=s(96540);const o={},i=r.createContext(o);function t(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),r.createElement(i.Provider,{value:n},e.children)}},71925:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"connect/docs/whatsapp/operations-monitoring","title":"Operations, Monitoring & Troubleshooting","description":"This section covers the tools and data you need to monitor your 8x8 WhatsApp solution, diagnose issues, and understand operational costs. Effective monitoring involves a combination of 8x8 Connect portal analytics, API error handling, and processing real-time webhooks.","source":"@site/docs/connect/docs/whatsapp/operations-monitoring.md","sourceDirName":"connect/docs/whatsapp","slug":"/connect/docs/whatsapp/operations-monitoring","permalink":"/connect/docs/whatsapp/operations-monitoring","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"sidebar_label":"Operations & Monitoring"},"sidebar":"sidebarConnectDocs","previous":{"title":"Vertical Playbooks","permalink":"/connect/docs/whatsapp/vertical-playbooks"},"next":{"title":"Governance & Security","permalink":"/connect/docs/whatsapp/governance-security"}}');var o=s(74848),i=s(28453);const t={sidebar_label:"Operations & Monitoring"},a="Operations, Monitoring & Troubleshooting",d={},l=[{value:"Analytics &amp; Monitoring in 8x8 Connect",id:"analytics--monitoring-in-8x8-connect",level:2},{value:"1. Dashboard",id:"1-dashboard",level:3},{value:"2. Reports",id:"2-reports",level:3},{value:"3. Logs",id:"3-logs",level:3},{value:"Troubleshooting: API Errors (Synchronous)",id:"troubleshooting-api-errors-synchronous",level:2},{value:"Troubleshooting: Delivery Events (Asynchronous Webhooks)",id:"troubleshooting-delivery-events-asynchronous-webhooks",level:2},{value:"Asynchronous Error Webhook Payload",id:"asynchronous-error-webhook-payload",level:3},{value:"WhatsApp Error Codes",id:"whatsapp-error-codes",level:3},{value:"Operational Webhooks (Non-Error)",id:"operational-webhooks-non-error",level:2},{value:"1. Template Status &amp; Quality Updates",id:"1-template-status--quality-updates",level:3},{value:"2. Phone Number Quality &amp; Limit Updates",id:"2-phone-number-quality--limit-updates",level:3},{value:"WhatsApp Pricing Model (PMP)",id:"whatsapp-pricing-model-pmp",level:2},{value:"Pricing Model and Chargeable Events",id:"pricing-model-and-chargeable-events",level:3}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"operations-monitoring--troubleshooting",children:"Operations, Monitoring & Troubleshooting"})}),"\n",(0,o.jsx)(n.p,{children:"This section covers the tools and data you need to monitor your 8x8 WhatsApp solution, diagnose issues, and understand operational costs. Effective monitoring involves a combination of 8x8 Connect portal analytics, API error handling, and processing real-time webhooks."}),"\n",(0,o.jsx)(n.h2,{id:"analytics--monitoring-in-8x8-connect",children:"Analytics & Monitoring in 8x8 Connect"}),"\n",(0,o.jsx)(n.p,{children:"The 8x8 Connect portal provides a visual dashboard for monitoring your message activity."}),"\n",(0,o.jsx)(n.h3,{id:"1-dashboard",children:"1. Dashboard"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.strong,{children:"Dashboard"})," provides a high-level, filterable view of your key metrics, including:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Message Delivered vs. Undelivered:"})," Track successful and failed messages."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Delivery Rate:"})," Monitor your overall delivery percentage."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Received Messages:"})," See the volume of inbound messages from users."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"WhatsApp Conversations:"})," View a breakdown of conversations by Meta's categories (Authentication, Utility, Service, Marketing)."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"2-reports",children:"2. Reports"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.strong,{children:"Reports"})," tab provides a detailed, exportable breakdown of your WhatsApp conversation usage and costs, filterable by subaccount, channel, and date range."]}),"\n",(0,o.jsx)(n.h3,{id:"3-logs",children:"3. Logs"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.strong,{children:"Logs"})," tab provides a real-time, message-by-message list of all inbound and outbound messages. This is your primary tool for investigating a specific message failure. You can filter by:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Subaccount"}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Channel (WhatsApp)"}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Direction (Inbound/Outbound)"}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Status (e.g., ",(0,o.jsx)(n.code,{children:"Delivered"}),", ",(0,o.jsx)(n.code,{children:"Read"}),", ",(0,o.jsx)(n.code,{children:"Undelivered"}),", ",(0,o.jsx)(n.code,{children:"Rejected"}),")"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Country"}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"UMID (the 8x8 Unique Message ID)"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"troubleshooting-api-errors-synchronous",children:"Troubleshooting: API Errors (Synchronous)"}),"\n",(0,o.jsxs)(n.p,{children:["Synchronous errors are returned immediately in the API response to your ",(0,o.jsx)(n.code,{children:"POST"})," request. They indicate that your request itself was invalid and was never sent to WhatsApp."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsxs)(n.strong,{children:["Example Error Response (",(0,o.jsx)(n.code,{children:"400 Bad Request"}),"):"]})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n    "code": 1005,\n    "message": "Invalid parameter(s): \'user.msisdn\'",\n    "errorId": "a1b2c3d4-...",\n    "timestamp": "2025-11-10T10:30:00Z"\n}\n'})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"8x8 Code"}),(0,o.jsx)(n.th,{children:"8x8 Reason"}),(0,o.jsx)(n.th,{children:"How to Fix"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"1002"})}),(0,o.jsx)(n.td,{children:"Invalid MSISDN"}),(0,o.jsxs)(n.td,{children:["The ",(0,o.jsx)(n.code,{children:"user.msisdn"})," value is missing, incorrectly formatted, or does not include the country code."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"1005"})}),(0,o.jsx)(n.td,{children:"Invalid Parameter"}),(0,o.jsxs)(n.td,{children:["A required field is missing (like ",(0,o.jsx)(n.code,{children:"content.template"}),") or a field is misspelled. Check the ",(0,o.jsx)(n.code,{children:"message"})," for details."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"1200"})}),(0,o.jsx)(n.td,{children:"Unauthorized Access"}),(0,o.jsxs)(n.td,{children:["Your ",(0,o.jsx)(n.code,{children:"Authorization: Bearer"})," header is missing or your API key is incorrect."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"3038"})}),(0,o.jsx)(n.td,{children:"Template not found"}),(0,o.jsxs)(n.td,{children:["The ",(0,o.jsx)(n.code,{children:"name"})," or ",(0,o.jsx)(n.code,{children:"language"})," in your send payload does not match any approved template."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"3040"})}),(0,o.jsx)(n.td,{children:"Empty template parameters"}),(0,o.jsxs)(n.td,{children:["You sent a template that requires parameters (e.g., ",(0,o.jsx)(n.code,{children:"{{1}}"}),"), but you did not include a ",(0,o.jsx)(n.code,{children:"parameters"})," array in your ",(0,o.jsx)(n.code,{children:"components"})," object."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"3041"})}),(0,o.jsx)(n.td,{children:"Invalid Template parameter"}),(0,o.jsx)(n.td,{children:"You provided the wrong number of parameters (e.g., the template expected 2, you sent 1)."})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"troubleshooting-delivery-events-asynchronous-webhooks",children:"Troubleshooting: Delivery Events (Asynchronous Webhooks)"}),"\n",(0,o.jsxs)(n.p,{children:["Asynchronous errors occur ",(0,o.jsx)(n.em,{children:"after"})," you have successfully submitted your message (i.e., you received a ",(0,o.jsx)(n.code,{children:"200 OK"})," response). These errors indicate that Meta or the carrier could not deliver your message to the end-user."]}),"\n",(0,o.jsxs)(n.p,{children:["You are notified of these failures via the ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"outbound_message_status_changed"})})," webhook."]}),"\n",(0,o.jsx)(n.h3,{id:"asynchronous-error-webhook-payload",children:"Asynchronous Error Webhook Payload"}),"\n",(0,o.jsxs)(n.p,{children:["When a message fails, you will receive a webhook with ",(0,o.jsx)(n.code,{children:'state: "undelivered"'}),". The ",(0,o.jsx)(n.code,{children:"errorCode"})," and ",(0,o.jsx)(n.code,{children:"errorMessage"})," fields provide the reason."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "namespace": "ChatApps",\n  "eventType": "outbound_message_status_changed",\n  "description": "ChatApps outbound message delivery receipt",\n  "payload": {\n    "umid": "<UNIQUE_MESSAGE_ID>",\n    "subAccountId": "<SUBACCOUNT_ID>",\n    "channel": "whatsapp",\n    "user": { ... },\n    "status": {\n      "state": "undelivered",\n      "detail": "rejected_by_operator",\n      "timestamp": "2025-11-10T10:30:05Z",\n      "errorCode": 1022,\n      "errorMessage": "Message window expired"\n    }\n  }\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"whatsapp-error-codes",children:"WhatsApp Error Codes"}),"\n",(0,o.jsxs)(n.p,{children:["When a message fails to deliver, you'll receive an ",(0,o.jsx)(n.code,{children:"errorCode"})," and ",(0,o.jsx)(n.code,{children:"errorMessage"})," in the webhook payload. To understand what each error code means and how to resolve it, see the complete reference:"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["\ud83d\udcd8 ",(0,o.jsx)(n.strong,{children:"Error Code Reference"})]}),"\n",(0,o.jsxs)(n.p,{children:["For the complete list of all WhatsApp error codes, including Meta error code mappings, descriptions, and troubleshooting guidance, see the ",(0,o.jsx)(n.a,{href:"/connect/docs/delivery-error-codes#whatsapp-error-codes",children:"Messaging Apps Delivery Error Codes"})," reference."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"operational-webhooks-non-error",children:"Operational Webhooks (Non-Error)"}),"\n",(0,o.jsx)(n.p,{children:"In addition to delivery receipts, you should subscribe to these webhooks to monitor the health of your account and templates."}),"\n",(0,o.jsx)(n.h3,{id:"1-template-status--quality-updates",children:"1. Template Status & Quality Updates"}),"\n",(0,o.jsx)(n.p,{children:"These webhooks alert you to changes in your templates, such as rejection, approval, or a quality drop."}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"eventType: template_status_update"})}),": Fires when your template is ",(0,o.jsx)(n.code,{children:"APPROVED"}),", ",(0,o.jsx)(n.code,{children:"REJECTED"}),", ",(0,o.jsx)(n.code,{children:"PAUSED"}),", or ",(0,o.jsx)(n.code,{children:"DISABLED"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"eventType: template_quality_update"})}),": Fires when your template's quality score changes (e.g., from ",(0,o.jsx)(n.code,{children:"GREEN"})," to ",(0,o.jsx)(n.code,{children:"YELLOW"}),")."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"eventType: template_category_update"})}),": Fires if Meta automatically changes your template's category (e.g., from ",(0,o.jsx)(n.code,{children:"UTILITY"})," to ",(0,o.jsx)(n.code,{children:"MARKETING"}),")."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Sample Payload (Template Rejected):"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "eventId": "0f88f5c4-...",\n  "timestamp": "2025-01-01T00:00:00.00Z",\n  "provider": "WhatsApp",\n  "eventType": "template_status_update",\n  "eventDetails": {\n    "templateName": "<YOUR_TEMPLATE_NAME>",\n    "templateLanguage": "en_US",\n    "meta": {\n      "status": "REJECTED",\n      "reason": "INCORRECT_CATEGORY"\n    }\n  }\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"2-phone-number-quality--limit-updates",children:"2. Phone Number Quality & Limit Updates"}),"\n",(0,o.jsx)(n.p,{children:"This webhook alerts you to changes in your portfolio's messaging limit (e.g., an upgrade from TIER_1K to TIER_10K) or a change in your number's quality rating."}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"eventType: phone_number_quality_update"})})}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Sample Payload (Messaging Limit Upgrade):"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "eventId": "0f88f5c4-...",\n  "timestamp": "2025-01-01T00:00:00.00Z",\n  "provider": "WhatsApp",\n  "eventType": "phone_number_quality_update",\n  "eventDetails": {\n    "displayPhoneNumber": "15550783881",\n    "meta": {\n      "event": "UPGRADE",\n      "currentLimit": "TIER_10K",\n      "oldLimit": "TIER_1K"\n    }\n  }\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"whatsapp-pricing-model-pmp",children:"WhatsApp Pricing Model (PMP)"}),"\n",(0,o.jsxs)(n.p,{children:["WhatsApp Business pricing is based on a ",(0,o.jsx)(n.strong,{children:"Per-Message Pricing (PMP)"})," model. Charges are applied when a ",(0,o.jsx)(n.strong,{children:"template message"})," is delivered."]}),"\n",(0,o.jsx)(n.h3,{id:"pricing-model-and-chargeable-events",children:"Pricing Model and Chargeable Events"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Per-Message Pricing (PMP):"}),' As of July 1, 2025, charges apply only when a template message (type: "template") is delivered.']}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Rate Drivers:"})," Charges vary by two factors:"]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["The template's ",(0,o.jsx)(n.strong,{children:"category"})," (",(0,o.jsx)(n.code,{children:"marketing"}),", ",(0,o.jsx)(n.code,{children:"utility"}),", ",(0,o.jsx)(n.code,{children:"authentication"}),")."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["The recipient's WhatsApp phone number ",(0,o.jsx)(n.strong,{children:"country calling code"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Volume Tiers:"})," Volume discounts are available for ",(0,o.jsx)(n.code,{children:"utility"})," and ",(0,o.jsx)(n.code,{children:"authentication"})," categories. As your monthly message volume increases, you move into higher tiers with lower per-message rates."]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}}}]);