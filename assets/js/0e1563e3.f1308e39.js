"use strict";(globalThis.webpackChunk_8x8_developer_docs=globalThis.webpackChunk_8x8_developer_docs||[]).push([[46305],{28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>a});var l=s(96540);const r={},t=l.createContext(r);function i(e){const n=l.useContext(t);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),l.createElement(t.Provider,{value:n},e.children)}},65478:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"analytics/docs/work-analytics-call-legs","title":"Call Legs","description":"\ud83d\udcd8 Updated Endpoint","source":"@site/docs/analytics/docs/work-analytics-call-legs.md","sourceDirName":"analytics/docs","slug":"/analytics/docs/work-analytics-call-legs","permalink":"/analytics/docs/work-analytics-call-legs","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"sidebarAnalyticsDocs","previous":{"title":"Call Detail Records","permalink":"/analytics/docs/work-analytics-call-detail-records"},"next":{"title":"Company Summary","permalink":"/analytics/docs/work-analytics-company-summary"}}');var r=s(74848),t=s(28453);const i={},a="Call Legs",c={},d=[{value:"Call Legs Explained",id:"call-legs-explained",level:2},{value:"1. Authenticate to retrieve access token",id:"1-authenticate-to-retrieve-access-token",level:2},{value:"Parameters",id:"parameters",level:3},{value:"Headers",id:"headers",level:4},{value:"Body",id:"body",level:4},{value:"Authentication Request",id:"authentication-request",level:3},{value:"Authentication Response",id:"authentication-response",level:3},{value:"2. Run Report",id:"2-run-report",level:2},{value:"Parameters",id:"parameters-1",level:3},{value:"Headers",id:"headers-1",level:4},{value:"Path",id:"path",level:4},{value:"Query",id:"query",level:4},{value:"isConnectTime explained",id:"isconnecttime-explained",level:4},{value:"Call Legs Request",id:"call-legs-request",level:3},{value:"Call Legs Response",id:"call-legs-response",level:3},{value:"Pagination",id:"pagination",level:4}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"call-legs",children:"Call Legs"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\ud83d\udcd8 ",(0,r.jsx)(n.strong,{children:"Updated Endpoint"})]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.a,{href:"/analytics/docs/work-analytics-call-legs",children:"Call Legs"})," and ",(0,r.jsx)(n.a,{href:"/analytics/docs/work-analytics-call-detail-records",children:"Call Detail Records"})," are dedicated endpoints to replace the previous ",(0,r.jsx)(n.a,{href:"/analytics/docs/work-analytics-cdr-report",children:"Call Detail Record Legs"})," endpoint which served both purposes"]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\ud83d\udcd8"}),"\n",(0,r.jsx)(n.p,{children:"Note: This API provides access to data from the past 2 years only in accordance with Analytics for Work data compliance policies; queries spanning more than 2 years will return only the most recent 2 years of data, and queries outside this range will return no results"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"call-legs-explained",children:"Call Legs Explained"}),"\n",(0,r.jsx)(n.p,{children:"A Call Record is a single record view of the overall call and metrics represented by a single Call ID."}),"\n",(0,r.jsx)(n.p,{children:"A Call Leg provides detailed metrics on an individual segment of a call within the call journey and is represented by a Call Leg ID combined with a Call ID."}),"\n",(0,r.jsx)(n.p,{children:"Example: A Call Record would be a single row representation of a call that follows the following path which would have multiple Call Legs to fully represent the journey."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Inbound to an Auto Attendant"}),"\n",(0,r.jsx)(n.li,{children:"Transferred to Ring Group"}),"\n",(0,r.jsx)(n.li,{children:"Simultaneous calls to 5 Ring Group members (Leg per member contacted regardless of outcome)"}),"\n",(0,r.jsx)(n.li,{children:"Answered by one of the members"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/analytics/reference/authentication-1",children:"8x8 Work Analytics Historical"})," access is via this multi step process. For any of the endpoints the same process is followed."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\ud83d\udcd8 ",(0,r.jsx)(n.strong,{children:"You will need a working API key to begin"})]}),"\n",(0,r.jsxs)(n.p,{children:["You can generate API credentials from ",(0,r.jsx)(n.a,{href:"/analytics/docs/how-to-get-api-keys",children:"How to get API Keys"})]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"8x8-api-key"})," will be the ",(0,r.jsx)(n.code,{children:"Key"})," generated. For Work Analytics the Secret from Admin Console is not required."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Use the following base URL during this process:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"https://api.8x8.com/analytics/work"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"1-authenticate-to-retrieve-access-token",children:"1. Authenticate to retrieve access token"}),"\n",(0,r.jsxs)(n.p,{children:["You will use your API key combined with the user credentials of a user with permission and access to Work Analytics to authenticate, this user ",(0,r.jsx)(n.strong,{children:"does not need to be"})," the one who generated the API credentials"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\ud83d\udea7 ",(0,r.jsx)(n.strong,{children:"User must access Analytics at least once via browser"})]}),"\n",(0,r.jsx)(n.p,{children:"The users credentials will not be able to leverage the API until they have used Work Analytics via browser at least once"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Method: POST"})}),"\n",(0,r.jsx)(n.h4,{id:"headers",children:"Headers"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Name"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Example"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"8x8-apikey"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"The 8x8-api key provided"}),(0,r.jsx)(n.td,{children:"test_key_kjdfidj238jf9123df221"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Content-Type"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Set content type to form-urlencoded"}),(0,r.jsx)(n.td,{children:"application/x-www-form-urlencoded"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"body",children:"Body"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Name"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Example"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"username"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"The 8x8 username of a user with Work Analytics access privileges"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"mailto:someuser@acme.fakeco",children:"someuser@acme.fakeco"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"password"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"The 8x8 password of the user with Work Analytics access privileges"}),(0,r.jsx)(n.td,{children:"Rrnp5QBW6dTbx^TP"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"authentication-request",children:"Authentication Request"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"curl --location --request POST 'https://api.8x8.com/analytics/work/v1/oauth/token' \\\n--header '8x8-apikey: {8x8-apikey input here}' \\\n--header 'Content-Type: application/x-www-form-urlencoded' \\\n--data-urlencode 'username={8x8 username of user input here}' \\\n--data-urlencode 'password={8x8 password of user input here}'\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"authentication-response",children:"Authentication Response"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "access_token": "eyJhbGciOiJSUzI1NiJ9.yyyyyyy.zzzzzzzzzzz",\n  "token_type": "bearer",\n  "expires_in": 1800\n}\n\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Outputs For Next Step:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"access_token"}),"\n",(0,r.jsx)(n.li,{children:"expires_in"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The token will expire in the number of seconds specified in expires_in."}),"\n",(0,r.jsx)(n.p,{children:"The following steps will use the access_token as a Bearer Token form of authentication. This takes the form of the"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Authorization"})," header being set to ",(0,r.jsx)(n.code,{children:"Bearer access_token"})," (Space between Bearer and the access_token)"]}),"\n",(0,r.jsx)(n.h2,{id:"2-run-report",children:"2. Run Report"}),"\n",(0,r.jsx)(n.h3,{id:"parameters-1",children:"Parameters"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Method:"})," GET"]}),"\n",(0,r.jsx)(n.h4,{id:"headers-1",children:"Headers"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Name"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Example"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Authorization"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsxs)(n.td,{children:["Pass the access_token returned from the authentication request as a Bearer token ",(0,r.jsx)(n.code,{children:"Bearer {access_token}"})]}),(0,r.jsx)(n.td,{children:"Bearer eyJhbGciOiJSUzI1NiJ9.yyyyyyy.zzzzzzzzzzz"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"path",children:"Path"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Name"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Example"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"version"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"The current version for cdr is v1"}),(0,r.jsx)(n.td,{children:"v1"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"query",children:"Query"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Name"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Example"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"pbxId"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsxs)(n.td,{children:["Pass the pbxId (PBX Name) of the requested pbx or comma separated list of pbxIds or ",(0,r.jsx)(n.code,{children:"allpbxes"})," for all of the pbxs in the customer account. PBX names can be found ",(0,r.jsx)(n.a,{href:"https://admin.8x8.com/company/pbx",children:"here in Admin Console"})]}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"acmecorp,acmecorp2"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"startTime"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"The interval start time for CDR searches - the format is YYYY-MM-DD HH:MM:SS."}),(0,r.jsx)(n.td,{children:"2022-10-20 08:30:00"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"endTime"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"The interval end time for CDR searches - the format is YYYY-MM-DD HH:MM:SS."}),(0,r.jsx)(n.td,{children:"2022-10-20 19:00:00"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"timeZone"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.a,{href:"https://www.iana.org/time-zones",children:"IANA Time Zones"}),". Examples America/New_York, Europe/London ",(0,r.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones",children:"Wikipedia Time Zone List"})]}),(0,r.jsx)(n.td,{children:"America/New_York"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"pageSize"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsxs)(n.td,{children:["Number of records to return in pages See ",(0,r.jsx)(n.a,{href:"/analytics/docs/work-analytics-cdr-report#pagination",children:"Pagination"}),". Must be"]}),(0,r.jsx)(n.td,{children:"50"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"scrollId"}),(0,r.jsx)(n.td,{children:"\u2610/\u2713"}),(0,r.jsxs)(n.td,{children:["Not required for initial page required on subsequent pages. See ",(0,r.jsx)(n.a,{href:"/analytics/docs/work-analytics-cdr-report#pagination",children:"Pagination"})]}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"isConnectTime"}),(0,r.jsx)(n.td,{children:"\u2610"}),(0,r.jsxs)(n.td,{children:["This parameter allows you to get your results based on either connect time or disconnect time of each call leg. Default is false. See ",(0,r.jsx)(n.a,{href:"/analytics/docs/work-analytics-cdr-report#isconnecttime-explained",children:"isConnectTime explained"})," for more details."]}),(0,r.jsx)(n.td,{children:"false"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"isSimplified"}),(0,r.jsx)(n.td,{children:"\u2610"}),(0,r.jsx)(n.td,{children:"Only valid for Call Legs. Default is false. When true: Child calls are not returned. For example, child calls are the ones the service makes to one or more agents when a call comes into a call queue or a ring group. Some call legs are omitted. For example, the removal of CallForking and CallRecording legs."}),(0,r.jsx)(n.td,{children:"false"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"isconnecttime-explained",children:"isConnectTime explained"}),"\n",(0,r.jsx)(n.p,{children:"This looks at the timing of call legs and as such is not valid for call records"}),"\n",(0,r.jsxs)(n.p,{children:["if ",(0,r.jsx)(n.code,{children:"false"})," will use 'disconnected_time' of the call leg to filter data and return the result"]}),"\n",(0,r.jsxs)(n.p,{children:["if ",(0,r.jsx)(n.code,{children:"true"})," will use the 'connected_time' of the call leg to filter data and return the result"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"disconnected_time"})," is when the ",(0,r.jsx)(n.strong,{children:"call leg"})," was disconnected from the system"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"connected_time"})," is when the ",(0,r.jsx)(n.strong,{children:"call leg"})," transitioned from alerting to connected."]}),"\n",(0,r.jsx)(n.h3,{id:"call-legs-request",children:"Call Legs Request"}),"\n",(0,r.jsx)(n.p,{children:"As per the Open API specification guidelines, we have migrated the URLs for Call Leg Report as give in the below table :"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Deprecated URL Version"}),(0,r.jsx)(n.th,{children:"Migrated URL (Current version)"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"v1/cdr?isCallRecord=false"}),(0,r.jsx)(n.td,{children:"v2/call-legs"})]})})]}),"\n",(0,r.jsx)(n.p,{children:"Try out the CDR Legs Request"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\ud83d\udcd8 ",(0,r.jsxs)(n.strong,{children:["Jump in and try it out in the ",(0,r.jsx)(n.a,{href:"/analytics/reference/call-detail-record-legs",children:"CDR Legs Reference"})]})]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"curl --location --request GET 'https://api.8x8.com/analytics/work/v{version}/call-legs?pbxId={pbxId here}&startTime=2022-02-03 00:00:00&endTime=2022-02-03 10:00:00&timeZone=America/New_York&pageSize=50&isSimplified=false&isConnectTime=false' \\\n--header 'Authorization: Bearer {access_token here}' \\\n--header '8x8-apikey: {8x8-apikey input here}'\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"call-legs-response",children:"Call Legs Response"}),"\n",(0,r.jsxs)(n.p,{children:["For details on call legs metrics please refer to",(0,r.jsx)(n.a,{href:"https://docs.8x8.com/8x8WebHelp/8x8analytics-virtual-office/Content/VOA/call-detail-record.htm",children:"CDR Glossary and Details"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "meta": {\n        "totalRecordCount": 2,\n        "scrollId": "c3VwZXJ0ZW5hbnRjc21fMTYzNTU3MTA0ODM0NV8xXzE2NDM4OTc0OTI5MDM"\n    },\n    "data": [\n        {\n            "callId": "1635571048351",\n            "legId": "1",\n            "startTimeUTC": 1643898447499,\n            "startTime": "2022-02-03T09:27:27.499-0500",\n            "connectTimeUTC": 1643898447539,\n            "connectTime": "2022-02-03T09:27:27.539-0500",\n            "disconnectedTimeUTC": 1643898472253,\n            "disconnectedTime": "2022-02-03T09:27:52.253-0500",\n            "talkTimeMS": 0,\n            "talkTime": "00:00:00",\n            "caller": "+15555551220",\n            "callerName": "MARK SMITH",\n            "callee": "120088",\n            "calleeName": "Jane Li",\n            "lra": "120088",\n            "direction": "Incoming",\n            "parentCallId": null,\n            "transferToCallId": null,\n            "dnis": "12025555720",\n            "status": "Completed",\n            "callerDeviceId": null,\n            "calleeDeviceId": null,\n            "callerDeviceModel": "",\n            "calleeDeviceModel": "",\n            "callerId": "MARK SMITH,+15555551220",\n            "missed": "Missed",\n            "abandoned": "-",\n            "answered": "-",\n            "cause": "Ring No Answer",\n            "callerSvcName": null,\n            "callerSvcType": null,\n            "calleeSvcName": "VMadvanced",\n            "calleeSvcType": "Custom",\n            "lraType": 1,\n            "calleeHoldDurationMS": 0,\n            "calleeHoldDuration": "00:00:00",\n            "calleeDisconnectOnHold": "",\n            "callerDisconnectOnHold": "",\n            "pbxId": "acmecorppbx",\n            "sipCallId": "user@example.com",\n            "departments": [\n                "Sales Engineering"\n            ],\n            "branches": [\n                "Central"\n            ],\n            "recordServiceOn": "",\n            "bargeServiceOn": "",\n            "masterSlaveExts": "",\n            "propsLastPartyDisp": "Voicemail",\n            "accountCode": "",\n            "aaPath": "",\n            "callTime": 24754\n        },\n        {\n            "callId": "1635571048345",\n            "legId": "1",\n            "startTimeUTC": 1643897492903,\n            "startTime": "2022-02-03T09:11:32.903-0500",\n            "connectTimeUTC": 1643897493100,\n            "connectTime": "2022-02-03T09:11:33.100-0500",\n            "disconnectedTimeUTC": 1643899189420,\n            "disconnectedTime": "2022-02-03T09:39:49.420-0500",\n            "talkTimeMS": 0,\n            "talkTime": "00:00:00",\n            "caller": "+15551234567",\n            "callerName": "15551234567",\n            "callee": "CallQueue",\n            "calleeName": "Test Queue",\n            "lra": "110081",\n            "direction": "Incoming",\n            "parentCallId": null,\n            "transferToCallId": null,\n            "dnis": "15554441212",\n            "status": "Completed",\n            "callerDeviceId": null,\n            "calleeDeviceId": null,\n            "callerDeviceModel": "",\n            "calleeDeviceModel": "",\n            "callerId": "14164666541,+14164666541",\n            "missed": "Missed",\n            "abandoned": "Abandoned",\n            "answered": "-",\n            "cause": "Normal",\n            "callerSvcName": null,\n            "callerSvcType": null,\n            "calleeSvcName": "ACDOperatorService",\n            "calleeSvcType": "Custom",\n            "lraType": 4,\n            "calleeHoldDurationMS": 0,\n            "calleeHoldDuration": "00:00:00",\n            "calleeDisconnectOnHold": "",\n            "callerDisconnectOnHold": "",\n            "pbxId": "acmecorppbx",\n            "sipCallId": "user@example.com",\n            "departments": [\n                "East Office"\n            ],\n            "branches": [\n                "East Coast"\n            ],\n            "recordServiceOn": "",\n            "bargeServiceOn": "",\n            "masterSlaveExts": "",\n            "propsLastPartyDisp": "Missed",\n            "accountCode": "",\n            "aaPath": "",\n            "callTime": 1696517\n        }\n    ]\n}\n\n'})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\ud83d\udc4d ",(0,r.jsx)(n.strong,{children:"Follow the pagination steps below to retrieve subsequent pages."})]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"pagination",children:"Pagination"}),"\n",(0,r.jsx)(n.p,{children:"Within Work Analytics Only the /call-records and /call-legs endpoints are subject to pagination."}),"\n",(0,r.jsxs)(n.p,{children:["This is controlled by ",(0,r.jsx)(n.code,{children:"pageSize"})," and ",(0,r.jsx)(n.code,{children:"scrollId"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"pageSize"})," is the number of records to return per page and is required for /call-legs"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"scrollId"}),"  is returned from /call-legs requests providing an id for the next page of results."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Pagination Example"})}),"\n",(0,r.jsxs)(n.p,{children:["Assuming there will be 81 records in total. With an initial input of ",(0,r.jsx)(n.code,{children:"pageSize=50"})," the returned meta data will be as follows."]}),"\n",(0,r.jsx)(n.p,{children:"Note: data has been truncated to an empty array to limit the size of the example text"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    \n    "meta": {\n        "totalRecordCount": 81,\n        "scrollId": "c3VwZXJ0ZW5hbnRjc21fMTYzNTU3MTA0ODQ4Nl8xXzE2NDM5MTIzNTI0NDE"\n    },\n    "data": [\n    ]\n}\n\n'})}),"\n",(0,r.jsxs)(n.p,{children:["The request for the next page would include scrollId set as the value returned in the previous request ",(0,r.jsx)(n.code,{children:"pageKey=50&scrollId=c3VwZXJ0ZW5hbnRjc21fMTYzNTU3MTA0ODQ4Nl8xXzE2NDM5MTIzNTI0NDE"})]}),"\n",(0,r.jsx)(n.p,{children:"The new result set would look as follows. The returned result set would only have 31 elements."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "meta": {\n        "totalRecordCount": 81,\n        "scrollId": "c3VwZXJ0ZW5hbnRjc21fMTYzNTU3MTA0ODM0NV8xXzE2NDM4OTc0OTI5MDM"\n    },\n    "data": [\n    ]\n}\n\n'})}),"\n",(0,r.jsxs)(n.p,{children:["The request for the next page would be ",(0,r.jsx)(n.code,{children:"pageKey=50&scrollId=c3VwZXJ0ZW5hbnRjc21fMTYzNTU3MTA0ODM0NV8xXzE2NDM4OTc0OTI5MDM"})," the scrollId has been set to the value returned in the previous request"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "meta": {\n        "totalRecordCount": 0,\n        "scrollId": "No Data"\n    },\n    "data": []\n}\n\n'})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}}}]);