"use strict";(globalThis.webpackChunk_8x8_developer_docs=globalThis.webpackChunk_8x8_developer_docs||[]).push([[78439],{2625:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/product-return-exchange-88aa3aa2f307188e4fed90ce6ec03600.webp"},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>o});var r=t(96540);const a={},s=r.createContext(a);function i(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),r.createElement(s.Provider,{value:n},e.children)}},53343:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"connect/docs/whatsapp/whatsapp-flows-examples-retail","title":"Retail & eCommerce Flow Examples","description":"Product Return & Exchange","source":"@site/docs/connect/docs/whatsapp/whatsapp-flows-examples-retail.md","sourceDirName":"connect/docs/whatsapp","slug":"/connect/docs/whatsapp/whatsapp-flows-examples-retail","permalink":"/connect/docs/whatsapp/whatsapp-flows-examples-retail","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"sidebar_label":"Retail & eCommerce"},"sidebar":"sidebarConnectDocs","previous":{"title":"Flow Examples","permalink":"/connect/docs/whatsapp/whatsapp-flows-examples"},"next":{"title":"Financial Services","permalink":"/connect/docs/whatsapp/whatsapp-flows-examples-financial"}}');var a=t(74848),s=t(28453);const i={sidebar_label:"Retail & eCommerce"},o="Retail & eCommerce Flow Examples",l={},d=[{value:"Product Return &amp; Exchange",id:"product-return--exchange",level:2},{value:"Step 1: Create the Flow",id:"step-1-create-the-flow",level:3},{value:"Step 2: Publish the Flow",id:"step-2-publish-the-flow",level:3},{value:"Step 3: Send the Flow (Interactive Message)",id:"step-3-send-the-flow-interactive-message",level:3},{value:"Step 4: Handle the Submission",id:"step-4-handle-the-submission",level:3},{value:"Related Resources",id:"related-resources",level:2}];function c(e){const n={a:"a",code:"code",details:"details",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",summary:"summary",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"retail--ecommerce-flow-examples",children:"Retail & eCommerce Flow Examples"})}),"\n",(0,a.jsx)(n.h2,{id:"product-return--exchange",children:"Product Return & Exchange"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Product Return &amp; Exchange Flow",src:t(2625).A+"",width:"1806",height:"904"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Business Value:"})," Automate returns processing, reduce support tickets by 40%, capture structured data for quality insights, and improve customer satisfaction."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Scenario:"})," A customer wants to return or exchange a product. Instead of calling support or filling out web forms, they complete a WhatsApp Flow that collects order details, return reason, and resolution preference. Upon submission, your system validates the order, generates a return authorization, and sends the return label."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Tools Used:"})," Flow Configuration API + Messaging API + Webhook handler"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h3,{id:"step-1-create-the-flow",children:"Step 1: Create the Flow"}),"\n",(0,a.jsxs)(n.details,{children:["\n",(0,a.jsx)(n.summary,{children:"Click to view **Flow JSON Definition**"}),"\n",(0,a.jsx)(n.p,{children:"This Flow collects order information, return reason, and preferred resolution across 3 screens."}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Endpoint:"})," ",(0,a.jsx)(n.code,{children:"POST https://chatapps.8x8.com/config/v1/channels/whatsapp/{channelId}/flows"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "name": "Product Return & Exchange",\n  "categories": ["OTHER"],\n  "flowJson": "{\\"version\\":\\"7.2\\",\\"routing_model\\":{\\"ORDER_INFO\\":[\\"RETURN_DETAILS\\"],\\"RETURN_DETAILS\\":[\\"RESOLUTION\\"],\\"RESOLUTION\\":[]},\\"screens\\":[{\\"id\\":\\"ORDER_INFO\\",\\"title\\":\\"Return Request\\",\\"layout\\":{\\"type\\":\\"SingleColumnLayout\\",\\"children\\":[{\\"type\\":\\"TextHeading\\",\\"text\\":\\"Find Your Order\\"},{\\"type\\":\\"TextBody\\",\\"text\\":\\"Please enter the details exactly as they appear in your confirmation email.\\"},{\\"type\\":\\"Form\\",\\"name\\":\\"order_form\\",\\"children\\":[{\\"type\\":\\"TextInput\\",\\"name\\":\\"order_number\\",\\"label\\":\\"Order Number\\",\\"input-type\\":\\"text\\",\\"required\\":true,\\"helper-text\\":\\"Example: ORD-12345\\"},{\\"type\\":\\"TextInput\\",\\"name\\":\\"item_name\\",\\"label\\":\\"Item Name\\",\\"input-type\\":\\"text\\",\\"required\\":true,\\"helper-text\\":\\"Product name and size\\"},{\\"type\\":\\"TextInput\\",\\"name\\":\\"customer_email\\",\\"label\\":\\"Email Address\\",\\"input-type\\":\\"email\\",\\"required\\":true},{\\"type\\":\\"Footer\\",\\"label\\":\\"Continue\\",\\"on-click-action\\":{\\"name\\":\\"navigate\\",\\"next\\":{\\"type\\":\\"screen\\",\\"name\\":\\"RETURN_DETAILS\\"},\\"payload\\":{\\"order_number\\":\\"${form.order_number}\\",\\"item_name\\":\\"${form.item_name}\\",\\"customer_email\\":\\"${form.customer_email}\\"}}}]}]}},{\\"id\\":\\"RETURN_DETAILS\\",\\"title\\":\\"Return Reason\\",\\"data\\":{\\"order_number\\":{\\"type\\":\\"string\\",\\"__example__\\":\\"ORD-12345\\"},\\"item_name\\":{\\"type\\":\\"string\\",\\"__example__\\":\\"Denim Jacket\\"},\\"customer_email\\":{\\"type\\":\\"string\\",\\"__example__\\":\\"user@example.com\\"}},\\"layout\\":{\\"type\\":\\"SingleColumnLayout\\",\\"children\\":[{\\"type\\":\\"Form\\",\\"name\\":\\"details_form\\",\\"children\\":[{\\"type\\":\\"RadioButtonsGroup\\",\\"name\\":\\"return_reason\\",\\"label\\":\\"Reason for Return\\",\\"required\\":true,\\"data-source\\":[{\\"id\\":\\"wrong_size\\",\\"title\\":\\"Wrong Size\\"},{\\"id\\":\\"defective\\",\\"title\\":\\"Defective/Damaged\\"},{\\"id\\":\\"not_as_described\\",\\"title\\":\\"Not As Described\\"},{\\"id\\":\\"changed_mind\\",\\"title\\":\\"Changed My Mind\\"}]},{\\"type\\":\\"TextArea\\",\\"name\\":\\"additional_details\\",\\"label\\":\\"Additional Info\\",\\"required\\":false,\\"max-length\\":500,\\"helper-text\\":\\"Please provide more details (optional)\\"},{\\"type\\":\\"Footer\\",\\"label\\":\\"Continue\\",\\"on-click-action\\":{\\"name\\":\\"navigate\\",\\"next\\":{\\"type\\":\\"screen\\",\\"name\\":\\"RESOLUTION\\"},\\"payload\\":{\\"order_number\\":\\"${data.order_number}\\",\\"item_name\\":\\"${data.item_name}\\",\\"customer_email\\":\\"${data.customer_email}\\",\\"return_reason\\":\\"${form.return_reason}\\",\\"additional_details\\":\\"${form.additional_details}\\"}}}]}]}},{\\"id\\":\\"RESOLUTION\\",\\"title\\":\\"Resolution\\",\\"terminal\\":true,\\"data\\":{\\"order_number\\":{\\"type\\":\\"string\\",\\"__example__\\":\\"ORD-12345\\"},\\"item_name\\":{\\"type\\":\\"string\\",\\"__example__\\":\\"Denim Jacket\\"},\\"customer_email\\":{\\"type\\":\\"string\\",\\"__example__\\":\\"user@example.com\\"},\\"return_reason\\":{\\"type\\":\\"string\\",\\"__example__\\":\\"wrong_size\\"},\\"additional_details\\":{\\"type\\":\\"string\\",\\"__example__\\":\\"Fits too tight\\"}},\\"layout\\":{\\"type\\":\\"SingleColumnLayout\\",\\"children\\":[{\\"type\\":\\"TextHeading\\",\\"text\\":\\"Select Resolution\\"},{\\"type\\":\\"TextBody\\",\\"text\\":\\"How can we make this right? Please choose your preferred resolution method below.\\"},{\\"type\\":\\"Form\\",\\"name\\":\\"resolution_form\\",\\"children\\":[{\\"type\\":\\"RadioButtonsGroup\\",\\"name\\":\\"resolution_type\\",\\"label\\":\\"Preferred Solution\\",\\"required\\":true,\\"data-source\\":[{\\"id\\":\\"refund\\",\\"title\\":\\"Original Refund\\"},{\\"id\\":\\"exchange\\",\\"title\\":\\"Product Exchange\\"},{\\"id\\":\\"store_credit\\",\\"title\\":\\"Store Credit (+10%)\\"}]},{\\"type\\":\\"TextInput\\",\\"name\\":\\"exchange_pref\\",\\"label\\":\\"Exchange Item\\",\\"required\\":false,\\"helper-text\\":\\"Specify the new size or color\\"},{\\"type\\":\\"RadioButtonsGroup\\",\\"name\\":\\"contact_method\\",\\"label\\":\\"Contact Method\\",\\"required\\":true,\\"data-source\\":[{\\"id\\":\\"whatsapp\\",\\"title\\":\\"WhatsApp\\"},{\\"id\\":\\"email\\",\\"title\\":\\"Email\\"}]},{\\"type\\":\\"Footer\\",\\"label\\":\\"Submit Return\\",\\"on-click-action\\":{\\"name\\":\\"complete\\",\\"payload\\":{\\"order_number\\":\\"${data.order_number}\\",\\"item_name\\":\\"${data.item_name}\\",\\"customer_email\\":\\"${data.customer_email}\\",\\"return_reason\\":\\"${data.return_reason}\\",\\"additional_details\\":\\"${data.additional_details}\\",\\"resolution_type\\":\\"${form.resolution_type}\\",\\"exchange_pref\\":\\"${form.exchange_pref}\\",\\"contact_method\\":\\"${form.contact_method}\\"}}}]}]}}]}"\n}\n\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Response:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "id": "1234567890123456",\n  "success": true\n}\n\n'})}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"step-2-publish-the-flow",children:"Step 2: Publish the Flow"}),"\n",(0,a.jsxs)(n.details,{children:["\n",(0,a.jsx)(n.summary,{children:"Click to view **Publish Flow Request**"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Endpoint:"})," ",(0,a.jsx)(n.code,{children:"POST https://chatapps.8x8.com/config/v1/channels/whatsapp/{channelId}/flows/1234567890123456/publish"})]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Response:"})," ",(0,a.jsx)(n.code,{children:"200 OK"})," (no response body)"]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h3,{id:"step-3-send-the-flow-interactive-message",children:"Step 3: Send the Flow (Interactive Message)"}),"\n",(0,a.jsx)(n.p,{children:"This example uses an Interactive Flow message, sent within the 24-hour customer service window after the customer initiates a return request."}),"\n",(0,a.jsxs)(n.details,{children:["\n",(0,a.jsx)(n.summary,{children:"Click to view **Send Interactive Flow Message**"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Endpoint:"})," ",(0,a.jsx)(n.code,{children:"POST https://chatapps.8x8.com/api/v1/subaccounts/{subAccountId}/messages"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "user": {\n    "msisdn": "+15551234567"\n  },\n  "type": "Interactive",\n  "content": {\n    "interactive": {\n      "type": "flow",\n      "header": {\n        "type": "text",\n        "text": "Return or Exchange"\n      },\n      "body": {\n        "text": "We\'re sorry your purchase didn\'t work out. Let\'s make it right. Complete this form to start your return or exchange."\n      },\n      "action": {\n        "parameters": {\n          "flowId": "1234567890123456",\n          "flowCta": "Start Return"\n        }\n      },\n      "footer": {\n        "text": "Takes less than 2 minutes"\n      }\n    }\n  }\n}\n\n'})}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h3,{id:"step-4-handle-the-submission",children:"Step 4: Handle the Submission"}),"\n",(0,a.jsxs)(n.details,{children:["\n",(0,a.jsx)(n.summary,{children:"Click to view **Webhook Payload (Flow Submission)**"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "namespace": "ChatApps",\n  "eventType": "inbound_message_received",\n  "payload": {\n    "umid": "abc-123-def-456",\n    "subAccountId": "your-subaccount-id",\n    "timestamp": "2026-01-20T14:30:00.000Z",\n    "user": {\n      "msisdn": "+15551234567",\n      "channelUserId": "15551234567"\n    },\n    "recipient": {\n      "channel": "whatsapp",\n      "channelId": "your-channel-id"\n    },\n    "type": "Interactive",\n    "content": {\n      "interactive": {\n        "type": "nfmReply",\n        "nfmReply": {\n          "responseJson": "{\\"order_number\\":\\"ORD-98765\\",\\"item_name\\":\\"Blue Denim Jacket - Size M\\",\\"customer_email\\":\\"customer@example.com\\",\\"return_reason\\":\\"wrong_size\\",\\"additional_details\\":\\"Fits too small, need size L\\",\\"resolution_type\\":\\"exchange\\",\\"exchange_pref\\":\\"Same item in size L\\",\\"contact_method\\":\\"whatsapp\\",\\"flow_token\\":\\"<TOKEN>\\"}"\n        }\n      }\n    }\n  }\n}\n\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Processing the Submission:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"// Parse the Flow submission\nconst data = JSON.parse(payload.content.interactive.nfmReply.responseJson);\n\n// Validate order exists and is eligible for return\nconst order = await validateOrder(data.order_number, data.customer_email);\n\nif (!order.exists) {\n  await sendMessage(payload.user.msisdn,\n    \"We couldn't find that order. Please check your order number and try again.\");\n  return;\n}\n\nif (!order.eligibleForReturn) {\n  await sendMessage(payload.user.msisdn,\n    \"This order is outside the 30-day return window. Please contact support for assistance.\");\n  return;\n}\n\n// Generate return authorization\nconst returnAuth = await createReturnAuthorization({\n  orderId: order.id,\n  itemName: data.item_name,\n  reason: data.return_reason,\n  additionalDetails: data.additional_details,\n  resolutionType: data.resolution_type,\n  exchangePreference: data.exchange_pref,\n  customerEmail: data.customer_email\n});\n\n// Generate and send return shipping label\nconst shippingLabel = await generateShippingLabel({\n  returnAuthNumber: returnAuth.number,\n  customerAddress: order.shippingAddress\n});\n\n// Send confirmation with return label\nawait sendMessage(payload.user.msisdn, {\n  type: \"document\",\n  document: {\n    link: shippingLabel.url,\n    filename: `Return_Label_${returnAuth.number}.pdf`\n  },\n  caption: `Return authorized! Return #${returnAuth.number}\\n\\nPrint this label and attach it to your package. Drop it off at any shipping location.\\n\\nYou'll receive your ${data.resolution_type === 'refund' ? 'refund' : 'exchange'} within 5-7 business days after we receive your return.`\n});\n\n// Log for analytics and quality tracking\nawait logReturnRequest({\n  returnReason: data.return_reason,\n  resolutionType: data.resolution_type,\n  itemSku: order.itemSku,\n  orderDate: order.createdAt\n});\n\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Best Practices:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Validate Immediately:"})," Check order eligibility in real-time to prevent invalid returns"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Return Window:"})," Enforce your return policy (e.g., 30 days from delivery)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Fraud Prevention:"})," Match email/phone to original order to prevent abuse"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Quality Insights:"})," Track return reasons by product/SKU to identify quality issues"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Automation:"})," Auto-approve simple returns (wrong size), flag complex ones (defective) for review"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Customer Experience:"})," Send return label immediately, provide tracking updates"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"related-resources",children:"Related Resources"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.a,{href:"/connect/docs/whatsapp/whatsapp-flows-ui-guide",children:"WhatsApp Flows in 8x8 Connect"})})," - Complete guide for creating Flows using 8x8 Connect portal"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.a,{href:"/connect/docs/whatsapp/whatsapp-flows-api",children:"WhatsApp Flows API Reference"})})," - API documentation for programmatic Flow management"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.a,{href:"/connect/docs/whatsapp/whatsapp-flows-examples",children:"All Flow Examples"})})," - Browse examples from other industries"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}}}]);