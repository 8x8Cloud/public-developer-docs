"use strict";(globalThis.webpackChunk_8x8_developer_docs=globalThis.webpackChunk_8x8_developer_docs||[]).push([[89429],{28453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>c});var a=i(96540);const r={},s=a.createContext(r);function t(e){const n=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),a.createElement(s.Provider,{value:n},e.children)}},71626:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"jaas/docs/jaas-prefs-recording","title":"Recording","description":"Overview","source":"@site/docs/jaas/docs/jaas-prefs-recording.md","sourceDirName":"jaas/docs","slug":"/jaas/docs/jaas-prefs-recording","permalink":"/jaas/docs/jaas-prefs-recording","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"sidebarJaas","previous":{"title":"Meeting security","permalink":"/jaas/docs/jaas-prefs-security"},"next":{"title":"Advanced branding","permalink":"/jaas/docs/jaas-prefs-advanced-branding"}}');var r=i(74848),s=i(28453);const t={},c="Recording",o={},d=[{value:"Overview",id:"overview",level:2},{value:"Video Demo",id:"video-demo",level:2},{value:"Recording File",id:"recording-file",level:2},{value:"Chat Transcript",id:"chat-transcript",level:2},{value:"Match Chat Transcript Message to Participant",id:"match-chat-transcript-message-to-participant",level:3}];function l(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",iframe:"iframe",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"recording",children:"Recording"})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(n.p,{children:["JaaS allows meeting recording, but it only stores it for 24 hours. In order to preserve the recording, you must listen for ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"RECORDING_UPLOADED"})})," event on a ",(0,r.jsx)(n.a,{href:"/jaas/docs/webhooks-overview",children:"webhook"})," and download the recording from the ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"preAuthenticatedLink"})})," of the ",(0,r.jsx)(n.a,{href:"/jaas/docs/webhooks-payload#recording_uploaded",children:"payload"}),". In normal cases the recording will be uploaded within a minute of the room ending."]}),"\n",(0,r.jsx)(n.p,{children:"A recording session is limited to a maximum of 6 hours. If there is a need for a longer recording, simply start recording/streaming again using start recording event"}),"\n",(0,r.jsx)(n.h2,{id:"video-demo",children:"Video Demo"}),"\n",(0,r.jsx)(n.p,{children:"This quick video demo will take you through how recording works within JaaS, including receiving the necessary webhooks for downloading the recordings and chat transcripts, viewing a sample recording file and viewing a chat transcript."}),"\n",(0,r.jsx)(n.iframe,{src:"https://www.youtube.com/embed/OQEDpfyOBWI?si=t-Ewz46SEx9vIy1v",height:"500px",width:"100%",allow:"picture-in-picture; web-share",allowFullScreen:!0,children:"\n"}),"\n",(0,r.jsx)(n.h2,{id:"recording-file",children:"Recording File"}),"\n",(0,r.jsxs)(n.p,{children:["The Recording file will be available once you receive the ",(0,r.jsx)(n.strong,{children:"RECORDING_UPLOADED"})," webhook."]}),"\n",(0,r.jsxs)(n.p,{children:["The file will be saved as an ",(0,r.jsx)(n.strong,{children:".mp4"})," file. The recording file will show the perspective of the participant who started the recording."]}),"\n",(0,r.jsx)(n.iframe,{src:"https://www.youtube.com/embed/R0p6ppj-ebE?si=J_T-r_EFWe6uJ2Tn",height:"500px",width:"100%",allow:"picture-in-picture; web-share",allowFullScreen:!0,children:"\n"}),"\n",(0,r.jsx)(n.h2,{id:"chat-transcript",children:"Chat Transcript"}),"\n",(0,r.jsxs)(n.p,{children:["The Chat Transcript will be available for download once you receive the ",(0,r.jsx)(n.strong,{children:"CHAT_UPLOADED"})," webhook."]}),"\n",(0,r.jsxs)(n.p,{children:["The file will be a JSON file, a sample of which is provided below. The ",(0,r.jsx)(n.strong,{children:"<app_id>"})," will be substituted with your JaaS App ID. The ",(0,r.jsx)(n.strong,{children:"messages"})," array will contain the message body that was sent under ",(0,r.jsx)(n.strong,{children:"content"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Chat Transcript from CHAT_UPLOADED Webhook"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "roomAddress": "[<app_id>]sampleappexplosivecertaintiesresultuneasily@conference.8x8.vc",\n    "meetingFqn": "<app_id>/sampleappexplosivecertaintiesresultuneasily",\n    "sessionId": "bcf942bf-e274-4a2b-bd7d-b34c44106add",\n    "timestamp": 1719366188545,\n    "messageType": "CHAT",\n    "messages": [\n        {\n            "jid": "8e1fd0e1-990e-4093-9ab9-3e31a0ae87ba@8x8.vc/IE3VvYnRfMgt",\n            "content": "hello",\n            "timestamp": 1719366173483\n        },\n        {\n            "jid": "8e1fd0e1-990e-4093-9ab9-3e31a0ae87ba@8x8.vc/IE3VvYnRfMgt",\n            "content": "this is a test message",\n            "timestamp": 1719366177102\n        },\n        {\n            "jid": "c97cc007-f4ed-4102-b84e-d2a6ff42e6c7@8x8.vc/wc-hPesDyaYW",\n            "content": "this is a test message",\n            "timestamp": 1719366182937\n        }\n    ]\n}\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"match-chat-transcript-message-to-participant",children:"Match Chat Transcript Message to Participant"}),"\n",(0,r.jsxs)(n.p,{children:["In order to match the participant with their message, you can use the ",(0,r.jsx)(n.strong,{children:"jid"})," field insisde the ",(0,r.jsx)(n.strong,{children:"messages"})," array to match the participant to the ",(0,r.jsx)(n.strong,{children:"participantFullJid"})," field from the ",(0,r.jsx)(n.strong,{children:"PARTICIPANT_JOINED"})," webhook event."]}),"\n",(0,r.jsxs)(n.p,{children:["In this case we can see the ",(0,r.jsx)(n.strong,{children:"participantFullJid"})," field matches the jid in the chat transcript so we can match this chat transcript message to this participant."]}),"\n",(0,r.jsx)(n.p,{children:"PARTICIPANT_JOINED Webhook"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "appId": "<app_id>",\n    "customerId": "60d15ff098c04d71aa5fe31e06bf866e",\n    "data": {\n        "avatar": "",\n        "conference": "sampleappexplosivecertaintiesresultuneasily@conference.<app_id>.8x8.vc",\n        "email": "redacted@8x8.com",\n        "flip": false,\n        "hidden-from-recorder": false,\n        "id": "google-oauth2|112808115779146378286",\n        "isBreakout": false,\n        "moderator": true,\n        "name": "rommel.sunga",\n        "participantFullJid": "c97cc007-f4ed-4102-b84e-d2a6ff42e6c7@8x8.vc/wc-hPesDyaYW",\n        "participantId": "c97cc007",\n        "participantJid": "c97cc007-f4ed-4102-b84e-d2a6ff42e6c7@8x8.vc"\n    },\n    "eventType": "PARTICIPANT_JOINED",\n    "fqn": "<app_id>/sampleappexplosivecertaintiesresultuneasily",\n    "idempotencyKey": "58cda65b-434c-4332-a1a1-d3e10dae9b1e",\n    "sessionId": "bcf942bf-e274-4a2b-bd7d-b34c44106add",\n    "timestamp": 1719366103829\n}\n\n'})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);