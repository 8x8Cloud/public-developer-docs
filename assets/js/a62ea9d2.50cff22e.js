"use strict";(self.webpackChunk_8x8_developer_docs=self.webpackChunk_8x8_developer_docs||[]).push([[86449],{22224:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>l,frontMatter:()=>o,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"actions-events/docs/webhooks-events-reference","title":"Webhooks Events Reference","description":"Webhook events are how 8x8 notifies bots or integrations when an event occurs such as when an agent sends a message.","source":"@site/docs/actions-events/docs/webhooks-events-reference.md","sourceDirName":"actions-events/docs","slug":"/actions-events/docs/webhooks-events-reference","permalink":"/production/actions-events/docs/webhooks-events-reference","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"sidebarActionsEventsDocs","previous":{"title":"Webhooks","permalink":"/production/actions-events/docs/webhooks-2"},"next":{"title":"Validating Webhook Events","permalink":"/production/actions-events/docs/validating-webhook-events"}}');var r=s(74848),i=s(28453);const o={},d="Webhooks Events Reference",c={},a=[{value:"List of webhook events",id:"list-of-webhook-events",level:2},{value:"Event format",id:"event-format",level:2},{value:"CONVERSATION_UPDATE",id:"conversation_update",level:3},{value:"QUEUED",id:"queued",level:3},{value:"MEMBERS_CHANGED",id:"members_changed",level:3},{value:"TRANSFER",id:"transfer",level:3},{value:"MESSAGE",id:"message",level:3},{value:"ACTIVITY",id:"activity",level:3},{value:"WEB_HOOK_VERIFY",id:"web_hook_verify",level:3}];function h(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"webhooks-events-reference",children:"Webhooks Events Reference"})}),"\n",(0,r.jsx)(n.p,{children:"Webhook events are how 8x8 notifies bots or integrations when an event occurs such as when an agent sends a message."}),"\n",(0,r.jsxs)(n.p,{children:["Events are sent as ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"POST"})})," calls to your webhook."]}),"\n",(0,r.jsx)(n.h2,{id:"list-of-webhook-events",children:"List of webhook events"}),"\n",(0,r.jsx)(n.p,{children:"The following table lists events that can be sent to your webhook:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Webhook Event"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"CONVERSATION_UPDATE"})})}),(0,r.jsx)(n.td,{children:(0,r.jsxs)(n.em,{children:["See ",(0,r.jsx)(n.a,{href:"/actions-events/docs/webhooks-events-reference#conversation_update",children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"CONVERSATION_UPDATE"})})})]})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"QUEUED"})})}),(0,r.jsx)(n.td,{children:(0,r.jsxs)(n.em,{children:["See ",(0,r.jsx)(n.a,{href:"/actions-events/docs/webhooks-events-reference#queued",children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"QUEUED"})})})]})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"MEMBERS_CHANGED"})})}),(0,r.jsx)(n.td,{children:(0,r.jsxs)(n.em,{children:["See ",(0,r.jsx)(n.a,{href:"/actions-events/docs/webhooks-events-reference#members_changed",children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"MEMBERS_CHANGED"})})})]})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"TRANSFER"})})}),(0,r.jsxs)(n.td,{children:["See ",(0,r.jsx)(n.a,{href:"/actions-events/docs/webhooks-events-reference#transfer",children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"TRANSFER"})})})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"MESSAGE"})})}),(0,r.jsxs)(n.td,{children:["See ",(0,r.jsx)(n.a,{href:"/actions-events/docs/webhooks-events-reference#message",children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"MESSAGE"})})})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"ACTIVITY"})})}),(0,r.jsxs)(n.td,{children:["See ",(0,r.jsx)(n.a,{href:"/actions-events/docs/webhooks-events-reference#activity",children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"ACTIVITY"})})})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"WEB_HOOK_VERIFY"})})}),(0,r.jsxs)(n.td,{children:["See ",(0,r.jsx)(n.a,{href:"/actions-events/docs/webhooks-events-reference#web_hook_verify",children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"WEB_HOOK_VERIFY"})})})]})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"event-format",children:"Event format"}),"\n",(0,r.jsxs)(n.p,{children:["All 8x8 events have the common property ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"eventType"})})," that provides the information for processing and handling the event. Each event contains a set of specific detailed properties."]}),"\n",(0,r.jsxs)(n.p,{children:["Based on the ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"eventType"})})," and the webhook version, you can determine the other properties expected in the event envelope."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "eventType": "CONVERSATION_UPDATE",\n  ...\n}\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"conversation_update",children:"CONVERSATION_UPDATE"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"CONVERSATION_UPDATE"})}),"  event is sent whenever the conversation changes."]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"queueId"})}),"  and ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"queueName"})}),"  attributes provide information about the queue in which your conversation is waiting. You can use the queue ID to fetch additional information (e.g., statistical data) about the queue like the ",(0,r.jsx)(n.strong,{children:"average waiting time in queue"})," or ",(0,r.jsx)(n.strong,{children:"queue size"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "eventType": "CONVERSATION_UPDATE",\n  "conversationId": "ID-0",\n  "timestamp": 0,\n  "data": {\n    "state": "active",\n    "assignment": {\n      "type": "agent",\n      "id": "agb7CaTIXvQPWmPKmTu1rJjw",\n      "resourceId": "string"\n    },\n    "user": {\n      "name": "string",\n      "userId": "string",\n      "email": "user@example.com",\n      "phone": "string",\n      "company": "string",\n      "caseId": "string",\n      "language": "en",\n      "additionalProperties": \n        [\n          {\n            "key": "string", \n            "value": "string"\n          }\n        ]\n    }\n  }\n}\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"queued",children:"QUEUED"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"QUEUED"})}),"  event is sent whenever the interaction is being queued for processing."]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"queueId"})}),"  and ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"queueName"})}),"  attributes provide information about the queue in which your conversation is waiting. You can use the queue ID to fetch additional information (e.g., statistical data) about the queue like the ",(0,r.jsx)(n.strong,{children:"average waiting time in queue"})," or ",(0,r.jsx)(n.strong,{children:"queue size"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "eventType": "QUEUED",\n  "conversationId": "ID-0",\n  "timestamp": 0,\n  "data": {\n    "queueId": "string",\n    "queueName": "string"\n  }\n}\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"members_changed",children:"MEMBERS_CHANGED"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"MEMBERS_CHANGED"})})," event is sent whenever members other than the bot joined or left the conversation"]}),"\n",(0,r.jsx)(n.p,{children:"Agent joined event notification indicates that the agent has seen the messages that were added to the conversation, prior to the integration, and has observed any follow-up messages."}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"id"})})," attribute provides information about the agent handling the interaction or the user."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "eventType": "MEMBERS_CHANGED",\n  "conversationId": "ID-0",\n  "timestamp": 0,\n  "data": {\n    "memberType": "user", // [user, agent]\n    "change": "joined",   // [joined, left]\n    "id": "string"\n  }\n}\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"transfer",children:"TRANSFER"}),"\n",(0,r.jsxs)(n.p,{children:["A ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"TRANSFER"})})," event is sent whenever the handling agent transferred the conversation to another queue. This indicates that the ",(0,r.jsx)(n.a,{href:"/actions-events/docs/webhooks-events-reference#members_changed",children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"MEMBERS_CHANGED"})})}),"  event for a memberType ",(0,r.jsx)(n.strong,{children:'"agent"'})," with a change of type ",(0,r.jsx)(n.strong,{children:'"left"'})," does not mark the end of the conversation and that another ",(0,r.jsx)(n.a,{href:"/actions-events/docs/webhooks-events-reference#members_changed",children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"MEMBERS_CHANGED"})})}),"  event follows, with a change of type ",(0,r.jsx)(n.strong,{children:'"joined"'})," for a memberType ",(0,r.jsx)(n.strong,{children:'"agent"'}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "eventType": "TRANSFER",\n  "conversationId": "ID-0",\n  "timestamp": 0\n}\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"message",children:"MESSAGE"}),"\n",(0,r.jsxs)(n.p,{children:["A ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"MESSAGE"})})," event is sent whenever one of the participants adds a new message to the conversation. The ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"TEXT"})})," event contains attribute information and is conveyed by the agent in string format."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "eventType": "MESSAGE",\n  "conversationId": "ID-0",\n  "timestamp": 0,\n  "data": {\n    "isEcho": true,\n    "sender": {\n      "id": "string",\n      "type": ""\n    },\n    "text": "string",\n    "attachments": [\n      {\n        "id": "string"\n      }\n    ],\n    "cards": [\n      {\n        "contentType": "application/vnd.microsoft.card.adaptive",\n        "content": {}\n      }\n    ]\n  }\n}\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"activity",children:"ACTIVITY"}),"\n",(0,r.jsxs)(n.p,{children:["A ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"ACTIVITY"})})," event is sent whenever a non-message action was taken by the user and it would benefit the bot to know the result of that action in order to serve it with the next message. As ",(0,r.jsx)(n.a,{href:"https://adaptivecards.io/",children:"Adaptive Cards V1.3"})," are supported, the ",(0,r.jsx)(n.em,{children:"Action.Submit"})," data will be passed back to bot so he can evaluate the response"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "eventType": "ACTIVITY",\n  "conversationId": "ID-0",\n  "timestamp": 0,\n  "data": {\n    "name": "adaptiveCard/action",\n    "value": {\n      "type": "Action.Submit",\n      "data": {...}\n    }\n  }\n}\n\n'})}),"\n",(0,r.jsx)(n.p,{children:"Users typing events will be caught as an activity. Users actively timing will be present in the users' list, and if you receive an activity event of type typing with an empty list, it means they stopped."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "eventType": "ACTIVITY",\n  "conversationId": "ID-0",\n  "timestamp": 0,\n  "data": {\n    "name": "typing",\n    "value": {\n      "users": [\n        {\n          "type": "agent",\n          "id": "string"\n        }\n      ]\n    }\n  }\n}\n\n'})}),"\n",(0,r.jsx)(n.p,{children:"When the user responds to a quick reply widget, an activity is sent with the value selected (title) and the identification (payload)."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "eventType": "ACTIVITY",\n  "conversationId": "ID-0",\n  "timestamp": 0,\n  "data": {\n    "name": "quickReply/action",\n    "value": {\n      "type": "postback",\n      "data": {\n        "title": "123",\n        "payload": "1"\n      }\n    }\n  }\n}\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"web_hook_verify",children:"WEB_HOOK_VERIFY"}),"\n",(0,r.jsxs)(n.p,{children:["When you add a webhook you receive a ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"WEB_HOOK_VERIFY"})})," verification event to confirm that a server is listening behind the server address. This functionality prevents typos, invalid URLs, and other issues that may require further troubleshooting. The server that receives this verification event must respond with a 2XX status code."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "notificationVersion": "Chat Gateway v1.0",\n  "eventType": "WEB_HOOK_VERIFY"\n}\n\n'})})]})}function l(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>d});var t=s(96540);const r={},i=t.createContext(r);function o(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);