"use strict";(globalThis.webpackChunk_8x8_developer_docs=globalThis.webpackChunk_8x8_developer_docs||[]).push([[12251],{28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>d});var t=s(96540);const i={},r=t.createContext(i);function o(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(r.Provider,{value:n},e.children)}},65174:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/951ebb3e14b474f43779ba8f88ef4af2d65cd9e9107b9116b1d4edca61a60a8a-image-54806b6f44126dc002de208c66c07378.png"},93301:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>a,frontMatter:()=>o,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"connect/docs/zendesk-notifications-webhooks","title":"Zendesk - Notifications Webhook","description":"Learn how to send Zendesk notifications via SMS or Messaging Apps from 8x8","source":"@site/docs/connect/docs/zendesk-notifications-webhooks.md","sourceDirName":"connect/docs","slug":"/connect/docs/zendesk-notifications-webhooks","permalink":"/connect/docs/zendesk-notifications-webhooks","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"sidebarConnectDocs","previous":{"title":"Zendesk Support","permalink":"/connect/docs/zendesk-support"},"next":{"title":"8x8 Converse - Overview","permalink":"/connect/docs/converse-overview"}}');var i=s(74848),r=s(28453);const o={},d="Zendesk - Notifications Webhook",c={},l=[{value:"What you\u2019ll build",id:"what-youll-build",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Choose the correct 8x8 endpoint",id:"choose-the-correct-8x8-endpoint",level:2},{value:"Step 1: Create the Zendesk Webhook",id:"step-1-create-the-zendesk-webhook",level:2},{value:"Step 2: Create a Trigger that calls the webhook",id:"step-2-create-a-trigger-that-calls-the-webhook",level:2},{value:"Payloads",id:"payloads",level:2},{value:"Option A: SMS (8x8 SMS API)",id:"option-a-sms-8x8-sms-api",level:3},{value:"Option B: WhatsApp (8x8 Messaging API)",id:"option-b-whatsapp-8x8-messaging-api",level:3},{value:"Testing",id:"testing",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"FAQ",id:"faq",level:2},{value:"Appendix: Example end-to-end flows",id:"appendix-example-end-to-end-flows",level:2},{value:"A. Notify by SMS when ticket is solved",id:"a-notify-by-sms-when-ticket-is-solved",level:3},{value:"B. Notify by WhatsApp when a public comment is added",id:"b-notify-by-whatsapp-when-a-public-comment-is-added",level:3},{value:"C. Notify when a specific tag is added (fires once)",id:"c-notify-when-a-specific-tag-is-added-fires-once",level:3}];function h(e){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"zendesk---notifications-webhook",children:"Zendesk - Notifications Webhook"})}),"\n",(0,i.jsx)(n.p,{children:"Learn how to send Zendesk notifications via SMS or Messaging Apps from 8x8"}),"\n",(0,i.jsxs)(n.p,{children:["You can send ",(0,i.jsx)(n.strong,{children:"SMS"})," or ",(0,i.jsx)(n.strong,{children:"Messaging Apps"})," notifications automatically from ",(0,i.jsx)(n.strong,{children:"Zendesk"})," using ",(0,i.jsx)(n.strong,{children:"Webhooks"})," + ",(0,i.jsx)(n.strong,{children:"Triggers"}),". This guide outlines precisely how you can achieve this."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"what-youll-build",children:"What you\u2019ll build"}),"\n",(0,i.jsxs)(n.p,{children:["Turn Zendesk into an ",(0,i.jsx)(n.strong,{children:"auto-notify engine"})," that keeps customers updated without agent busywork."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Business outcomes"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Fewer \u201cany update?\u201d tickets"})," via proactive SMS/WhatsApp."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Faster resolutions"})," with clear, timely status pings."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Consistent, compliant messaging"})," using templates + placeholders."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Low effort for agents"})," (tag/macro triggers do the sending)."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"How it works"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Define the ",(0,i.jsx)(n.strong,{children:"moments that matter"})," (status change, public comment, or a \u201cnotify\u201d tag)."]}),"\n",(0,i.jsxs)(n.li,{children:["A Zendesk ",(0,i.jsx)(n.strong,{children:"Trigger"})," calls a ",(0,i.jsx)(n.strong,{children:"Zendesk Webhook"})," that posts to the ",(0,i.jsx)(n.strong,{children:"8x8 SMS or Messaging API"})," endpoint."]}),"\n",(0,i.jsxs)(n.li,{children:["Zendesk renders the ",(0,i.jsx)(n.strong,{children:"message template"})," and 8x8 delivers it."]}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["A ",(0,i.jsx)(n.strong,{children:"Zendesk Webhook"})," that posts JSON to 8x8 CPaaS."]}),"\n",(0,i.jsxs)(n.li,{children:["A ",(0,i.jsx)(n.strong,{children:"Trigger"})," that calls the webhook when ticket conditions are met (e.g., status change, public comment, or tag added)."]}),"\n",(0,i.jsxs)(n.li,{children:["A JSON ",(0,i.jsx)(n.strong,{children:"payload"})," that Zendesk renders with placeholders (like ",(0,i.jsx)(n.code,{children:"{{ticket.id}}"}),") before sending to 8x8."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"8x8 Connect"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Subaccount ID"})," with ",(0,i.jsx)(n.strong,{children:"SMS API"})," enabled for SMS use along with registered Sender ID/Virtual Number for the destination countries you intend to send SMS to."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Subaccount ID"})," with a WhatsApp channel onboarded + pre-approved templates that you intend to use"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"API Key"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Zendesk"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Admin access to ",(0,i.jsx)(n.strong,{children:"Admin Center"})," (to create Webhooks and Triggers)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.em,{children:"Optional"}),": Help Center enabled if you plan to use ",(0,i.jsx)(n.code,{children:"{{ticket.link}}"})," for end-user links."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"choose-the-correct-8x8-endpoint",children:"Choose the correct 8x8 endpoint"}),"\n",(0,i.jsxs)(n.p,{children:["8x8 provides ",(0,i.jsx)(n.strong,{children:"region-specific"})," base URLs. If your tenant is bound to a region, use that region\u2019s host. When in doubt, start with the global host and consult your 8x8 representative."]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Channel"}),(0,i.jsx)(n.th,{children:"Base URL (regional)"}),(0,i.jsx)(n.th,{children:"Send endpoint (append to base)"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"SMS"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"https://sms.8x8.com"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/api/v1/subaccounts/{subAccountId}/messages"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Messaging"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"https://chatapps.8x8.com"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/api/v1/subaccounts/{subAccountId}/messages"})})]})]})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Examples (final URL):"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["SMS: ",(0,i.jsx)(n.code,{children:"https://sms.8x8.com/api/v1/subaccounts/{subAccountId}/messages"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Messaging: ",(0,i.jsx)(n.code,{children:"https://chatapps.8x8.com/api/v1/subaccounts/{subAccountId}/messages"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\ud83d\udcd8 Ensure your endpoint base url is accurate"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Platform Deployment Regions:"})," ",(0,i.jsx)(n.a,{href:"/connect/docs/data-center-region",children:"/connect/docs/data-center-region"})]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"step-1-create-the-zendesk-webhook",children:"Step 1: Create the Zendesk Webhook"}),"\n",(0,i.jsxs)(n.p,{children:["Create ",(0,i.jsx)(n.strong,{children:"one webhook per channel"})," (one for SMS, one for WhatsApp)."]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["In ",(0,i.jsx)(n.strong,{children:"Zendesk Admin Center"})," \u2192 ",(0,i.jsx)(n.strong,{children:"Apps and integrations"})," \u2192 ",(0,i.jsx)(n.strong,{children:"Webhooks"})," \u2192 ",(0,i.jsx)(n.strong,{children:"Create webhook"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Name"}),": ",(0,i.jsx)(n.code,{children:"8x8 SMS Send"})," (and/or ",(0,i.jsx)(n.code,{children:"8x8 WhatsApp Send"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Endpoint URL"}),":\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["SMS: ",(0,i.jsx)(n.code,{children:"https://sms.8x8.com/api/v1/subaccounts/{subAccountId}/messages"})]}),"\n",(0,i.jsxs)(n.li,{children:["WhatsApp: ",(0,i.jsx)(n.code,{children:"https://chatapps.8x8.com/api/v1/subaccounts/{subAccountId}/messages"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Request method"}),": ",(0,i.jsx)(n.code,{children:"POST"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Request format"}),": ",(0,i.jsx)(n.code,{children:"JSON"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Authentication"}),": choose ",(0,i.jsx)(n.strong,{children:"Bearer token"})," and paste your ",(0,i.jsx)(n.strong,{children:"8x8 API key"})," (Zendesk will send ",(0,i.jsx)(n.code,{children:"Authorization: Bearer <token>"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:["(Optional) ",(0,i.jsx)(n.strong,{children:"Custom headers"}),":\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Accept: application/json"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsxs)(n.em,{children:["(Zendesk sets ",(0,i.jsx)(n.code,{children:"Content-Type: application/json"})," automatically for JSON format.)"]})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Create"})," (and you may ",(0,i.jsx)(n.strong,{children:"Test"})," with a sample body later)."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image",src:s(65174).A+"",width:"1214",height:"1112"})}),"\n",(0,i.jsx)(n.p,{children:"Repeat for the WhatsApp webhook, and ensure you replace the subAccountId placeholder with actual values."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"step-2-create-a-trigger-that-calls-the-webhook",children:"Step 2: Create a Trigger that calls the webhook"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["In ",(0,i.jsx)(n.strong,{children:"Zendesk Admin Center"})," \u2192 ",(0,i.jsx)(n.strong,{children:"Objects and rules"})," \u2192 ",(0,i.jsx)(n.strong,{children:"Business rules"})," \u2192 ",(0,i.jsx)(n.strong,{children:"Triggers"})," \u2192 ",(0,i.jsx)(n.strong,{children:"Add trigger"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Name"}),": e.g. ",(0,i.jsx)(n.code,{children:"Notify via SMS when ticket is solved"})," or ",(0,i.jsx)(n.code,{children:"Notify via WhatsApp on public comment"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Conditions"})," (example \u2013 adjust to taste):\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"ALL"}),":\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Ticket"})," | ",(0,i.jsx)(n.strong,{children:"Is"})," | ",(0,i.jsx)(n.code,{children:"Updated"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Comment"})," | ",(0,i.jsx)(n.strong,{children:"Is"})," | ",(0,i.jsx)(n.code,{children:"Public"})]}),"\n",(0,i.jsxs)(n.li,{children:["(",(0,i.jsx)(n.strong,{children:"Optional"}),") ",(0,i.jsx)(n.strong,{children:"Requester"})," | ",(0,i.jsx)(n.strong,{children:"Phone number"})," | ",(0,i.jsx)(n.code,{children:"Present"})," (for SMS)"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Actions"}),":\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Notify active webhook"})," \u2192 Select ",(0,i.jsx)(n.strong,{children:"your 8x8 webhook"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"JSON body"})," \u2192 paste one of the payloads below (SMS or WhatsApp)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Zendesk will render placeholders (like ",(0,i.jsx)(n.code,{children:"{{ticket.id}}"}),") before sending, so 8x8 receives concrete values."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"payloads",children:"Payloads"}),"\n",(0,i.jsx)(n.h3,{id:"option-a-sms-8x8-sms-api",children:"Option A: SMS (8x8 SMS API)"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Use when you want a plain text SMS to the ticket requester\u2019s phone."})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Webhook"}),": ",(0,i.jsx)(n.code,{children:"8x8 SMS Send"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"JSON body"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "source": "<Your Approved Sender ID or Number>",\n  "destination": "{{ticket.requester.phone}}",\n  "text": "Update for ticket #{{ticket.id}} ({{ticket.status}}). View: {{ticket.link}}"\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Notes"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"source"}),": use an ",(0,i.jsx)(n.strong,{children:"approved sender ID"}),"/number for the destination country. If country rules prevent alphanumeric sender IDs, use a numeric source."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"destination"}),": prefer international format (e.g., ",(0,i.jsx)(n.code,{children:"+12025550123"}),"). If you store national format in Zendesk, ensure your 8x8 route/country settings are configured accordingly."]}),"\n",(0,i.jsx)(n.li,{children:"Keep messages concise to avoid multi-part SMS billing."}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"option-b-whatsapp-8x8-messaging-api",children:"Option B: WhatsApp (8x8 Messaging API)"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Use when you want to send a WhatsApp message (template, or freeform within the customer service window)."})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Webhook"}),": ",(0,i.jsx)(n.code,{children:"8x8 WhatsApp Send"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"JSON body : Example template message with a single text parameter"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsxs)(n.em,{children:["(Replace ",(0,i.jsx)(n.code,{children:"<Template Name>"})," and set the language, e.g., ",(0,i.jsx)(n.code,{children:"en_GB"})," and any other content you may have)"]}),". Refer to ",(0,i.jsx)(n.a,{href:"/connect/docs/usage-samples-whatsapp",children:"this page"})," for other sample JSON body for template messages. Ensure the JSON body is as per the approved template."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "user": {\n    "msisdn": "{{ticket.requester.phone}}"\n  },\n  "type": "template",\n  "content": {\n    "template": {\n      "language": "en_GB",\n      "name": "<Template Name>",\n      "components": [\n        {\n          "type": "body",\n          "parameters": [\n            {\n              "type": "text",\n              "text": "{{ticket.id}}"\n            }\n          ]\n        }\n      ]\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Alternate freeform (inside WhatsApp\u2019s customer service window)"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "user": {\n    "msisdn": "{{ticket.requester.phone}}"\n  },\n  "type": "text",\n  "content": {\n    "text": "We updated your ticket #{{ticket.id}} ({{ticket.status}}). View: {{ticket.link}}"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Notes"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Templates"})," are required ",(0,i.jsx)(n.strong,{children:"outside"})," the WhatsApp customer service window. Ensure your ",(0,i.jsx)(n.a,{href:"/connect/docs/whatsapp-templates-management",children:"WhatsApp templates are approved"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"msisdn"}),": use the customer\u2019s phone number in international format."]}),"\n",(0,i.jsxs)(n.li,{children:["You can enrich templates (images, documents, CTA buttons) by adding header/body/button components as per the Messaging API capabilities. Learn more ",(0,i.jsx)(n.a,{href:"/connect/docs/usage-samples-whatsapp",children:"here"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["In ",(0,i.jsx)(n.strong,{children:"Webhooks"}),", open your webhook and use ",(0,i.jsx)(n.strong,{children:"Test webhook"})," with a ",(0,i.jsx)(n.strong,{children:"sample payload"})," (hardcode a test number)."]}),"\n",(0,i.jsxs)(n.li,{children:["In ",(0,i.jsx)(n.strong,{children:"Triggers"}),", temporarily loosen conditions so it\u2019s easy to fire the trigger, then revert."]}),"\n",(0,i.jsxs)(n.li,{children:["Check ",(0,i.jsx)(n.strong,{children:"Webhook Activity"})," in Zendesk if calls are failing."]}),"\n",(0,i.jsxs)(n.li,{children:["Check ",(0,i.jsx)(n.strong,{children:"8x8 API response"})," codes in the webhook logs (2xx = success). If you enabled 8x8 delivery callbacks/logs, verify downstream delivery there."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"401/403 from 8x8"}),": wrong/missing API key or subaccount; ensure the webhook auth uses ",(0,i.jsx)(n.strong,{children:"Bearer token"})," and the endpoint URL has the ",(0,i.jsx)(n.strong,{children:"correct subaccountId"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"400 from 8x8"}),": invalid phone format, missing required field (e.g., ",(0,i.jsx)(n.code,{children:"text"})," for SMS, or template name for WhatsApp template). Validate your JSON and field names exactly."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"No phone on requester"}),": add a trigger condition such as ",(0,i.jsx)(n.strong,{children:"Requester \u2192 Phone number \u2192 Present"})," or add a fallback (e.g., email) via a separate trigger."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:[(0,i.jsx)(n.code,{children:"{{ticket.link}}"})," doesn\u2019t render"]}),": Help Center may be disabled. Use a different placeholder or craft your own URL pattern if needed."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"WhatsApp message rejected"}),": using ",(0,i.jsx)(n.strong,{children:"freeform"})," outside the service window, or the ",(0,i.jsx)(n.strong,{children:"template"})," is unapproved / mis-named / wrong language. Switch to a valid ",(0,i.jsx)(n.strong,{children:"template"})," and resend."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"faq",children:"FAQ"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Do I need two webhooks?"}),(0,i.jsx)(n.br,{}),"\nYes. Create ",(0,i.jsx)(n.strong,{children:"one"})," for ",(0,i.jsx)(n.strong,{children:"SMS"})," and ",(0,i.jsx)(n.strong,{children:"one"})," for ",(0,i.jsx)(n.strong,{children:"WhatsApp"}),". Point your triggers to the right one."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Which placeholders are safe?"}),(0,i.jsx)(n.br,{}),"\nConservative defaults: ",(0,i.jsx)(n.code,{children:"{{ticket.id}}"}),", ",(0,i.jsx)(n.code,{children:"{{ticket.status}}"}),", ",(0,i.jsx)(n.code,{children:"{{ticket.requester.name}}"}),", ",(0,i.jsx)(n.code,{children:"{{ticket.requester.phone}}"}),", ",(0,i.jsx)(n.code,{children:"{{ticket.assignee.name}}"}),", ",(0,i.jsx)(n.code,{children:"{{ticket.link}}"}),". If a field is blank in Zendesk, the rendered value will be blank."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"appendix-example-end-to-end-flows",children:"Appendix: Example end-to-end flows"}),"\n",(0,i.jsx)(n.h3,{id:"a-notify-by-sms-when-ticket-is-solved",children:"A. Notify by SMS when ticket is solved"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Trigger conditions"}),": Ticket \u2192 Status \u2192 Changed to \u2192 ",(0,i.jsx)(n.code,{children:"Solved"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Action"}),": Notify active webhook \u2192 ",(0,i.jsx)(n.code,{children:"8x8 SMS Send"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Body"}),": use the SMS payload above"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"b-notify-by-whatsapp-when-a-public-comment-is-added",children:"B. Notify by WhatsApp when a public comment is added"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Trigger conditions"}),": Ticket \u2192 Is \u2192 ",(0,i.jsx)(n.code,{children:"Updated"}),"; Comment \u2192 Is \u2192 ",(0,i.jsx)(n.code,{children:"Public"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Action"}),": Notify active webhook \u2192 ",(0,i.jsx)(n.code,{children:"8x8 WhatsApp Send"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Body"}),": use the WhatsApp ",(0,i.jsx)(n.strong,{children:"template"})," payload above"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"c-notify-when-a-specific-tag-is-added-fires-once",children:"C. Notify when a specific tag is added (fires once)"}),"\n",(0,i.jsxs)(n.p,{children:["Use this when you want Zendesk to notify via 8x8 the ",(0,i.jsx)(n.strong,{children:"first time"})," a tag appears on a ticket (e.g., ",(0,i.jsx)(n.code,{children:"notify_customer_sms"})," or ",(0,i.jsx)(n.code,{children:"notify_customer_wa"}),").",(0,i.jsx)(n.br,{}),"\nWe\u2019ll guard against re-firing by adding a ",(0,i.jsx)(n.strong,{children:"sent tag"})," after we send."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example tags"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Business tag you add to a ticket (manually or via another rule): ",(0,i.jsx)(n.code,{children:"notify_customer_sms"})]}),"\n",(0,i.jsxs)(n.li,{children:["Sent tag that this trigger will add after notification is sent: ",(0,i.jsx)(n.code,{children:"notify_customer_sms__sent"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Trigger conditions"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"ALL"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Ticket"})," | ",(0,i.jsx)(n.strong,{children:"Is"})," | ",(0,i.jsx)(n.code,{children:"Updated"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Tags"})," | ",(0,i.jsx)(n.strong,{children:"Contains at least one of the following"})," | ",(0,i.jsx)(n.code,{children:"notify_customer_sms"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Tags"})," | ",(0,i.jsx)(n.strong,{children:"Contains none of the following"})," | ",(0,i.jsx)(n.code,{children:"notify_customer_sms__sent"})]}),"\n",(0,i.jsxs)(n.li,{children:["(",(0,i.jsx)(n.strong,{children:"Optional"}),") ",(0,i.jsx)(n.strong,{children:"Requester"})," | ",(0,i.jsx)(n.strong,{children:"Phone number"})," | ",(0,i.jsx)(n.code,{children:"Present"}),"  \u2190 prevents attempts without a number"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Trigger actions"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Notify active webhook"})," \u2192 select your ",(0,i.jsx)(n.strong,{children:"8x8 SMS Send"})," webhook",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"JSON body"})," (SMS example):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "source": "<Your Approved Sender ID or Number>",\n  "destination": "{{ticket.requester.phone}}",\n  "text": "Update for ticket #{{ticket.id}} ({{ticket.status}}). View: {{ticket.link}}"\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.em,{children:["(If you are using WhatsApp, select your ",(0,i.jsx)(n.strong,{children:"8x8 WhatsApp Send"})," webhook and use the WhatsApp payload from Option B.)"]})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Add tags"})," \u2192 ",(0,i.jsx)(n.code,{children:"notify_customer_sms__sent"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.em,{children:"(ensures this trigger won\u2019t fire again for the same ticket/tag)"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["(",(0,i.jsx)(n.strong,{children:"Optional"}),") ",(0,i.jsx)(n.strong,{children:"Remove tags"})," \u2192 ",(0,i.jsx)(n.code,{children:"notify_customer_sms"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.em,{children:"(use this if you want the \u201cbusiness tag\u201d cleared after the notification is sent)"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Notes"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["To run ",(0,i.jsx)(n.strong,{children:"WhatsApp"})," on tag instead, replace the business tag names accordingly (e.g., ",(0,i.jsx)(n.code,{children:"notify_customer_wa"})," / ",(0,i.jsx)(n.code,{children:"notify_customer_wa__sent"}),") and use the WhatsApp ",(0,i.jsx)(n.strong,{children:"template"})," payload"]}),"\n",(0,i.jsxs)(n.li,{children:["If you have the need to send the same notification to your users multiple times across a long lifecycle, ",(0,i.jsx)(n.strong,{children:"omit"})," the sent tag/condition or use ",(0,i.jsx)(n.strong,{children:"versioned sent tags"})," (e.g., ",(0,i.jsx)(n.code,{children:"notify_customer_sms__sent_v2"}),"), then update the trigger conditions accordingly."]}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}}}]);