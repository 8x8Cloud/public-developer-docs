"use strict";(self.webpackChunk_8x8_developer_docs=self.webpackChunk_8x8_developer_docs||[]).push([[38229],{18815:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>s,default:()=>h,frontMatter:()=>i,metadata:()=>c,toc:()=>d});const c=JSON.parse('{"id":"connect/docs/voice-call-action-webhook","title":"Voice Call Action Webhook","description":"Call action events prompt the customer to take an action to change the call flow. Your \\"Voice Call Action\\" (VCA) endpoint can be configured on the sub-account level with the IVR productWebhooks.The structure of the Call Action event object is identical to that of Call Status event. However the expected response is different.","source":"@site/docs/connect/docs/voice-call-action-webhook.md","sourceDirName":"connect/docs","slug":"/connect/docs/voice-call-action-webhook","permalink":"/production/connect/docs/voice-call-action-webhook","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"sidebarConnectReference","previous":{"title":"Delete a specific type of webhook","permalink":"/production/connect/reference/delete-a-specific-type-of-webhook-1"},"next":{"title":"Call Action Handling (IVR)","permalink":"/production/connect/docs/call-action-handling-ivr"}}');var l=t(74848),r=t(28453);const i={},s="Voice Call Action Webhook",o={},d=[{value:"Call Action Request (IVR)",id:"call-action-request-ivr",level:2}];function a(e){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"voice-call-action-webhook",children:"Voice Call Action Webhook"})}),"\n",(0,l.jsxs)(n.p,{children:['Call action events prompt the customer to take an action to change the call flow. Your "Voice Call Action" (VCA) endpoint can be configured on the sub-account level with the IVR product',(0,l.jsx)(n.a,{href:"/connect/reference/create-a-new-voice-webhook",children:"Webhooks"}),".The structure of the Call Action event object is identical to that of ",(0,l.jsx)(n.a,{href:"/connect/reference/call-status",children:"Call Status"})," event. However the expected response is different."]}),"\n",(0,l.jsx)(n.h2,{id:"call-action-request-ivr",children:"Call Action Request (IVR)"}),"\n",(0,l.jsx)(n.p,{children:"8x8 platform will POST a JSON object to your URL."}),"\n",(0,l.jsx)(n.p,{children:"Sample of Call Action Event"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "namespace": "VOICE",\n  "eventType": "CALL_ACTION",\n  "description": "Action request of a call",\n  "payload": {\n    "eventId": "77e6a667-133a-11ef-9dd4-e911cc6fc82f",\n    "callId": "627e25f1-133a-11ef-b08c-e33c09483244",\n    "sessionId": "a4fad4b3-b388-12ee-b217-2fb8260fcf59",\n    "subAccountId": "account_x",\n    "callStatus": "ACTION_COMPLETED",\n    "callDirection": "OUTBOUND",\n    "callType": "PSTN",\n    "source": "+6568888888",\n    "destination": "+6598888888",\n    "sourceFormat": "MSISDN",\n    "destinationFormat": "MSISDN",\n    "sourceCountryCode": "SG",\n    "destinationCountryCode": "SG",\n    "sourceRefId": "SOME-VN-REF-ID",\n    "destinationRefId": "ANOTHER-VN-REF-ID",\n    "callDuration": 0,\n    "eventData": {            \n      "dtmf": "1", //Nullable    \n    },\n    "sipCode": 200,\n    "timestamp": "2024-05-16T04:12:11.217Z"\n    "clientActionId": "ivr1_level1"\n  }\n}\n\n'})}),"\n",(0,l.jsx)(n.p,{children:"The JSON object will contain the following values:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Name"}),(0,l.jsx)(n.th,{children:"Type"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"namespace"}),(0,l.jsx)(n.td,{children:"String"}),(0,l.jsx)(n.td,{children:'8x8\'s overall product namespace. For Voice products the value will be "VOICE"'})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"eventType"}),(0,l.jsx)(n.td,{children:"String"}),(0,l.jsx)(n.td,{children:'Event type that generated this callback. For call action events the value will be "CALL_ACTION"'})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"description"}),(0,l.jsx)(n.td,{children:"String"}),(0,l.jsx)(n.td,{children:"Description of the event type that triggered the callback."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"eventId"}),(0,l.jsx)(n.td,{children:"String"}),(0,l.jsx)(n.td,{children:"Unique id that triggered the callback"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"callId"}),(0,l.jsx)(n.td,{children:"String"}),(0,l.jsx)(n.td,{children:"Id unique to a one call leg of the number masking session [UUID]"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"sessionId"}),(0,l.jsx)(n.td,{children:"String"}),(0,l.jsx)(n.td,{children:"Unique id that represents Number masking session [UUID]"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"subAccountId"}),(0,l.jsx)(n.td,{children:"String"}),(0,l.jsx)(n.td,{children:"Id of the 8x8 SubAccount that the callback belongs to."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"callStatus"}),(0,l.jsx)(n.td,{children:"String"}),(0,l.jsxs)(n.td,{children:["Status of the call leg that triggered the callback. Values can be:",(0,l.jsx)(n.br,{}),'"ACTION_COMPLETED"',(0,l.jsx)(n.br,{}),'"CALL_RECEIVED" (applicable to Inbound IVR and Number Masking)']})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"callDirection"}),(0,l.jsx)(n.td,{children:"String"}),(0,l.jsx)(n.td,{children:'Direction of the call leg that triggered the callback. Values can be "INBOUND" or "OUTBOUND"'})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"callType"}),(0,l.jsx)(n.td,{children:"String"}),(0,l.jsx)(n.td,{children:'Type of the call leg. Values can be "PSTN" (telco operators) or "VOIP"(app to app calling users) users), depending on where the call was initiated from.'})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"source"}),(0,l.jsx)(n.td,{children:"String"}),(0,l.jsx)(n.td,{children:"Source number associated with the call leg that triggered this callback"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"sourceFormat"}),(0,l.jsx)(n.td,{children:"String"}),(0,l.jsx)(n.td,{children:'Format of the source number. For NumberMasking the value will always be "MSISDN"'})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"destinationFormat"}),(0,l.jsx)(n.td,{children:"String"}),(0,l.jsx)(n.td,{children:'Format of the destination number. For NumberMasking the value will always be "MSISDN"'})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"sourceCountryCode"}),(0,l.jsx)(n.td,{children:"String"}),(0,l.jsx)(n.td,{children:"Country code of the source number"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"destinationCountryCode"}),(0,l.jsx)(n.td,{children:"String"}),(0,l.jsx)(n.td,{children:"Country code of the destination number"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"sourceRefId"}),(0,l.jsx)(n.td,{children:"String"}),(0,l.jsx)(n.td,{children:"For OUTBOUND call legs, this property shows the referenceId of the Virtual Number that has been called. For INBOUND calls the value is null"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"destinationRefId"}),(0,l.jsx)(n.td,{children:"String"}),(0,l.jsx)(n.td,{children:"For INBOUND call legs, this property shows the referenceId of the Virtual Number that is used as callerId. For OUTBOUND calls the value is null"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"callDuration"}),(0,l.jsx)(n.td,{children:"String"}),(0,l.jsx)(n.td,{children:"Duration of the call leg (in seconds) that initiated the callback"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"dtmf"}),(0,l.jsx)(n.td,{children:"String"}),(0,l.jsx)(n.td,{children:"DTMF captured if SayAndCapture action is requested. Will be null if nothing is captured."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"sipCode"}),(0,l.jsx)(n.td,{children:"Integer"}),(0,l.jsx)(n.td,{children:"Final Sip status code for the call leg(s) defined by RFC 3261"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"timestamp"}),(0,l.jsx)(n.td,{children:"String"}),(0,l.jsx)(n.td,{children:"Timestamp of a call event"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"clientActionId"}),(0,l.jsx)(n.td,{children:"String"}),(0,l.jsx)(n.td,{children:"clientActionId that was provided in the previous VCA callback."})]})]})]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsxs)(n.p,{children:["\ud83d\udea7 ",(0,l.jsx)(n.strong,{children:"ClientActionId"})]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"clientActionId"})," is only supported in Voice Call Action Webhook"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"clientActionId in Voice Call Action Response"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n    "clientActionId": "ivr1_level2", // Optional. Only supported in Call Action Webhook.\n    "callflow": [\n        {\n            "action": "makeCall", \n            "params": {\n                "source": "+65123456789",\n                "destination": "+6543212345",\n                "callRecording": true\n            }\n        }\n    ]\n}\n\n'})}),"\n",(0,l.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>s});var c=t(96540);const l={},r=c.createContext(l);function i(e){const n=c.useContext(r);return c.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),c.createElement(r.Provider,{value:n},e.children)}}}]);