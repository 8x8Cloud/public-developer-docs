"use strict";(self.webpackChunk_8x8_developer_docs=self.webpackChunk_8x8_developer_docs||[]).push([[88690],{26927:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>a,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"connect/docs/whatsapp-phone-number-quality-change-webhook","title":"WhatsApp Phone Number Quality Change Webhook","description":"WhatsApp Phone Number Change Webhook are notifications sent to you to inform about changes to your business phone number\'s messaging limit and throughput level.","source":"@site/docs/connect/docs/whatsapp-phone-number-quality-change-webhook.md","sourceDirName":"connect/docs","slug":"/connect/docs/whatsapp-phone-number-quality-change-webhook","permalink":"/production/connect/docs/whatsapp-phone-number-quality-change-webhook","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"sidebarConnectReference","previous":{"title":"WhatsApp Template Change Webhook","permalink":"/production/connect/docs/whatsapp-template-change-webhook"},"next":{"title":"Messaging Apps Fallback management","permalink":"/production/connect/docs/chatapps-fallback-management"}}');var i=t(74848),l=t(28453);const r={},c="WhatsApp Phone Number Quality Change Webhook",o={},d=[{value:"Requirements",id:"requirements",level:3},{value:"Retry logic",id:"retry-logic",level:3},{value:"Webhook format",id:"webhook-format",level:3},{value:"Sample webhook",id:"sample-webhook",level:3}];function h(e){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"whatsapp-phone-number-quality-change-webhook",children:"WhatsApp Phone Number Quality Change Webhook"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"WhatsApp Phone Number Change Webhook"})," are notifications sent to you to inform about changes to your business phone number's ",(0,i.jsx)(n.a,{href:"https://developers.facebook.com/docs/whatsapp/messaging-limits",children:"messaging limit"})," and ",(0,i.jsx)(n.a,{href:"https://developers.facebook.com/docs/whatsapp/cloud-api/overview#throughput",children:"throughput level"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"requirements",children:"Requirements"}),"\n",(0,i.jsx)(n.p,{children:"To receive WhatsApp phone number quality change webhook, you need:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"An account configured to use Chat Apps product."}),"\n",(0,i.jsx)(n.li,{children:"A webhook to indicate to us which URL 8x8 platform should send Chat Apps Business Management Updates to."}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\ud83d\udcd8"}),"\n",(0,i.jsxs)(n.p,{children:["You can configure your callback using ",(0,i.jsx)(n.a,{href:"/connect/reference/add-webhooks-1",children:"Webhooks Configuration API"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"retry-logic",children:"Retry logic"}),"\n",(0,i.jsx)(n.p,{children:"In case of connection error/timeout or HTTP response code 4XX or 5XX, there will be multiple retry attempts with progressive intervals: 1, 10, 30, 90 sec."}),"\n",(0,i.jsx)(n.h3,{id:"webhook-format",children:"Webhook format"}),"\n",(0,i.jsx)(n.p,{children:"Request body description"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter name"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter type"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"eventId"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Unique event identifier."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"timestamp"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Timestamp of event in ISO 8601 format."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"provider"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,i.jsxs)(n.td,{style:{textAlign:"left"},children:["Provider of this event. Equal to ",(0,i.jsx)(n.code,{children:"WhatsApp"}),"."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"businessAccountId"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Business account identifier associated with provider. This value will represent the WhatsApp Business Account (WABA) Id."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"accountId"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"AccountId which the event is associated with."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"eventType"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,i.jsxs)(n.td,{style:{textAlign:"left"},children:["Type of event. Equal to ",(0,i.jsx)(n.code,{children:"phone_number_quality_update"}),"."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"eventDetails"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"object"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Event related information, see below."})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"eventDetails"})," object description"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter name"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter type"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"displayPhoneNumber"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Business display phone number"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"meta"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"object"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Specific information related to the event, see below."})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"meta"})," object description"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter name"}),(0,i.jsx)(n.th,{children:"Parameter type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"event"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsxs)(n.td,{children:["Messaging limit change or throughput change event.",(0,i.jsx)(n.br,{}),"Possible values are",(0,i.jsx)(n.code,{children:"DOWNGRADE"}),"\u2014 Messaging limit has decreased.",(0,i.jsx)(n.code,{children:"FLAGGED"})," \u2014 Messaging quality will be decreased if the number continues to receive negative feedback.",(0,i.jsx)(n.code,{children:"ONBOARDING"})," \u2014 Phone number is still being registered.",(0,i.jsx)(n.code,{children:"THROUGHPUT_UPGRADE"})," \u2014 Throughput level has increased.",(0,i.jsx)(n.code,{children:"UNFLAGGED"})," \u2014 Business phone number is eligible to receive a messaging limit increase if it continues to receive positive feedback.",(0,i.jsx)(n.code,{children:"UPGRADE"})," \u2014 Messaging limit has increased."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"currentLimit"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsxs)(n.td,{children:["Indicates current messaging limit or throughput level.",(0,i.jsx)(n.br,{}),"Possible values are",(0,i.jsx)(n.code,{children:"TIER_50"})," \u2014 Indicates a messaging limit of 50.",(0,i.jsx)(n.code,{children:"TIER_250"})," \u2014 Indicates a messaging limit of 250.",(0,i.jsx)(n.code,{children:"TIER_1K"})," \u2014 Indicates a messaging limit of 1,000.",(0,i.jsx)(n.code,{children:"TIER_10K"})," \u2014 Indicates a messaging limit of 10,000.",(0,i.jsx)(n.code,{children:"TIER_100K"})," \u2014 Indicates a messaging limit of 100,000.",(0,i.jsx)(n.code,{children:"TIER_NOT_SET"})," \u2014 Indicates the business phone number has not been used to send a message yet.",(0,i.jsx)(n.code,{children:"TIER_UNLIMITED"})," \u2014 Indicates the business phone number has higher throughput."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"oldLimit"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Old limit and only included for messaging limit changes."})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"sample-webhook",children:"Sample webhook"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-coffeescript",metastring:"Messaging Limit Upgrade",children:'{\n    "eventId": "0f88f5c4-fae7-4dcf-8ff2-b2990133edea",\n    "timestamp": "2025-01-01T00:00:00.00Z",\n    "provider": "WhatsApp",\n    "businessAccountId": <BusinessAccountId>,\n    "accountId": <AccountId>,\n    "eventType": "phone_number_quality_update",\n    "eventDetails": {\n        "displayPhoneNumber": "15550783881",\n        "meta": {\n            "event": "UPGRADE",\n            "currentLimit": "TIER_10K",\n            "oldLimit": "TIER_1K"\n        }\n    }\n}\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-coffeescript",metastring:"Throughput Upgrade",children:'{\n    "eventId": "0f88f5c4-fae7-4dcf-8ff2-b2990133edea",\n    "timestamp": "2025-01-01T00:00:00.00Z",\n    "provider": "WhatsApp",\n    "businessAccountId": <BusinessAccountId>,\n    "accountId": <AccountId>,\n    "eventType": "phone_number_quality_update",\n    "eventDetails": {\n        "displayPhoneNumber": "15550783881",\n        "meta": {\n            "event": "THROUGHPUT_UPGRADE",\n            "currentLimit": "TIER_UNLIMITED"\n        }\n    }\n}\n'})})]})}function a(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>c});var s=t(96540);const i={},l=s.createContext(i);function r(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);