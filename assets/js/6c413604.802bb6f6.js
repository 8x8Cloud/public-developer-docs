"use strict";(globalThis.webpackChunk_8x8_developer_docs=globalThis.webpackChunk_8x8_developer_docs||[]).push([[30024],{11386:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/simple-ivr-webhooks-flow-1769dc4b6798508c7724a60a9d45bfb8.png"},12713:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"connect/docs/voice/ivr/simple-ivr","title":"Simple IVR Guide","description":"Simple IVR","source":"@site/docs/connect/docs/voice/ivr/simple-ivr.md","sourceDirName":"connect/docs/voice/ivr","slug":"/connect/docs/voice/ivr/simple-ivr-guide","permalink":"/connect/docs/voice/ivr/simple-ivr-guide","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"slug":"/connect/docs/voice/ivr/simple-ivr-guide","title":"Simple IVR Guide"},"sidebar":"sidebarConnectDocs","previous":{"title":"IVR - Introduction","permalink":"/connect/docs/voice/ivr/ivr-introduction"},"next":{"title":"Advanced IVR Guide","permalink":"/connect/docs/voice/ivr/advanced-ivr-guide"}}');var l=s(74848),a=s(28453);const o={slug:"/connect/docs/voice/ivr/simple-ivr-guide",title:"Simple IVR Guide"},t=void 0,r={},c=[{value:"Simple IVR",id:"simple-ivr",level:2},{value:"Demo Video",id:"demo-video",level:2},{value:"Diagram of Simple IVR Flow",id:"diagram-of-simple-ivr-flow",level:2},{value:"Webhooks and API Calls in Simple IVR Flow",id:"webhooks-and-api-calls-in-simple-ivr-flow",level:2},{value:"Example of initial API call to place outbound call",id:"example-of-initial-api-call-to-place-outbound-call",level:2},{value:"Example Response Body for an Callflows API request",id:"example-response-body-for-an-callflows-api-request",level:3},{value:"Explaining Session Status in Callflows Response Body",id:"explaining-session-status-in-callflows-response-body",level:3},{value:"Status Code and Status Message",id:"status-code-and-status-message",level:3},{value:"Webhook Example",id:"webhook-example",level:2},{value:"DTMF Input 1 - Hangup",id:"dtmf-input-1---hangup",level:3},{value:"DTMF Input 2 - Connect Call",id:"dtmf-input-2---connect-call",level:3},{value:"DTMF Input Other - Repeat Menu",id:"dtmf-input-other---repeat-menu",level:3},{value:"Voice Session Summary Webhook",id:"voice-session-summary-webhook",level:2},{value:"Related Guides",id:"related-guides",level:2},{value:"Error Handling",id:"error-handling",level:2},{value:"Support Channels",id:"support-channels",level:2}];function d(e){const n={a:"a",br:"br",code:"code",h2:"h2",h3:"h3",iframe:"iframe",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"simple-ivr",children:"Simple IVR"}),"\n",(0,l.jsx)(n.p,{children:"Below is a sample of a simple IVR call scenario. The Callflow below demonstrates an example scenario where a callback is placed to a customer seeking technical support. Then in the same call the user has the ability to either contact a member of technical support, end the call or repeat the main menu."}),"\n",(0,l.jsx)(n.h2,{id:"demo-video",children:"Demo Video"}),"\n",(0,l.jsx)(n.p,{children:"This video will show a demo of how the Advanced IVR menu will work, including showing webhooks and the Initial API Call."}),"\n",(0,l.jsx)(n.iframe,{src:"https://www.youtube.com/embed/6UfWfvk8-jY?si=0Embr27hn_krsgKX",height:"500px",width:"100%",allow:"picture-in-picture; web-share",allowFullScreen:!0,children:"\n"}),"\n",(0,l.jsx)(n.h2,{id:"diagram-of-simple-ivr-flow",children:"Diagram of Simple IVR Flow"}),"\n",(0,l.jsx)(n.p,{children:"Below is a description of the IVR Tree that we will be building with this call scenario. There are 3 possible paths and only 1 level in this simple IVR Tree."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{alt:"Simple IVR Flow Diagram",src:s(38239).A+"",title:"Simple IVR Flow Diagram",width:"1968",height:"544"})}),"\n",(0,l.jsx)(n.h2,{id:"webhooks-and-api-calls-in-simple-ivr-flow",children:"Webhooks and API Calls in Simple IVR Flow"}),"\n",(0,l.jsx)(n.p,{children:"Below is a diagram of how the webhooks and API Calls from your server will work with the 8x8 Voice Platform to create this IVR."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{alt:"Simple IVR Flow with Webhooks and API Calls",src:s(11386).A+"",title:"Simple IVR Flow with Webhooks and API Calls",width:"3936",height:"1088"})}),"\n",(0,l.jsx)(n.h2,{id:"example-of-initial-api-call-to-place-outbound-call",children:"Example of initial API call to place outbound call"}),"\n",(0,l.jsx)(n.p,{children:"This is the URL to send the initial API request to."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.code,{children:"POST voice.8x8.com/api/v1/subaccounts/{sub-account-id}/callflows"})}),"\n",(0,l.jsx)(n.p,{children:"This is the request body to send the API request to as well. Note, you will need to replace the source with a 8x8 virtual number in your account and destination with a destination phone number to call."}),"\n",(0,l.jsx)(n.p,{children:"Sample of Simple IVR Request"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n    "callflow": [\n          {\n            "action": "makeCall",\n            "params": {\n              "source": "6561115777",\n              "destination": "6512345678"\n              }\n        },\n        {\n          "action": "sayAndCapture",\n          "params": {\n              "promptMessage": "Dear customer, Thank you for contacting Xyz technical support recently. If you have resolved your issue already, press one. Or press two to speak to an agent.",\n              "voiceProfile": "en-US-BenjaminRUS",\n              "repetition": 1,\n              "speed": 1,\n              "minDigits": 1,\n              "maxDigits": 1,\n              "digitTimeout": 10000,\n              "overallTimeout": 10000,\n              "completeOnHash": false,\n              "noOfTries": 2,\n              "successMessage": null,\n              "failureMessage": "Invalid input, please try again"\n              }\n        }\n    ]\n}\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"example-response-body-for-an-callflows-api-request",children:"Example Response Body for an Callflows API request"}),"\n",(0,l.jsx)(n.p,{children:"Below are examples of successful and failure responses to the API request above. Depending on the error the status message may change."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Success"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n    "sessionId": "d9874358-89ac-4c50-bbab-1eb634482a94",\n    "sessionStatus": "CREATED",\n    "callFlowRequestId": "89b545a5-0676-11ee-8100-d500c0d203fc",\n    "statusCode": 1,\n    "statusMessage": "Created"\n}\n\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Failure"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n    "sessionStatus": "NOT_CREATED",\n    "callFlowRequestId": "0564e804-0a7e-11ee-9c83-6df9c048a122",\n    "statusCode": -1002,\n    "statusMessage": "Speech profile or language parameter invalid"\n}\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"explaining-session-status-in-callflows-response-body",children:"Explaining Session Status in Callflows Response Body"}),"\n",(0,l.jsx)(n.p,{children:"Session status indicates if a call is successfully accepted & created or not created on the 8x8 platform. 8x8 returns two status:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"CREATED"}),"- call is successfully created on the platform."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"NOT CREATED"}),"- call is not successfully created on the platform and 8x8 returns ",(0,l.jsx)(n.code,{children:"statusCode"})," and ",(0,l.jsx)(n.code,{children:"statusMessage"})," to understand why the call was not accepted on the platform"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"status-code-and-status-message",children:"Status Code and Status Message"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Status Code"}),(0,l.jsx)(n.th,{children:"Message"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"1"}),(0,l.jsx)(n.td,{children:"Created"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"-1001"}),(0,l.jsx)(n.td,{children:"Invalid JSON request body"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"-1002"}),(0,l.jsx)(n.td,{children:"Speech profile or language parameter invalid"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"-1003"}),(0,l.jsx)(n.td,{children:"Valid maxDigits required when minDigits provided"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"-1005"}),(0,l.jsx)(n.td,{children:"Valid overallTimeout is required when digitTimeout provided"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"-1007"}),(0,l.jsxs)(n.td,{children:["$.callflow[0].action should be one of: [Call action names]",(0,l.jsx)(n.br,{}),"Eg: ",(0,l.jsx)(n.code,{children:"$.callflow[0].action should be one of: say,playFile,sayAndCapture"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"-1008"}),(0,l.jsx)(n.td,{children:"Valid maxDigits is required when completeOnHash is false"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"-1009"}),(0,l.jsxs)(n.td,{children:["Invalid call flow entry provided. [Additional error details here].",(0,l.jsx)(n.br,{}),"Eg: Invalid call flow entry provided. $.callflow[0].params.text: is missing but it is required"]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"-9999"}),(0,l.jsx)(n.td,{children:"An unknown error has occurred"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"webhook-example",children:"Webhook Example"}),"\n",(0,l.jsx)(n.p,{children:"Once the initial call is made, the server will be sent a webhook with call status information:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "payload": {\n    "eventId": "e2078079-eae8-11f0-ae64-a500004e488e",\n    "callId": "e1ff6a14-eae8-11f0-baa6-c93abb37794a",\n    "sessionId": "e1ff6a15-eae8-11f0-baa6-c147150ab00e",\n    "subAccountId": "8x8_test",\n    "callStatus": "CALL_RECEIVED",\n    "callDirection": "INBOUND",\n    "callType": "PSTN",\n    "source": "+656833033",\n    "destination": "+94778066434",\n    "sourceFormat": "MSISDN",\n    "destinationFormat": "MSISDN",\n    "sourceCountryCode": "SG",\n    "destinationCountryCode": "LK",\n    "callDuration": 0,\n    "sipCode": 200,\n    "timestamp": "2026-01-06T10:17:19.375Z"\n  },\n  "namespace": "VOICE",\n  "eventType": "CALL_STATUS",\n  "description": "Status update of a call"\n}\n\n'})}),"\n",(0,l.jsxs)(n.p,{children:["When the user responds with a DTMF input, your server will receive a ",(0,l.jsx)(n.a,{href:"/connect/docs/voice/webhook-guides/voice-call-action-webhook-guide",children:"VCA"})," webhook and can reply with a callflow response. Below are examples of Callflow responses that trigger corresponding actions."]}),"\n",(0,l.jsx)(n.h3,{id:"dtmf-input-1---hangup",children:"DTMF Input 1 - Hangup"}),"\n",(0,l.jsx)(n.p,{children:"Responding with the callflow below will immediately end the call."}),"\n",(0,l.jsx)(n.p,{children:"Digit 1"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n    "callflow": [\n          {\n          "action": "hangup"\n        }\n    ]\n}\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"dtmf-input-2---connect-call",children:"DTMF Input 2 - Connect Call"}),"\n",(0,l.jsx)(n.p,{children:"Responding with this callflow will connect the existing call to a different number."}),"\n",(0,l.jsx)(n.p,{children:"Digit 2"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n    "callflow": [\n          {\n          "action": "makeCall",\n          "params": {\n            "source": "6512345678",\n            "destination": "6561115777"\n            }\n        }\n    ]\n}\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"dtmf-input-other---repeat-menu",children:"DTMF Input Other - Repeat Menu"}),"\n",(0,l.jsx)(n.p,{children:"Responding with this callflow will repeat the main menu."}),"\n",(0,l.jsx)(n.p,{children:"Any Other Digit"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n    "callflow": [\n          {\n          "action": "sayAndCapture",\n          "params": {\n              "promptMessage": "Sorry, we did not understand your response. If you have resolved your issue already, press one. Or press two to speak to an agent.",\n              "voiceProfile": "en-US-BenjaminRUS",\n              "repetition": 1,\n              "speed": 1,\n              "minDigits": 1,\n              "maxDigits": 1,\n              "digitTimeout": 10000,\n              "overallTimeout": 10000,\n              "completeOnHash": false,\n              "noOfTries": 2,\n              "successMessage": null,\n              "failureMessage": "Invalid input, please try again"\n              }\n        }\n    ]\n}\n\n'})}),"\n",(0,l.jsx)(n.h2,{id:"voice-session-summary-webhook",children:"Voice Session Summary Webhook"}),"\n",(0,l.jsxs)(n.p,{children:["Upon termination of the session, the Voice Session Summary (VSS) will be returned via webhook. For detailed information about the IVR Session Summary payload, see ",(0,l.jsx)(n.a,{href:"/connect/docs/voice/ivr/session-summary",children:"Session Summary (IVR)"}),"."]}),"\n",(0,l.jsx)(n.h2,{id:"related-guides",children:"Related Guides"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.a,{href:"/connect/docs/voice/ivr/session-summary",children:"Session Summary (IVR)"})})," \u2013 Detailed webhook payload reference for IVR session summaries"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.a,{href:"/connect/docs/voice/ivr/call-action-handling",children:"IVR Call Action Handling"})})," \u2013 Detailed documentation on handling VCA webhook callbacks for IVR, including payload examples and response structures"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.a,{href:"/connect/reference/send-callflow",children:"Send Callflow API"})})," \u2013 Complete API reference for the Callflows API used to initiate IVR sessions and control call flow"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,l.jsxs)(n.p,{children:["For error codes that may appear in the Voice Session Summary, see the ",(0,l.jsx)(n.a,{href:"/connect/docs/voice/error-codes/voice-error-codes",children:"Voice Error Codes"})," reference. For API response status codes, see ",(0,l.jsx)(n.a,{href:"/connect/docs/voice/error-codes/voice-status-codes",children:"Voice Status Codes and Status Messages"}),"."]}),"\n",(0,l.jsx)(n.h2,{id:"support-channels",children:"Support Channels"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Technical support:"})," ",(0,l.jsx)(n.a,{href:"mailto:support@cpaas.8x8.com",children:"support@cpaas.8x8.com"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Sales inquiries:"})," Contact your account manager or visit ",(0,l.jsx)(n.a,{href:"https://cpaas.8x8.com/en/contact-us/",children:"cpaas.8x8.com/en/contact-us"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Support Portal:"})," ",(0,l.jsx)(n.a,{href:"https://support.cpaas.8x8.com/hc/en-us",children:"https://support.cpaas.8x8.com/hc/en-us"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>t});var i=s(96540);const l={},a=i.createContext(l);function o(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),i.createElement(a.Provider,{value:n},e.children)}},38239:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/diagram-of-simple-ivr-flow-b64b72ac8e3848092182e79690ba643e.png"}}]);