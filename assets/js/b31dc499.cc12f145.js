"use strict";(globalThis.webpackChunk_8x8_developer_docs=globalThis.webpackChunk_8x8_developer_docs||[]).push([[48874],{8126:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"connect/docs/whatsapp/scenarios-tutorials","title":"Scenarios & Tutorials","description":"This section provides practical, step-by-step scenarios for solving common business problems using the 8x8 WhatsApp solution. These guides combine portal tools like the Campaigns and Automation Builder with concrete API concepts, including full JSON payloads for templates, message sending, and interactive replies.","source":"@site/docs/connect/docs/whatsapp/scenarios-tutorials.md","sourceDirName":"connect/docs/whatsapp","slug":"/connect/docs/whatsapp/scenarios-tutorials","permalink":"/connect/docs/whatsapp/scenarios-tutorials","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"sidebar_label":"Scenarios & Tutorials"},"sidebar":"sidebarConnectDocs","previous":{"title":"Advanced Capabilities","permalink":"/connect/docs/whatsapp/advanced-capabilities"},"next":{"title":"Vertical Playbooks","permalink":"/connect/docs/whatsapp/vertical-playbooks"}}');var o=t(74848),r=t(28453);const i={sidebar_label:"Scenarios & Tutorials"},a="Scenarios & Tutorials",l={},c=[{value:"Appointment Reminders via WhatsApp",id:"appointment-reminders-via-whatsapp",level:2},{value:"The Flow",id:"the-flow",level:4},{value:"Order &amp; Delivery Notifications",id:"order--delivery-notifications",level:2},{value:"The Flow",id:"the-flow-1",level:4},{value:"Support Deflection with an FAQ Bot",id:"support-deflection-with-an-faq-bot",level:2},{value:"The Flow",id:"the-flow-2",level:4},{value:"Re-engagement Campaigns",id:"re-engagement-campaigns",level:2},{value:"The Flow",id:"the-flow-3",level:4},{value:"Simple WhatsApp Support Bot (with API lookup)",id:"simple-whatsapp-support-bot-with-api-lookup",level:2},{value:"The Flow",id:"the-flow-4",level:4}];function d(e){const n={a:"a",code:"code",details:"details",em:"em",h1:"h1",h2:"h2",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",summary:"summary",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"scenarios--tutorials",children:"Scenarios & Tutorials"})}),"\n",(0,o.jsxs)(n.p,{children:["This section provides practical, step-by-step scenarios for solving common business problems using the 8x8 WhatsApp solution. These guides combine portal tools like the ",(0,o.jsx)(n.strong,{children:"Campaigns"})," and ",(0,o.jsx)(n.strong,{children:"Automation Builder"})," with concrete API concepts, including full JSON payloads for templates, message sending, and interactive replies."]}),"\n",(0,o.jsx)(n.h2,{id:"appointment-reminders-via-whatsapp",children:"Appointment Reminders via WhatsApp"}),"\n",(0,o.jsx)(n.p,{children:"This scenario shows how to proactively send a reminder and automatically handle the customer's confirmation or reschedule request."}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Tools Used:"})," ",(0,o.jsx)(n.strong,{children:"Campaigns"})," (or API) + ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"/connect/docs/automation-builder",children:"8x8 Automation Builder"})})]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Goal:"})," Reduce no-shows by confirming appointments automatically."]}),"\n",(0,o.jsx)(n.h4,{id:"the-flow",children:"The Flow"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Step 1: Create the Template (Business-Initiated)"})," You first create a ",(0,o.jsx)(n.code,{children:"UTILITY"})," template to send the reminder."]}),"\n ",(0,o.jsxs)(n.details,{children:[" ",(0,o.jsx)(n.summary,{children:"Click to view `Template Creation Payload` (API Request)"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"POST https://chatapps.8x8.com/api/v1/accounts/{accountId}/channels/{channelId}/templates"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n    "language": "en_US",\n    "name": "appointment_reminder_v1",\n    "category": "UTILITY",\n    "components": [\n        {\n            "type": "BODY",\n            "text": "Hi {{1}}, this is a reminder for your appointment on {{2}} at {{3}}. Please reply \'1\' to Confirm or \'2\' to Reschedule.",\n            "examples": [\n                "Maria",\n                "Nov 10, 2025",\n                "10:30 AM"\n            ]\n        }\n    ]\n}\n'})}),"\n "]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Step 2: Send the Reminder"})," An automated system (or a user in the ",(0,o.jsx)(n.strong,{children:"Campaigns"})," portal) sends the approved template to the customer 24 hours before their appointment."]}),"\n ",(0,o.jsxs)(n.details,{children:[" ",(0,o.jsx)(n.summary,{children:"Click to view `Template Sending Payload` (API Request)"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"POST https://chatapps.8x8.com/api/v1/subaccounts/{subAccountId}/messages"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n    "user": {\n        "msisdn": "+15551234567"\n    },\n    "type": "template",\n    "content": {\n        "template": {\n            "language": "en_US",\n            "name": "appointment_reminder_v1",\n            "components": [\n                {\n                    "type": "body",\n                    "parameters": [\n                        {\n                            "type": "text",\n                            "text": "Maria"\n                        },\n                        {\n                            "type": "text",\n                            "text": "Nov 10, 2025"\n                        },\n                        {\n                            "type": "text",\n                            "text": "10:30 AM"\n                        }\n                    ]\n                }\n            ]\n        }\n    }\n}\n'})}),"\n "]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Step 3: Handle the Reply (Automated)"})," An ",(0,o.jsx)(n.strong,{children:"Automation Builder"})," workflow is set to the ",(0,o.jsx)(n.code,{children:"Inbound Chat Apps"})," trigger. When the customer replies, the workflow catches the message and executes a ",(0,o.jsx)(n.strong,{children:"Branch"})," step."]}),"\n ",(0,o.jsxs)(n.details,{children:[" ",(0,o.jsx)(n.summary,{children:'Click to view `Inbound Webhook Payload` (User replies "1")'}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "namespace": "ChatApps",\n  "eventType": "inbound_message_received",\n  "payload": {\n    "umid": "abc...123",\n    "subAccountId": "Your_SubAccount",\n    "timestamp": "2025-11-09T14:35:01.000Z",\n    "user": {\n      "msisdn": "+15551234567",\n      "channelUserId": "15551234567"\n    },\n    "recipient": {\n      "channel": "whatsapp",\n      "channelId": "8x8-channel-id-..."\n    },\n    "type": "Text",\n    "content": {\n      "text": "1"\n    }\n  }\n}\n'})}),"\n "]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:'If the user replied "1" (Confirm):'})," The workflow sends a freeform text message (no template needed, as the 24-hour window is open)."]}),"\n ",(0,o.jsxs)(n.details,{children:[" ",(0,o.jsx)(n.summary,{children:"Click to view `Automated Response Payload` (Freeform Text)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n    "user": {\n        "msisdn": "+15551234567"\n    },\n    "type": "text",\n    "content": {\n        "text": "Thank you, your appointment is confirmed. We look forward to seeing you!"\n    }\n}\n'})}),"\n "]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:'If the user replied "2" (Reschedule):'})}),"\n ",(0,o.jsxs)(n.details,{children:[" ",(0,o.jsx)(n.summary,{children:"Click to view `Automated Response Payload` (Freeform Text)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n    "user": {\n        "msisdn": "+15551234567"\n    },\n    "type": "text",\n    "content": {\n        "text": "To reschedule, please call our office at 1-800-555-1234 or visit our booking page: [your-link].com"\n    }\n}\n'})}),"\n "]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"order--delivery-notifications",children:"Order & Delivery Notifications"}),"\n",(0,o.jsx)(n.p,{children:"This scenario details how to automatically send order updates from an e-commerce platform, including a dynamic tracking button."}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Tools Used:"})," ",(0,o.jsx)(n.strong,{children:"API"})," (or ",(0,o.jsx)(n.strong,{children:"Automation Builder"})," with HTTP Trigger)"]}),"\n",(0,o.jsx)(n.h4,{id:"the-flow-1",children:"The Flow"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Step 1: Create the Template"})," Create a ",(0,o.jsx)(n.code,{children:"UTILITY"})," template with a dynamic URL button for the tracking link."]}),"\n ",(0,o.jsxs)(n.details,{children:[" ",(0,o.jsx)(n.summary,{children:"Click to view `Template Creation Payload` (API Request)"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"POST https://chatapps.8x8.com/api/v1/accounts/{accountId}/channels/{channelId}/templates"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n    "language": "en_US",\n    "name": "order_shipped_v2",\n    "category": "UTILITY",\n    "components": [\n        {\n            "type": "BODY",\n            "text": "Hi {{1}}, good news! Your order #{{2}} has shipped.",\n            "examples": [\n                "Maria",\n                "987-XYZ"\n            ]\n        },\n        {\n            "type": "BUTTONS",\n            "buttons": [\n                {\n                    "type": "URL",\n                    "text": "Track Your Order",\n                    "url": "[https://your.tracker.com/track/](https://your.tracker.com/track/){{1}}",\n                    "examples": [\n                        "987-XYZ"\n                    ]\n                }\n            ]\n        }\n    ]\n}\n'})}),"\n "]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Step 2: Send the Notification"}),' When your e-commerce backend (e.g., Shopify) flags an order as "shipped," it calls the 8x8 API to send the template.']}),"\n ",(0,o.jsxs)(n.details,{children:[" ",(0,o.jsx)(n.summary,{children:"Click to view `Template Sending Payload` (API Request)"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"POST https://chatapps.8x8.com/api/v1/subaccounts/{subAccountId}/messages"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n    "user": {\n        "msisdn": "+15551234567"\n    },\n    "type": "template",\n    "content": {\n        "template": {\n            "language": "en_US",\n            "name": "order_shipped_v2",\n            "components": [\n                {\n                    "type": "body",\n                    "parameters": [\n                        {\n                            "type": "text",\n                            "text": "Maria"\n                        },\n                        {\n                            "type": "text",\n                            "text": "987-XYZ"\n                        }\n                    ]\n                },\n                {\n                    "type": "button",\n                    "index": "0",\n                    "subType": "url",\n                    "parameters": [\n                        {\n                            "type": "text",\n                            "text": "987-XYZ"\n                        }\n                    ]\n                }\n            ]\n        }\n    }\n}\n'})}),"\n "]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"support-deflection-with-an-faq-bot",children:"Support Deflection with an FAQ Bot"}),"\n",(0,o.jsxs)(n.p,{children:["This scenario uses automation to answer common questions and escalate to a live agent. This flow is ",(0,o.jsx)(n.strong,{children:"user-initiated"}),", so no template is required to start."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Tools Used:"})," ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"/connect/docs/automation-builder",children:"8x8 Automation Builder"})})," + ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"/connect/docs/converse-overview",children:"8x8 Converse"})})]}),"\n",(0,o.jsx)(n.h4,{id:"the-flow-2",children:"The Flow"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Step 1: Customer Asks for Help (User-Initiated)"}),' A customer sends: "Hi, I need help with my bill." Your ',(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"/connect/docs/automation-builder",children:"Automation Builder"})})," workflow is triggered."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Step 2: Automation Responds with Main Menu"})," The workflow replies with an ",(0,o.jsx)(n.strong,{children:"Interactive Button Message"})," to open the 24-hour window."]}),"\n ",(0,o.jsxs)(n.details,{children:[" ",(0,o.jsx)(n.summary,{children:"Click to view `Automated Response Payload` (Interactive Buttons)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n    "user": {\n        "msisdn": "+15551234567"\n    },\n    "type": "interactive",\n    "content": {\n        "interactive": {\n            "type": "button",\n            "header": {\n                "type": "text",\n                "text": "Welcome to Support!"\n            },\n            "body": {\n                "text": "I can help with common questions. Please select an option:"\n            },\n            "action": {\n                "buttons": [\n                    {\n                        "type": "reply",\n                        "reply": {\n                            "title": "Billing Questions",\n                            "id": "faq_billing"\n                        }\n                    },\n                    {\n                        "type": "reply",\n                        "reply": {\n                            "title": "Tech Support",\n                            "id": "faq_tech"\n                        }\n                    },\n                    {\n                        "type": "reply",\n                        "reply": {\n                            "title": "Talk to Agent",\n                            "id": "escalate_agent"\n                        }\n                    }\n                ]\n            }\n        }\n    }\n}\n'})}),"\n "]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:'Step 3: Customer Selects "Billing Questions"'}),' The user taps the "Billing Questions" button. Your automation receives a webhook, branches, and sends a follow-up interactive message.']}),"\n ",(0,o.jsxs)(n.details,{children:[" ",(0,o.jsx)(n.summary,{children:"Click to view `Inbound Webhook Payload` (User taps button)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "namespace": "ChatApps",\n  "eventType": "inbound_message_received",\n  "payload": {\n    ...\n    "type": "Text",\n    "content": {\n      "text": "Billing Questions"\n    }\n  }\n}\n'})}),"\n "]}),"\n ",(0,o.jsxs)(n.details,{children:[" ",(0,o.jsx)(n.summary,{children:"Click to view `Automated Response Payload` (Interactive Buttons)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n    "user": {\n        "msisdn": "+15551234567"\n    },\n    "type": "interactive",\n    "content": {\n        "interactive": {\n            "type": "button",\n            "body": {\n                "text": "Our most common billing questions are:\\n1. How to read your statement: [link]\\n2. How to update payment: [link]\\n\\nWas this helpful?"\n            },\n            "action": {\n                "buttons": [\n                    {\n                        "type": "reply",\n                        "reply": {\n                            "title": "Yes, thanks!",\n                            "id": "solved"\n                        }\n                    },\n                    {\n                        "type": "reply",\n                        "reply": {\n                            "title": "No, talk to agent",\n                            "id": "escalate_agent_2"\n                        }\n                    }\n                ]\n            }\n        }\n    }\n}\n'})}),"\n "]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Step 4: Customer Escalates to Agent"}),' The user taps "No, talk to agent." The automation executes the ',(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Send to Converse"})})," step and sends a final confirmation text."]}),"\n ",(0,o.jsxs)(n.details,{children:[" ",(0,o.jsx)(n.summary,{children:"Click to view `Automated Response Payload` (Freeform Text)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n    "user": {\n        "msisdn": "+15551234567"\n    },\n    "type": "text",\n    "content": {\n        "text": "Please hold, I am connecting you with a live agent..."\n    }\n}\n'})}),"\n "]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"re-engagement-campaigns",children:"Re-engagement Campaigns"}),"\n",(0,o.jsxs)(n.p,{children:["This scenario sends a promotional ",(0,o.jsx)(n.strong,{children:"Carousel Template"})," to a list of opted-in customers using the ",(0,o.jsx)(n.strong,{children:"Campaigns"})," tool."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Tools Used:"})," ",(0,o.jsx)(n.strong,{children:"Campaigns"})," + ",(0,o.jsx)(n.strong,{children:"API"})," (for template creation)"]}),"\n",(0,o.jsx)(n.h4,{id:"the-flow-3",children:"The Flow"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Step 1: Create the Carousel Template"})," First, you must create a ",(0,o.jsx)(n.code,{children:"MARKETING"})," template that contains the ",(0,o.jsx)(n.code,{children:"CAROUSEL"})," component."]}),"\n ",(0,o.jsxs)(n.details,{children:[" ",(0,o.jsx)(n.summary,{children:"Click to view `Template Creation Payload` (API Request)"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"POST https://chatapps.8x8.com/api/v1/accounts/{accountId}/channels/{channelId}/templates"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n    "language": "en_US",\n    "name": "summer_sale_carousel_v1",\n    "category": "MARKETING",\n    "components": [\n        {\n            "type": "BODY",\n            "text": "Hi {{1}}, our summer sale is on! Swipe through to see our top deals.",\n            "examples": ["Alex"]\n        },\n        {\n            "type": "CAROUSEL",\n            "cards": [\n                {\n                    "components": [\n                        {\n                            "type": "HEADER",\n                            "format": "IMAGE",\n                            "examples": ["https://.../product_A.png"]\n                        },\n                        {\n                            "type": "BODY",\n                            "text": "Product A - 20% Off"\n                        },\n                        {\n                            "type": "BUTTONS",\n                            "buttons": [\n                                {\n                                    "type": "URL",\n                                    "text": "Shop Now",\n                                    "url": "https://.../product/{{1}}",\n                                    "examples": ["A"]\n                                }\n                            ]\n                        }\n                    ]\n                },\n                {\n                    "components": [\n                        {\n                            "type": "HEADER",\n                            "format": "IMAGE",\n                            "examples": ["https://.../product_B.png"]\n                        },\n                        {\n                            "type": "BODY",\n                            "text": "Product B - Buy One Get One"\n                        },\n                        {\n                            "type": "BUTTONS",\n                            "buttons": [\n                                {\n                                    "type": "URL",\n                                    "text": "Shop Now",\n                                    "url": "https://.../product/{{1}}",\n                                    "examples": ["B"]\n                                }\n                            ]\n                        }\n                    ]\n                }\n            ]\n        }\n    ]\n}\n'})}),"\n "]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Step 2: Send the Campaign via Portal or API"})," You can send this via the ",(0,o.jsx)(n.strong,{children:"Campaigns"})," tool by mapping CSV columns to the variables. Or, you can send it via the API."]}),"\n ",(0,o.jsxs)(n.details,{children:[" ",(0,o.jsx)(n.summary,{children:"Click to view `Template Sending Payload` (API Request)"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"POST https://chatapps.8x8.com/api/v1/subaccounts/{subAccountId}/messages"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n    "user": {\n        "msisdn": "+15551234567"\n    },\n    "type": "template",\n    "content": {\n        "template": {\n            "language": "en_US",\n            "name": "summer_sale_carousel_v1",\n            "components": [\n                {\n                    "type": "body",\n                    "parameters": [\n                        {\n                            "type": "text",\n                            "text": "Alex"\n                        }\n                    ]\n                },\n                {\n                    "type": "carousel",\n                    "cards": [\n                        {\n                            "cardIndex": 0,\n                            "components": [\n                                {\n                                    "type": "header",\n                                    "parameters": [\n                                        {\n                                            "type": "image",\n                                            "url": "https://.../product_A_live.png"\n                                        }\n                                    ]\n                                },\n                                {\n                                    "type": "button",\n                                    "index": 0,\n                                    "subType": "url",\n                                    "parameters": [\n                                        {\n                                            "type": "text",\n                                            "text": "A"\n                                        }\n                                    ]\n                                }\n                            ]\n                        },\n                        {\n                            "cardIndex": 1,\n                            "components": [\n                                {\n                                    "type": "header",\n                                    "parameters": [\n                                        {\n                                            "type": "image",\n                                            "url": "https://.../product_B_live.png"\n                                        }\n                                    ]\n                                },\n                                {\n                                    "type": "button",\n                                    "index": 0,\n                                    "subType": "url",\n                                    "parameters": [\n                                        {\n                                            "type": "text",\n                                            "text": "B"\n                                        }\n                                    ]\n                                }\n                            ]\n                        }\n                    ]\n                }\n            ]\n        }\n    }\n}\n'})}),"\n "]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"simple-whatsapp-support-bot-with-api-lookup",children:"Simple WhatsApp Support Bot (with API lookup)"}),"\n",(0,o.jsx)(n.p,{children:"This is a complete, user-initiated bot that handles a specific request by calling an external API."}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Tools Used:"})," ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"/connect/docs/automation-builder",children:"8x8 Automation Builder"})})," + ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"/connect/docs/converse-overview",children:"8x8 Converse"})})]}),"\n",(0,o.jsx)(n.h4,{id:"the-flow-4",children:"The Flow"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Step 1: Customer Asks for Help (User-Initiated)"}),' Customer sends "Hi". The ',(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"/connect/docs/automation-builder",children:"Automation Builder"})})," workflow is triggered."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Step 2: Automation Responds with Main Menu"})," The workflow replies with an ",(0,o.jsx)(n.strong,{children:"Interactive Button Message"}),"."]}),"\n ",(0,o.jsxs)(n.details,{children:[" ",(0,o.jsx)(n.summary,{children:"Click to view `Automated Response Payload` (Interactive Buttons)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n    "user": {\n        "msisdn": "+15551234567"\n    },\n    "type": "interactive",\n    "content": {\n        "interactive": {\n            "type": "button",\n            "body": {\n                "text": "Welcome to support! How can I help you?"\n            },\n            "action": {\n                "buttons": [\n                    {\n                        "type": "reply",\n                        "reply": {\n                            "title": "Check Order Status",\n                            "id": "check_order"\n                        }\n                    },\n                    {\n                        "type": "reply",\n                        "reply": {\n                            "title": "Talk to an Agent",\n                            "id": "escalate_agent"\n                        }\n                    }\n                ]\n            }\n        }\n    }\n}\n'})}),"\n "]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:'Step 3: Path 1 - "Check Order Status"'}),' The user clicks "Check Order Status." The automation receives the webhook, branches, and replies with a freeform text message.']}),"\n ",(0,o.jsxs)(n.details,{children:[" ",(0,o.jsx)(n.summary,{children:"Click to view `Automated Response Payload` (Freeform Text)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n    "user": {\n        "msisdn": "+15551234567"\n    },\n    "type": "text",\n    "content": {\n        "text": "Please reply with your 8-digit order number (e.g., 12345678)."\n    }\n}\n'})}),"\n "]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Step 4: User Replies with Order ID"})," The automation, using a ",(0,o.jsx)(n.strong,{children:"Wait For Reply"}),' step, receives the order number (e.g., "98765432"). It saves this as a variable (',(0,o.jsx)(n.code,{children:"{{data.order_id}}"}),")."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Step 5: Automation Calls External API"})," The automation uses the ",(0,o.jsx)(n.strong,{children:"HTTP Request"})," step to call your internal e-commerce API."]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Method:"})," ",(0,o.jsx)(n.code,{children:"GET"})]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"URL:"})," ",(0,o.jsx)(n.code,{children:"https://api.my-ecommerce.com/orders/{{data.order_id}}"})," The automation saves the response (e.g., ",(0,o.jsx)(n.code,{children:'{"status": "Shipped"}'}),") as a variable (",(0,o.jsx)(n.code,{children:"{{step.responseBody.status}}"}),")."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Step 6: Automation Responds with Status"})," The workflow sends a final freeform text message with the data from the API call."]}),"\n ",(0,o.jsxs)(n.details,{children:[" ",(0,o.jsx)(n.summary,{children:"Click to view `Automated Response Payload` (Dynamic Freeform Text)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n    "user": {\n        "msisdn": "+15551234567"\n    },\n    "type": "text",\n    "content": {\n        "text": "Your order #{{data.order_id}} status is: {{data.order_status}}. \\n\\nCan I help with anything else?"\n    }\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:[" ",(0,o.jsxs)(n.em,{children:["(Note: The variables ",(0,o.jsx)(n.code,{children:"{{data.order_id}}"})," and ",(0,o.jsx)(n.code,{children:"{{data.order_status}}"})," are populated by the Automation Builder from its saved context.)"]})," "]})]}),(0,o.jsx)(n.p,{}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:'Step 7: Path 2 - "Talk to an Agent"'}),' If the user had clicked "Talk to an Agent" in Step 3, the automation would execute the ',(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Send to Converse"})})," step and send a final confirmation message."]}),"\n ",(0,o.jsxs)(n.details,{children:[" ",(0,o.jsx)(n.summary,{children:"Click to view `Automated Response Payload` (Freeform Text)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n    "user": {\n        "msisdn": "+15551234567"\n    },\n    "type": "text",\n    "content": {\n        "text": "Thank you. I am transferring you to the next available agent. Please hold."\n    }\n}\n'})}),"\n "]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>a});var s=t(96540);const o={},r=s.createContext(o);function i(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);