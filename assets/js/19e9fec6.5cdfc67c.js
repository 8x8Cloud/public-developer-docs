"use strict";(globalThis.webpackChunk_8x8_developer_docs=globalThis.webpackChunk_8x8_developer_docs||[]).push([[70555],{27350:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"connect/docs/inbound-chatapps-message","title":"Inbound Messaging Apps message","description":"Inbound Messages are messages sent to you by users, on one of the channels you linked with your 8x8 account. Once this happens, 8x8 sends you this message to your webhook.","source":"@site/docs/connect/docs/inbound-chatapps-message.md","sourceDirName":"connect/docs","slug":"/connect/docs/inbound-chatapps-message","permalink":"/connect/docs/inbound-chatapps-message","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"sidebarConnectReference","previous":{"title":"Delete webhooks","permalink":"/connect/reference/delete-webhooks-1"},"next":{"title":"Delivery receipts for Outbound Messaging Apps","permalink":"/connect/docs/delivery-receipts-for-outbound-chatapps"}}');var i=t(74848),l=t(28453);const r={},d="Inbound Messaging Apps message",c={},o=[{value:"Requirements",id:"requirements",level:3},{value:"Inbound message flow example",id:"inbound-message-flow-example",level:3},{value:"Retry logic",id:"retry-logic",level:3},{value:"Webhook format",id:"webhook-format",level:3},{value:"Sample Messaging Apps inbound message",id:"sample-messaging-apps-inbound-message",level:3},{value:"Sample Messaging Apps inbound message (Flow Response)",id:"sample-messaging-apps-inbound-message-flow-response",level:3},{value:"Sample Messaging Apps inbound message (Call Permission Reply)",id:"sample-messaging-apps-inbound-message-call-permission-reply",level:3}];function a(e){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"inbound-messaging-apps-message",children:"Inbound Messaging Apps message"})}),"\n",(0,i.jsx)(n.p,{children:"Inbound Messages are messages sent to you by users, on one of the channels you linked with your 8x8 account. Once this happens, 8x8 sends you this message to your webhook."}),"\n",(0,i.jsx)(n.h3,{id:"requirements",children:"Requirements"}),"\n",(0,i.jsx)(n.p,{children:"To use 8x8 inbound Messaging Apps capabilities, you need:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["An account configured to use ",(0,i.jsx)(n.a,{href:"/connect/reference/list-of-supported-chatapps-channels",children:"Messaging Apps"})," product."]}),"\n",(0,i.jsx)(n.li,{children:"A webhook to indicate to us which URL 8x8 platform should forward the inbound messages addressed to you."}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\ud83d\udcd8"}),"\n",(0,i.jsxs)(n.p,{children:["You can configure your callback using ",(0,i.jsx)(n.a,{href:"/connect/reference/webhooks-configuration-api",children:"Webhook Configuration API"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"inbound-message-flow-example",children:"Inbound message flow example"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"A user sends a message to your WhatsApp or Viber number"}),"\n",(0,i.jsx)(n.li,{children:"8x8 Platform receives the message on your behalf"}),"\n",(0,i.jsx)(n.li,{children:"8x8 Platform programmatically transmits the message to the callback URL configured for your webhook including all the information linked to the message."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"retry-logic",children:"Retry logic"}),"\n",(0,i.jsx)(n.p,{children:"In case of connection error/timeout or HTTP response code 4XX or 5XX, there will be multiple retry attempts with progressive intervals: 1, 10, 30, 90 sec."}),"\n",(0,i.jsx)(n.h3,{id:"webhook-format",children:"Webhook format"}),"\n",(0,i.jsx)(n.p,{children:"Request body description"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter name"}),(0,i.jsx)(n.th,{children:"Parameter type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"namespace"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsxs)(n.td,{children:["A generic namespace for incoming webhook.",(0,i.jsx)(n.br,{}),"Equal to ",(0,i.jsx)(n.code,{children:"ChatApps"})," for inbound Messaging Apps message."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"eventType"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsxs)(n.td,{children:["Webhook type.",(0,i.jsx)(n.br,{}),"Equals to ",(0,i.jsx)(n.code,{children:"inbound_message_received"})," for inbound Messaging Apps message."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"description"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Human-readable description of the incoming event"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"payload"}),(0,i.jsx)(n.td,{children:"object"}),(0,i.jsx)(n.td,{children:"Inbound message information, see below."})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"Payload object description"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter name"}),(0,i.jsx)(n.th,{children:"Parameter type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"umid"}),(0,i.jsx)(n.td,{children:"uuid"}),(0,i.jsx)(n.td,{children:"Unique message ID for the inbound message"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"subAccountId"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Id of the sub-account which owns the virtual number."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"timestamp"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"UTC date and time when the message was received expressed in ISO 8601 format."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"user"}),(0,i.jsx)(n.td,{children:"object"}),(0,i.jsx)(n.td,{children:"Information about the user the message is associated with."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"recipient"}),(0,i.jsx)(n.td,{children:"object"}),(0,i.jsx)(n.td,{children:"Recipient information, see below"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"type"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsxs)(n.td,{children:["Inbound message type. Possible values:",(0,i.jsx)(n.br,{}),"- ",(0,i.jsx)(n.code,{children:"None"}),(0,i.jsx)(n.br,{}),"- ",(0,i.jsx)(n.code,{children:"Text"}),(0,i.jsx)(n.br,{}),"- ",(0,i.jsx)(n.code,{children:"Audio"}),(0,i.jsx)(n.br,{}),"- ",(0,i.jsx)(n.code,{children:"Video"}),(0,i.jsx)(n.br,{}),"- ",(0,i.jsx)(n.code,{children:"Image"}),(0,i.jsx)(n.br,{}),"- ",(0,i.jsx)(n.code,{children:"Location"}),(0,i.jsx)(n.br,{}),"- ",(0,i.jsx)(n.code,{children:"File"}),(0,i.jsx)(n.br,{}),"- ",(0,i.jsx)(n.code,{children:"Carousel"}),(0,i.jsx)(n.br,{}),"- ",(0,i.jsx)(n.code,{children:"List"}),(0,i.jsx)(n.br,{}),"- ",(0,i.jsx)(n.code,{children:"Buttons"}),(0,i.jsx)(n.br,{}),"- ",(0,i.jsx)(n.code,{children:"Template"}),(0,i.jsx)(n.br,{}),"- ",(0,i.jsx)(n.code,{children:"Interactive"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"content"}),(0,i.jsx)(n.td,{children:"object"}),(0,i.jsx)(n.td,{children:"Message content"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"replyToUmid"}),(0,i.jsx)(n.td,{children:"uuid"}),(0,i.jsx)(n.td,{children:"Optional context data, if this inbound message is referring to a previous inbound message (ex, quoted messages on WhatsApp)."})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"User information object description"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter name"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter type"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"msisdn"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Phone number expressed in E.164 international format."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"channelUserId"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Id of the user in the channel"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"name"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"User's name in the channel. For example, username of the WhatsApp user"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"Recipient information object description"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter name"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter Type"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"channel"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,i.jsxs)(n.td,{style:{textAlign:"left"},children:["Channel type, please see ",(0,i.jsx)(n.a,{href:"/connect/reference/list-of-supported-chatapps-channels",children:"List of supported Messaging Apps channels"})," for details."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"channelId"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Channel user identifier."})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"Content information object description"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter name"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter type"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"text"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,i.jsxs)(n.td,{style:{textAlign:"left"},children:["Message text (for payload with type = ",(0,i.jsx)(n.code,{children:"Text"}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"url"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"The URL of the media attachment (rich content) if any"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"payload"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Content payload (for interactive messages)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"location"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"object"}),(0,i.jsxs)(n.td,{style:{textAlign:"left"},children:["Location object (for payload with type = ",(0,i.jsx)(n.code,{children:"Location"}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"interactive"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"object"}),(0,i.jsxs)(n.td,{style:{textAlign:"left"},children:["Interactive object (for payload with type = ",(0,i.jsx)(n.code,{children:"Interactive"}),")"]})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"Location information object description"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter name"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter type"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"latitude"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"decimal"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Latitude"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"longitude"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"decimal"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Longitude"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"Interactive information object description"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter name"}),(0,i.jsx)(n.th,{children:"Parameter type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"type"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsxs)(n.td,{children:["Type of the message. Possible values:",(0,i.jsx)(n.br,{}),"- ",(0,i.jsx)(n.code,{children:"button_reply"}),(0,i.jsx)(n.br,{}),"- ",(0,i.jsx)(n.code,{children:"list_reply"}),(0,i.jsx)(n.br,{}),"- ",(0,i.jsx)(n.code,{children:"nfmReply"}),(0,i.jsx)(n.br,{}),"- ",(0,i.jsx)(n.code,{children:"callPermissionReply"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"button_reply"}),(0,i.jsx)(n.td,{children:"object"}),(0,i.jsx)(n.td,{children:"Button reply object. Sent when a customer clicks a button."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"list_reply"}),(0,i.jsx)(n.td,{children:"object"}),(0,i.jsx)(n.td,{children:"List reply object. Sent when a customer selects an item from a list."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"nfmReply"}),(0,i.jsx)(n.td,{children:"object"}),(0,i.jsxs)(n.td,{children:["Flow reply object. Sent when a customer completes or submits a WhatsApp Flow. Contains flow response data in ",(0,i.jsx)(n.code,{children:"responseJson"}),"."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"callPermissionReply"}),(0,i.jsx)(n.td,{children:"object"}),(0,i.jsx)(n.td,{children:"Call permission reply object. Sent when a customer responds to a call permission request on WhatsApp. Contains the user's permission decision and related metadata."})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"Button reply information object description"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter name"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter type"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"id"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Unique ID of a button."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"title"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Title of a button."})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"List reply information object description"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter name"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter type"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"id"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Unique ID of the selected list item"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"title"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Title of the selected list item."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"description"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Description of the selected row."})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"NFM reply information object description"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter name"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter type"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"responseJson"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"The raw JSON string returned from the completed Flow, containing the user's submitted data (e.g., flow token, field values)."})]})})]}),"\n",(0,i.jsx)(n.p,{children:"Call permission reply information object description"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter name"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter type"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"response"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,i.jsxs)(n.td,{style:{textAlign:"left"},children:["The user's response to the call permission request. Possible values:",(0,i.jsx)(n.br,{}),"- ",(0,i.jsx)(n.code,{children:"accept"})," - User granted call permission",(0,i.jsx)(n.br,{}),"- ",(0,i.jsx)(n.code,{children:"reject"})," - User denied call permission"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"isPermanent"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"boolean"}),(0,i.jsxs)(n.td,{style:{textAlign:"left"},children:["Indicates whether the permission is permanent. ",(0,i.jsx)(n.code,{children:"false"})," for temporary permissions (7 days), ",(0,i.jsx)(n.code,{children:"true"})," for permanent permissions."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"expirationTimestamp"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,i.jsxs)(n.td,{style:{textAlign:"left"},children:["UTC date and time when the temporary call permission expires, expressed in ISO 8601 format. Only present when ",(0,i.jsx)(n.code,{children:"isPermanent"})," is ",(0,i.jsx)(n.code,{children:"false"}),"."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"responseSource"}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,i.jsxs)(n.td,{style:{textAlign:"left"},children:["The source of the permission. Always ",(0,i.jsx)(n.code,{children:"user_action"})," - indicates the user explicitly approved or rejected the permission. Note: Automatic permissions (e.g., when a WhatsApp user initiates the call) do not trigger this webhook."]})]})]})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\u2757\ufe0f"}),"\n",(0,i.jsx)(n.p,{children:"If the request you receive has a different structure from described in this document, please contact our support to activate the latest format for your account."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"sample-messaging-apps-inbound-message",children:"Sample Messaging Apps inbound message"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "namespace": "ChatApps",\n  "eventType": "inbound_message_received",\n  "description": "ChatApps inbound message",\n  "payload": {\n    "umid": "9e09ac86-bd74-5465-851d-1eb5a5fdbb9a",\n    "subAccountId": "SubAccount-1",\n    "timestamp": "2016-01-01T14:34:56.017Z",\n    "user": {\n      "msisdn": "+12025550023",\n      "channelUserId": "12025550023"\n    },\n    "recipient": {\n      "channel": "whatsapp",\n      "channelId": "269a57f4-3522-eb11-8278-00155d9f27ac"\n    },\n    "type": "Text",\n    "content": {\n      "text": "Test message"\n    },\n    "replyToUmid": "777a57f4-bd74-eb11-851d-00155d9fer55"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"sample-messaging-apps-inbound-message-flow-response",children:"Sample Messaging Apps inbound message (Flow Response)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "namespace": "ChatApps",\n  "eventType": "inbound_message_received",\n  "description": "ChatApps inbound message",\n  "payload": {\n    "umid": "2b1e044d-6fce-4a11-8962-b39900a755c1",\n    "subAccountId": "SubAccount-1",\n    "timestamp": "2018-03-19T22:51:55.00Z",\n    "user": {\n      "msisdn": "+12025550023",\n      "channelUserId": "12025550023"\n    },\n    "recipient": {\n      "channel": "whatsapp",\n      "channelId": "4b2ba2df-deb0-4c29-8ba5-a266672daf49"\n    },\n    "type": "Interactive",\n    "content": {\n      "interactive": {\n        "type": "nfmReply",\n        "nfmReply": {\n          "responseJson": "{\\"flow_token\\": \\"<FLOW_TOKEN>\\", \\"optional_param1\\": \\"<value1>\\", \\"optional_param2\\": \\"<value2>\\"}"\n        }\n      }\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"sample-messaging-apps-inbound-message-call-permission-reply",children:"Sample Messaging Apps inbound message (Call Permission Reply)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "namespace": "ChatApps",\n  "eventType": "inbound_message_received",\n  "description": "ChatApps inbound message",\n  "payload": {\n    "umid": "2b1e044d-6fce-4a11-8962-b39900a755c1",\n    "subAccountId": "SubAccount-1",\n    "timestamp": "2026-01-22T22:51:55.00Z",\n    "user": {\n      "msisdn": "+12025550023",\n      "channelUserId": "12025550023"\n    },\n    "recipient": {\n      "channel": "whatsapp",\n      "channelId": "4b2ba2df-deb0-4c29-8ba5-a266672daf49"\n    },\n    "type": "Interactive",\n    "content": {\n      "interactive": {\n        "type": "callPermissionReply",\n        "callPermissionReply": {\n          "response": "accept",\n          "isPermanent": false,\n          "expirationTimestamp": "2026-01-23T06:51:55.00Z",\n          "responseSource": "user_action"\n        }\n      }\n    }\n  }\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>d});var s=t(96540);const i={},l=s.createContext(i);function r(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);