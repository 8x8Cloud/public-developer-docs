"use strict";(globalThis.webpackChunk_8x8_developer_docs=globalThis.webpackChunk_8x8_developer_docs||[]).push([[41899],{28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>a});var i=s(96540);const l={},r=i.createContext(l);function t(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),i.createElement(r.Provider,{value:n},e.children)}},70481:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"connect/docs/whatsapp/whatsapp-flows-best-practices","title":"WhatsApp Flow Best Practices & Governance","description":"Comprehensive guidelines for designing effective, secure, and compliant WhatsApp Flows. Follow these best practices to create Flows that deliver great user experiences while maintaining security and regulatory compliance.","source":"@site/docs/connect/docs/whatsapp/whatsapp-flows-best-practices.md","sourceDirName":"connect/docs/whatsapp","slug":"/connect/docs/whatsapp/whatsapp-flows-best-practices","permalink":"/connect/docs/whatsapp/whatsapp-flows-best-practices","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"sidebar_label":"Best Practices"},"sidebar":"sidebarConnectDocs","previous":{"title":"Flow Component Reference","permalink":"/connect/docs/whatsapp/whatsapp-flows-components"},"next":{"title":"Advanced Capabilities","permalink":"/connect/docs/whatsapp/advanced-capabilities"}}');var l=s(74848),r=s(28453);const t={sidebar_label:"Best Practices"},a="WhatsApp Flow Best Practices & Governance",o={},c=[{value:"Design Best Practices",id:"design-best-practices",level:2},{value:"Keep Flows Focused",id:"keep-flows-focused",level:3},{value:"Validate Input Appropriately",id:"validate-input-appropriately",level:3},{value:"Provide Clear Instructions",id:"provide-clear-instructions",level:3},{value:"Plan for Mobile",id:"plan-for-mobile",level:3},{value:"Screen-by-Screen Design",id:"screen-by-screen-design",level:3},{value:"Governance and Security",id:"governance-and-security",level:2},{value:"Data Collection Principles",id:"data-collection-principles",level:3},{value:"Input Validation",id:"input-validation",level:3},{value:"Sensitive Data Handling",id:"sensitive-data-handling",level:3},{value:"Compliance",id:"compliance",level:3},{value:"Testing and Quality Assurance",id:"testing-and-quality-assurance",level:2},{value:"Testing Checklist",id:"testing-checklist",level:3},{value:"Common Issues and Solutions",id:"common-issues-and-solutions",level:3},{value:"Monitoring and Analytics",id:"monitoring-and-analytics",level:3},{value:"Error Handling",id:"error-handling",level:2},{value:"Client-Side Validation",id:"client-side-validation",level:3},{value:"Server-Side Validation",id:"server-side-validation",level:3},{value:"Graceful Degradation",id:"graceful-degradation",level:3},{value:"Accessibility",id:"accessibility",level:2},{value:"Text Clarity",id:"text-clarity",level:3},{value:"Visual Design",id:"visual-design",level:3},{value:"Progressive Enhancement",id:"progressive-enhancement",level:3},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Image Optimization",id:"image-optimization",level:3},{value:"Flow JSON Size",id:"flow-json-size",level:3},{value:"Webhook Performance",id:"webhook-performance",level:3},{value:"Documentation",id:"documentation",level:2},{value:"Internal Documentation",id:"internal-documentation",level:3},{value:"User-Facing Documentation",id:"user-facing-documentation",level:3},{value:"Troubleshooting Guide",id:"troubleshooting-guide",level:2},{value:"Flow Won&#39;t Publish",id:"flow-wont-publish",level:3},{value:"Users Can&#39;t Open Flow",id:"users-cant-open-flow",level:3},{value:"Webhook Not Receiving Submissions",id:"webhook-not-receiving-submissions",level:3},{value:"Parsing Errors",id:"parsing-errors",level:3},{value:"Next Steps",id:"next-steps",level:2},{value:"Related Documentation",id:"related-documentation",level:3},{value:"Additional Resources",id:"additional-resources",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"whatsapp-flow-best-practices--governance",children:"WhatsApp Flow Best Practices & Governance"})}),"\n",(0,l.jsx)(n.p,{children:"Comprehensive guidelines for designing effective, secure, and compliant WhatsApp Flows. Follow these best practices to create Flows that deliver great user experiences while maintaining security and regulatory compliance."}),"\n",(0,l.jsx)(n.h2,{id:"design-best-practices",children:"Design Best Practices"}),"\n",(0,l.jsx)(n.h3,{id:"keep-flows-focused",children:"Keep Flows Focused"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Do:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Limit Flows to 3-5 screens maximum"}),"\n",(0,l.jsx)(n.li,{children:"Collect only essential data for the next action"}),"\n",(0,l.jsx)(n.li,{children:"Use clear, concise field labels"}),"\n",(0,l.jsx)(n.li,{children:"Group related fields on the same screen"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Don't:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Create 10+ screen flows (users abandon long forms)"}),"\n",(0,l.jsx)(n.li,{children:"Ask for data you won't immediately use"}),"\n",(0,l.jsx)(n.li,{children:"Mix unrelated topics in one Flow"}),"\n",(0,l.jsx)(n.li,{children:"Overwhelm users with too many fields per screen"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"validate-input-appropriately",children:"Validate Input Appropriately"}),"\n",(0,l.jsx)(n.p,{children:"Use built-in field validation to prevent errors:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Set ",(0,l.jsx)(n.code,{children:"required: true"})," for mandatory fields"]}),"\n",(0,l.jsxs)(n.li,{children:["Use ",(0,l.jsx)(n.code,{children:'input-type: "email"'})," for email fields with automatic validation"]}),"\n",(0,l.jsxs)(n.li,{children:["Use ",(0,l.jsx)(n.code,{children:'input-type: "number"'})," for numeric fields"]}),"\n",(0,l.jsxs)(n.li,{children:["Use ",(0,l.jsx)(n.code,{children:'input-type: "phone"'})," for phone numbers"]}),"\n",(0,l.jsx)(n.li,{children:"Use Dropdown/RadioButton for constrained choices (prevents invalid input)"}),"\n",(0,l.jsxs)(n.li,{children:["Set ",(0,l.jsx)(n.code,{children:"min-chars"})," and ",(0,l.jsx)(n.code,{children:"max-chars"})," for text length validation"]}),"\n",(0,l.jsxs)(n.li,{children:["Set ",(0,l.jsx)(n.code,{children:"min-date"})," and ",(0,l.jsx)(n.code,{children:"max-date"})," for date restrictions"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Example:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "type": "TextInput",\n  "name": "email",\n  "label": "Email Address",\n  "input-type": "email",\n  "required": true,\n  "helper-text": "We\'ll send confirmation to this address"\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"provide-clear-instructions",children:"Provide Clear Instructions"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Use ",(0,l.jsx)(n.code,{children:"TextHeading"})," and ",(0,l.jsx)(n.code,{children:"TextBody"})," components to explain each screen's purpose"]}),"\n",(0,l.jsxs)(n.li,{children:["Set descriptive ",(0,l.jsx)(n.code,{children:"label"})," attributes on all input fields"]}),"\n",(0,l.jsxs)(n.li,{children:["Use ",(0,l.jsx)(n.code,{children:"helper-text"})," to provide examples or clarifications"]}),"\n",(0,l.jsxs)(n.li,{children:["Include ",(0,l.jsx)(n.code,{children:"footer"})," text to guide next steps"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Example:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "type": "TextInput",\n  "name": "order_number",\n  "label": "Order Number",\n  "input-type": "text",\n  "required": true,\n  "helper-text": "Example: ORD-12345"\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"plan-for-mobile",children:"Plan for Mobile"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Keep text concise"})," - Users are on small screens"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Avoid long dropdown lists"})," - Use search or radio buttons for 5+ options"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Test on actual WhatsApp"})," - Validate UX on real devices"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Optimize images"})," - Ensure images load quickly on mobile data"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use appropriate keyboards"})," - ",(0,l.jsx)(n.code,{children:"input-type"})," controls mobile keyboard type"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"screen-by-screen-design",children:"Screen-by-Screen Design"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Welcome Screen:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Clearly state the Flow's purpose"}),"\n",(0,l.jsx)(n.li,{children:'Set expectations (e.g., "Takes 2 minutes")'}),"\n",(0,l.jsx)(n.li,{children:"Use friendly, conversational tone"}),"\n",(0,l.jsx)(n.li,{children:"Include visual elements (Image, ImageCarousel) if appropriate"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Data Collection Screens:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"One topic per screen (don't mix personal info with preferences)"}),"\n",(0,l.jsx)(n.li,{children:'Progress indicators if multiple screens (e.g., "Step 2 of 4")'}),"\n",(0,l.jsx)(n.li,{children:"Default values when possible to reduce typing"}),"\n",(0,l.jsx)(n.li,{children:"Logical field ordering (name before email, email before phone)"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Terminal Screen:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Summarize what will happen next"}),"\n",(0,l.jsx)(n.li,{children:"Show submitted data for review (optional)"}),"\n",(0,l.jsx)(n.li,{children:"Thank the user for their time"}),"\n",(0,l.jsx)(n.li,{children:"Set expectations for follow-up"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"governance-and-security",children:"Governance and Security"}),"\n",(0,l.jsx)(n.h3,{id:"data-collection-principles",children:"Data Collection Principles"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Minimize Data Collection:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Only request data necessary for the immediate next step"}),"\n",(0,l.jsx)(n.li,{children:"Don't collect sensitive data (SSN, full credit card numbers) via Flows"}),"\n",(0,l.jsx)(n.li,{children:"Clearly state why you're requesting each field"}),"\n",(0,l.jsx)(n.li,{children:"Consider privacy implications of each field"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Transparency:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Explain how you'll use submitted data"}),"\n",(0,l.jsx)(n.li,{children:"Link to privacy policy if collecting personal information"}),"\n",(0,l.jsx)(n.li,{children:"Allow users to review data before final submission (add summary screen)"}),"\n",(0,l.jsx)(n.li,{children:"Obtain explicit consent for data processing where required"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Example:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "type": "OptIn",\n  "name": "privacy_consent",\n  "label": "I agree to the Privacy Policy",\n  "required": true,\n  "on-click-action": {\n    "name": "navigate",\n    "next": {\n      "type": "screen",\n      "name": "PRIVACY_POLICY_SCREEN"\n    }\n  }\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"input-validation",children:"Input Validation"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Server-Side Validation:"})}),"\n",(0,l.jsx)(n.p,{children:"Always validate Flow submissions on your backend, even though Flows have client-side validation:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"function validateFlowSubmission(data) {\n  // Validate required fields exist\n  if (!data.email || !isValidEmail(data.email)) {\n    throw new Error('Invalid email');\n  }\n\n  // Validate data types\n  if (typeof data.age !== 'number' || data.age < 0) {\n    throw new Error('Invalid age');\n  }\n\n  // Sanitize inputs before storage\n  const sanitized = {\n    email: sanitizeEmail(data.email),\n    feedback: sanitizeText(data.feedback),\n    age: parseInt(data.age)\n  };\n\n  return sanitized;\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Treat Submissions as Untrusted Input:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Validate data types and formats"}),"\n",(0,l.jsx)(n.li,{children:"Sanitize before database insertion"}),"\n",(0,l.jsx)(n.li,{children:"Check for injection attacks (SQL, XSS)"}),"\n",(0,l.jsx)(n.li,{children:"Rate limit submission processing"}),"\n",(0,l.jsx)(n.li,{children:"Log suspicious submissions for review"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"sensitive-data-handling",children:"Sensitive Data Handling"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"For KYC/Identity Verification:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Use ",(0,l.jsx)(n.code,{children:"PhotoPicker"})," for ID document upload"]}),"\n",(0,l.jsx)(n.li,{children:"Store images in encrypted storage with access controls"}),"\n",(0,l.jsx)(n.li,{children:"Implement automated verification (OCR, face matching) when possible"}),"\n",(0,l.jsx)(n.li,{children:"Set data retention policies compliant with regulations"}),"\n",(0,l.jsx)(n.li,{children:"Log all access to sensitive documents"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Example:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"// Upload ID photo to secure storage\nconst idPhotoUrl = await uploadToSecureStorage(data.id_photo, {\n  userId: payload.user.msisdn,\n  type: 'kyc_document',\n  encrypted: true,\n  retentionDays: 90,\n  timestamp: new Date()\n});\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Never Collect via Flows:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Full credit card numbers (use payment gateways instead)"}),"\n",(0,l.jsx)(n.li,{children:"Social Security Numbers in full (use last 4 digits if needed)"}),"\n",(0,l.jsx)(n.li,{children:"Passwords or PINs"}),"\n",(0,l.jsx)(n.li,{children:"Biometric data beyond photos for ID verification"}),"\n",(0,l.jsx)(n.li,{children:"Protected health information (unless HIPAA compliant)"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"compliance",children:"Compliance"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Template Approval:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Templates with Flow buttons require Meta approval (typically 24-48 hours)"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Choose the appropriate category to avoid template rejection:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"UTILITY"})," - For transactional/service Flows (data collection, appointments, customer service, feedback)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"MARKETING"})," - For promotional Flows (offers, campaigns, product announcements)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"AUTHENTICATION"})," - For OTP and verification (special requirements)"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["See ",(0,l.jsx)(n.a,{href:"/connect/docs/whatsapp/concepts-fundamentals#2-template-categories",children:"Template Categories"})," for complete guidelines"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"User Consent:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Ensure users opted in to receive messages"}),"\n",(0,l.jsx)(n.li,{children:"Respect opt-out requests immediately"}),"\n",(0,l.jsx)(n.li,{children:"Maintain opt-in records for compliance audits"}),"\n",(0,l.jsx)(n.li,{children:"Provide easy opt-out mechanism in every message"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Data Retention:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Store Flow submissions according to your privacy policy"}),"\n",(0,l.jsx)(n.li,{children:"Implement data deletion on user request (GDPR right to deletion)"}),"\n",(0,l.jsx)(n.li,{children:"Comply with GDPR, CCPA, and local regulations"}),"\n",(0,l.jsx)(n.li,{children:"Document data flows for compliance reporting"}),"\n",(0,l.jsx)(n.li,{children:"Set retention periods and automated deletion"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"GDPR Considerations:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Obtain explicit consent for data processing"}),"\n",(0,l.jsx)(n.li,{children:"Provide clear privacy notices"}),"\n",(0,l.jsx)(n.li,{children:"Allow users to access their data"}),"\n",(0,l.jsx)(n.li,{children:"Enable data portability"}),"\n",(0,l.jsx)(n.li,{children:"Implement right to be forgotten"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"testing-and-quality-assurance",children:"Testing and Quality Assurance"}),"\n",(0,l.jsx)(n.h3,{id:"testing-checklist",children:"Testing Checklist"}),"\n",(0,l.jsx)(n.p,{children:"Before launching a Flow to production:"}),"\n",(0,l.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,l.jsx)(n.strong,{children:"Preview Testing"})]}),"\n",(0,l.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," All screens render correctly on mobile layout"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Navigation works as expected (forward and back)"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Conditional logic behaves correctly"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Required fields are enforced"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Field validation works (email, phone, date formats)"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,l.jsx)(n.strong,{children:"End-to-End Testing"})]}),"\n",(0,l.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Create test template with Flow button"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Send to test WhatsApp numbers"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Complete Flow with valid data"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Complete Flow with invalid/edge case data"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Verify webhook receives correct payload"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Confirm data parsing works correctly"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,l.jsx)(n.strong,{children:"User Experience Testing"})]}),"\n",(0,l.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Text fits on mobile screens without truncation"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Images load quickly"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Helper text is clear and helpful"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Error messages are understandable"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Overall completion time is reasonable (< 5 minutes)"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,l.jsx)(n.strong,{children:"Integration Testing"})]}),"\n",(0,l.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Webhook processes submissions successfully"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Data saves to CRM/database correctly"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Confirmation messages send to users"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Error handling works gracefully"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Duplicate submissions are handled (idempotency)"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,l.jsx)(n.strong,{children:"Security Testing"})]}),"\n",(0,l.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Input validation catches malicious input"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," SQL injection attempts are blocked"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," XSS attempts are sanitized"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Rate limiting works"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Sensitive data is encrypted in transit and at rest"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"common-issues-and-solutions",children:"Common Issues and Solutions"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Issue"}),(0,l.jsx)(n.th,{children:"Likely Cause"}),(0,l.jsx)(n.th,{children:"Solution"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"High abandonment rate"})}),(0,l.jsx)(n.td,{children:"Too long, confusing navigation"}),(0,l.jsx)(n.td,{children:"Reduce screens, simplify language, add progress indicators"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Invalid data submissions"})}),(0,l.jsx)(n.td,{children:"Weak validation, unclear instructions"}),(0,l.jsx)(n.td,{children:"Add field validation, improve helper-text, use constrained inputs"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Webhook timeouts"})}),(0,l.jsx)(n.td,{children:"Slow processing, no async handling"}),(0,l.jsx)(n.td,{children:"Respond 200 OK immediately, process asynchronously"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Duplicate submissions"})}),(0,l.jsx)(n.td,{children:"No idempotency check"}),(0,l.jsxs)(n.td,{children:["Use ",(0,l.jsx)(n.code,{children:"umid"})," to track processed submissions"]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Low completion rate"})}),(0,l.jsx)(n.td,{children:"Poor mobile UX, too many required fields"}),(0,l.jsx)(n.td,{children:"Test on real devices, make more fields optional"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"monitoring-and-analytics",children:"Monitoring and Analytics"}),"\n",(0,l.jsx)(n.p,{children:"Track these metrics to optimize your Flows:"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Completion Metrics:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Start rate"})," - % of users who click the Flow button"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Completion rate"})," - % of users who submit the Flow"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Abandonment by screen"})," - Where users drop off"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Average completion time"})," - How long users take"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Quality Metrics:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Invalid submissions"})," - Data that fails validation"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Webhook errors"})," - Processing failures"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Response time"})," - How quickly webhooks process"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"User feedback"})," - Complaints or confusion reports"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Optimization Actions:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"A/B test different Flow designs"}),"\n",(0,l.jsx)(n.li,{children:"Remove or simplify high-abandonment screens"}),"\n",(0,l.jsx)(n.li,{children:"Improve helper text for fields with high error rates"}),"\n",(0,l.jsx)(n.li,{children:"Add more constrained inputs (dropdown vs text)"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,l.jsx)(n.h3,{id:"client-side-validation",children:"Client-Side Validation"}),"\n",(0,l.jsx)(n.p,{children:"WhatsApp Flows provide built-in validation:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Required fields prevent submission if empty"}),"\n",(0,l.jsx)(n.li,{children:"Email/phone/number input types validate format"}),"\n",(0,l.jsx)(n.li,{children:"Date pickers constrain to valid dates"}),"\n",(0,l.jsx)(n.li,{children:"Min/max character limits prevent oversized input"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Users see validation errors immediately"})," without submitting."]}),"\n",(0,l.jsx)(n.h3,{id:"server-side-validation",children:"Server-Side Validation"}),"\n",(0,l.jsx)(n.p,{children:"Always validate on your backend:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"app.post('/webhook', async (req, res) => {\n  const { payload } = req.body;\n\n  // Acknowledge immediately\n  res.status(200).send('OK');\n\n  try {\n    // Parse submission\n    const data = JSON.parse(payload.content.interactive.nfmReply.responseJson);\n\n    // Validate\n    if (!data.email || !isValidEmail(data.email)) {\n      await logInvalidSubmission(payload.umid, 'invalid_email', data);\n      await sendMessage(payload.user.msisdn,\n        \"We couldn't process your submission. Please check your email and try again.\");\n      return;\n    }\n\n    // Process valid submission\n    await processFlowSubmission(data, payload);\n\n  } catch (error) {\n    console.error('Flow processing error:', error);\n    await logError(payload.umid, error);\n    await sendMessage(payload.user.msisdn,\n      \"We encountered an error. Our team has been notified and will follow up shortly.\");\n  }\n});\n"})}),"\n",(0,l.jsx)(n.h3,{id:"graceful-degradation",children:"Graceful Degradation"}),"\n",(0,l.jsx)(n.p,{children:"When errors occur:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Log the error"})," with full context (umid, payload, user)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Notify the user"})," with a helpful message"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Alert your team"})," for high-priority issues"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Provide alternatives"})," (phone number, email for support)"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Example:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:'await sendMessage(payload.user.msisdn,\n  "We\'re having trouble processing your request right now. " +\n  "Please try again in a few minutes, or contact us at support@example.com.");\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"accessibility",children:"Accessibility"}),"\n",(0,l.jsx)(n.h3,{id:"text-clarity",children:"Text Clarity"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Use simple, clear language"}),"\n",(0,l.jsx)(n.li,{children:"Avoid jargon and technical terms"}),"\n",(0,l.jsx)(n.li,{children:"Keep sentences short (< 20 words)"}),"\n",(0,l.jsx)(n.li,{children:'Use active voice ("Enter your email" vs "Email should be entered")'}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"visual-design",children:"Visual Design"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Ensure sufficient contrast for text"}),"\n",(0,l.jsx)(n.li,{children:"Use descriptive alt-text for images"}),"\n",(0,l.jsx)(n.li,{children:"Don't rely solely on color to convey meaning"}),"\n",(0,l.jsx)(n.li,{children:"Test with screen readers if possible"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"progressive-enhancement",children:"Progressive Enhancement"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Design for users with limited literacy"}),"\n",(0,l.jsx)(n.li,{children:"Use visual cues (icons, images) alongside text"}),"\n",(0,l.jsx)(n.li,{children:"Provide examples in helper-text"}),"\n",(0,l.jsx)(n.li,{children:"Use radio buttons with clear labels for complex choices"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,l.jsx)(n.h3,{id:"image-optimization",children:"Image Optimization"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Compress images"})," before base64 encoding"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use appropriate formats"})," (WebP for photos, PNG for logos)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Limit image sizes"})," (< 500KB recommended)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Consider mobile data"})," - Large images slow Flow loading"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"flow-json-size",children:"Flow JSON Size"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Keep Flow JSON concise"})," (< 100KB recommended)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Minimize base64-encoded images"})," in JSON when possible"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use URLs for large images"})," instead of embedding"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Remove unnecessary whitespace"})," in production JSON"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"webhook-performance",children:"Webhook Performance"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Respond within 5 seconds"})," - Acknowledge receipt immediately"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Process asynchronously"})," - Queue long-running tasks"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Implement caching"})," - Cache frequently accessed data"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use connection pooling"})," - Reuse database connections"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Monitor response times"})," - Alert on slow webhooks"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"documentation",children:"Documentation"}),"\n",(0,l.jsx)(n.h3,{id:"internal-documentation",children:"Internal Documentation"}),"\n",(0,l.jsx)(n.p,{children:"Document each Flow for your team:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Purpose"})," - What problem does this Flow solve?"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Target audience"})," - Who will use this Flow?"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Data collected"})," - What fields and why?"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Processing logic"})," - What happens to submissions?"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Dependencies"})," - What systems does this integrate with?"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Owner"})," - Who maintains this Flow?"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"user-facing-documentation",children:"User-Facing Documentation"}),"\n",(0,l.jsx)(n.p,{children:"Help users understand your Flows:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"What to expect"})," - How long will it take?"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"What you need"})," - What information should users have ready?"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Privacy"})," - How will their data be used?"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Support"})," - Who to contact with questions?"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting-guide",children:"Troubleshooting Guide"}),"\n",(0,l.jsx)(n.h3,{id:"flow-wont-publish",children:"Flow Won't Publish"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Symptoms:"})," Error when clicking Publish button"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Common Causes:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Invalid JSON structure"}),"\n",(0,l.jsx)(n.li,{children:"Missing required fields"}),"\n",(0,l.jsx)(n.li,{children:"Screen IDs don't match routing model"}),"\n",(0,l.jsx)(n.li,{children:"Invalid component properties"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Validate JSON syntax (use online validator)"}),"\n",(0,l.jsx)(n.li,{children:"Check all screen IDs exist in routing_model"}),"\n",(0,l.jsx)(n.li,{children:"Verify all required component properties are set"}),"\n",(0,l.jsx)(n.li,{children:"Test in preview before publishing"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"users-cant-open-flow",children:"Users Can't Open Flow"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Symptoms:"})," Flow button appears but nothing happens when clicked"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Common Causes:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Flow not published"}),"\n",(0,l.jsx)(n.li,{children:"Flow deprecated"}),"\n",(0,l.jsx)(n.li,{children:"Incorrect Flow ID in template"}),"\n",(0,l.jsx)(n.li,{children:"User's WhatsApp version too old"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Verify Flow status is PUBLISHED"}),"\n",(0,l.jsx)(n.li,{children:"Check Flow ID matches template"}),"\n",(0,l.jsx)(n.li,{children:"Test on updated WhatsApp version"}),"\n",(0,l.jsx)(n.li,{children:"Recreate and republish Flow if needed"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"webhook-not-receiving-submissions",children:"Webhook Not Receiving Submissions"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Symptoms:"})," Flow completes but webhook never fires"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Common Causes:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Webhook URL incorrect"}),"\n",(0,l.jsx)(n.li,{children:"Webhook endpoint not HTTPS"}),"\n",(0,l.jsx)(n.li,{children:"Endpoint not returning 200 OK"}),"\n",(0,l.jsx)(n.li,{children:"Firewall blocking requests"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Verify webhook URL in portal settings"}),"\n",(0,l.jsx)(n.li,{children:"Ensure endpoint uses HTTPS"}),"\n",(0,l.jsx)(n.li,{children:"Test endpoint responds with 200 OK"}),"\n",(0,l.jsx)(n.li,{children:"Check server logs for incoming requests"}),"\n",(0,l.jsx)(n.li,{children:"Verify firewall/security group allows WhatsApp IPs"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"parsing-errors",children:"Parsing Errors"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Symptoms:"})," ",(0,l.jsx)(n.code,{children:"responseJson"})," won't parse or missing fields"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Common Causes:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Not parsing JSON string (it's double-encoded)"}),"\n",(0,l.jsx)(n.li,{children:"Field names don't match Flow definition"}),"\n",(0,l.jsx)(n.li,{children:"Optional fields missing from payload"}),"\n",(0,l.jsx)(n.li,{children:"Unicode/encoding issues"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"try {\n  // responseJson is a STRING, must parse it\n  const data = JSON.parse(payload.content.interactive.nfmReply.responseJson);\n\n  // Check for required fields\n  if (!data.email) {\n    console.error('Missing email field');\n    return;\n  }\n\n  // Handle optional fields safely\n  const preferences = data.preferences || [];\n\n} catch (error) {\n  console.error('JSON parsing error:', error);\n  console.log('Raw payload:', payload.content.interactive.nfmReply.responseJson);\n}\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,l.jsx)(n.h3,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.a,{href:"/connect/docs/whatsapp/whatsapp-flows-ui-guide",children:"Creating Flows with Connect UI"})})," - Step-by-step Flow creation guide"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.a,{href:"/connect/docs/whatsapp/whatsapp-flows-components",children:"Flow Component Reference"})})," - Complete component documentation"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.a,{href:"/connect/docs/whatsapp/whatsapp-flows-api",children:"Flow API Reference"})})," - Programmatic Flow management"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.a,{href:"/connect/docs/whatsapp/whatsapp-flows-examples",children:"Flow Examples"})})," - Production-ready industry examples"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.a,{href:"/connect/docs/whatsapp/whatsapp-webhooks",children:"WhatsApp Webhooks"})})," - Webhook configuration and event types"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.a,{href:"/connect/docs/whatsapp/template-message-api-library",children:"Template Message API"})})," - Template syntax and approval"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.a,{href:"https://developers.facebook.com/docs/whatsapp/flows",children:"Meta WhatsApp Flows Documentation"})})," - Official WhatsApp guidelines"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.a,{href:"https://gdpr.eu/",children:"GDPR Compliance Guide"})})," - EU data protection regulations"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.a,{href:"https://oag.ca.gov/privacy/ccpa",children:"CCPA Compliance Guide"})})," - California privacy regulations"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}}}]);