"use strict";(self.webpackChunk_8x8_developer_docs=self.webpackChunk_8x8_developer_docs||[]).push([[38314],{17706:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"connect/docs/inbound-sms","title":"Inbound SMS","description":"8x8 SMS API exposes a webhook mechanism to let you receive Inbound SMS (SMS sent to your virtual numbers) on a callback URL of your choice.","source":"@site/docs/connect/docs/inbound-sms.md","sourceDirName":"connect/docs","slug":"/connect/docs/inbound-sms","permalink":"/connect/docs/inbound-sms","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"sidebarConnectReference","previous":{"title":"Delete webhooks","permalink":"/connect/reference/delete-webhooks-2"},"next":{"title":"Delivery receipts for outbound SMS","permalink":"/connect/docs/delivery-receipts-for-outbound-sms"}}');var r=t(74848),i=t(28453);const l={},o="Inbound SMS",d={},c=[{value:"Requirements",id:"requirements",level:3},{value:"Inbound SMS flow",id:"inbound-sms-flow",level:3},{value:"Retry logic",id:"retry-logic",level:3},{value:"Webhook format",id:"webhook-format",level:3},{value:"Sample inbound SMS callback body",id:"sample-inbound-sms-callback-body",level:3}];function a(e){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"inbound-sms",children:"Inbound SMS"})}),"\n",(0,r.jsxs)(n.p,{children:["8x8 SMS API exposes a webhook mechanism to let you receive Inbound SMS (SMS sent to your virtual numbers) on a callback URL of your choice.",(0,r.jsx)(n.br,{}),"\nWhenever you receive inbound SMS, the 8x8 SMS platform sends a ",(0,r.jsx)(n.code,{children:"POST"})," request to the endpoint of your choice with a ",(0,r.jsx)(n.code,{children:"JSON"})," body containing the inbound SMS and the associated data."]}),"\n",(0,r.jsx)(n.h3,{id:"requirements",children:"Requirements"}),"\n",(0,r.jsx)(n.p,{children:"To use inbound SMS capabilities, liaise with your account manager to activate the following:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["A ",(0,r.jsx)(n.strong,{children:"virtual mobile number"})," where your user will send their SMS"]}),"\n",(0,r.jsxs)(n.li,{children:["An ",(0,r.jsx)(n.strong,{children:"inbound SMS callback URL"}),": set the URL, where 8x8 platform should forward the inbound messages addressed to your virtual number"]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\ud83d\udcd8"}),"\n",(0,r.jsxs)(n.p,{children:["You can configure your callback using ",(0,r.jsx)(n.a,{href:"/connect/reference/get-webhooks-2",children:"Webhooks Configuration API"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"inbound-sms-flow",children:"Inbound SMS flow"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"A user sends an SMS to one of your virtual numbers"}),"\n",(0,r.jsx)(n.li,{children:"8x8 receives the SMS on your behalf"}),"\n",(0,r.jsxs)(n.li,{children:["8x8 programmatically sends the SMS to the callback URL configured for your virtual number using  ",(0,r.jsx)(n.code,{children:"POST"})," request."]}),"\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.code,{children:"POST"})," request body, in the ",(0,r.jsx)(n.code,{children:"JSON"})," format contains the SMS body and all associated data (",(0,r.jsx)(n.code,{children:"UMID"}),", source, destination, encoding, timestamp)"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"retry-logic",children:"Retry logic"}),"\n",(0,r.jsx)(n.p,{children:"In case of connection error/timeout or HTTP response code 4XX or 5XX, there will be multiple retry attempts with progressive intervals: 1, 10, 30, 90 sec."}),"\n",(0,r.jsx)(n.h3,{id:"webhook-format",children:"Webhook format"}),"\n",(0,r.jsx)(n.p,{children:"Request body description"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter name"}),(0,r.jsx)(n.th,{children:"Parameter type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"namespace"}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:["A generic namespace for incoming webhook.",(0,r.jsx)(n.br,{}),"Equal to ",(0,r.jsx)(n.code,{children:"SMS"})," for inbound SMS."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"eventType"}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:["Webhook type. ",(0,r.jsx)(n.br,{}),"Equals to ",(0,r.jsx)(n.code,{children:"inbound_message_received"})," for inbound SMS."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"description"}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Human-readable description of the incoming event"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"payload"}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:"Inbound message information, see below."})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Payload object description"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter name"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter type"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"umid"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"uuid"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Unique message ID for the inbound message"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"subAccountId"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Id of the sub-account which owns the virtual number."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"timestamp"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"UTC date and time when the message was received expressed in ISO 8601 format."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"source"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Originating address of the SMS (sender number)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"destination"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"The destination address of the SMS (virtual number)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"body"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Content of the SMS"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"encoding"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"string"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"The encoding used in the SMS body (GSM7 / UCS2)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"smsCount"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"integer"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Number of SMS segment in the message"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"price"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"object"}),(0,r.jsxs)(n.td,{style:{textAlign:"left"},children:["Price information of the message, please see ",(0,r.jsx)(n.a,{href:"/connect/reference/price-object-reference",children:"Price object reference"})," for details"]})]})]})]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\u2757\ufe0f"}),"\n",(0,r.jsx)(n.p,{children:"If the request you receive has a different structure from described in this document, please contact our support to activate the latest format for your account."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"sample-inbound-sms-callback-body",children:"Sample inbound SMS callback body"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",metastring:"Inbound SMS webhook body",children:'{\n  "namespace": "SMS",\n  "eventType": "inbound_message_received",\n  "description": "SMS inbound message",\n  "payload": {\n    "umid": "9e09ac86-bd74-5465-851d-1eb5a5fdbb9a",\n    "subAccountId": "SubAccount-1",\n    "timestamp": "2016-01-01T14:34:56.017Z",\n    "source": "+6581968289",\n    "destination": "+4534735477",\n    "body": "Test MO message",\n    "encoding": "GSM7",\n    "smsCount": 2,\n    "price": {\n      "total": 0.0446592,\n      "perSms": 0.0446592,\n      "currency": "EUR"\n    }\n  }\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>o});var s=t(96540);const r={},i=s.createContext(r);function l(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);