"use strict";(self.webpackChunk_8x8_developer_docs=self.webpackChunk_8x8_developer_docs||[]).push([[20930],{28453:(e,n,t)=>{t.d(n,{R:()=>d,x:()=>i});var r=t(96540);const s={},l=r.createContext(s);function d(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),r.createElement(l.Provider,{value:n},e.children)}},80668:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"connect/docs/call-status","title":"Call Status (Number Masking)","description":"This method provides insights about call details and will be sent to your \\"Voice Call Summary\\" (VCS) endpoint. Your \\"Voice Call Summary\\" (VCS) endpoint can be configured on the sub-account level with the Number Masking Webhooks.","source":"@site/docs/connect/docs/call-status.md","sourceDirName":"connect/docs","slug":"/connect/docs/call-status","permalink":"/connect/docs/call-status","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"sidebarConnectReference","previous":{"title":"Webhook Setup Guide for IVR","permalink":"/connect/docs/webhook-setup-guide-for-ivr"},"next":{"title":"Call Action Handling (Number Masking)","permalink":"/connect/docs/call-action-handling"}}');var s=t(74848),l=t(28453);const d={},i="Call Status (Number Masking)",c={},a=[{value:"Response",id:"response",level:2}];function o(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"call-status-number-masking",children:"Call Status (Number Masking)"})}),"\n",(0,s.jsxs)(n.p,{children:['This method provides insights about call details and will be sent to your "Voice Call Summary" (VCS) endpoint. Your "Voice Call Summary" (VCS) endpoint can be configured on the sub-account level with the Number Masking ',(0,s.jsx)(n.a,{href:"/connect/reference/create-a-new-webhook",children:"Webhooks"}),"."]}),"\n",(0,s.jsx)(n.p,{children:'When receiving status updates for ongoing calls, the 8x8 platform will POST a JSON object to your "Voice Call Summary" (VCS) endpoint.'}),"\n",(0,s.jsx)(n.p,{children:"The JSON object will contain the following values:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Name"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"namespace"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:'8x8\'s overall product namespace. For Voice products the value will be "VOICE"'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"eventType"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:'Event type that generated this callback. For call status events the value will be "CALL_STATUS"'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"description"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"Description of the event type that triggered the callback."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"eventId"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"Unique id that triggered the callback"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"callId"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"Id unique to a one call leg of the number masking session [UUID]"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"sessionId"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"Unique id that represents Number masking session [UUID]"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"subAccountId"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"Id of the 8x8 SubAccount that the callback belongs to."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"callStatus"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsxs)(n.td,{children:["Status of the call leg that triggered the callback. Values can be:",(0,s.jsx)(n.br,{}),"CALL_INITIATED",(0,s.jsx)(n.br,{}),"CALL_RECEIVED",(0,s.jsx)(n.br,{}),"CALL_CONNECTED",(0,s.jsx)(n.br,{}),"CALL_DISCONNECTED",(0,s.jsx)(n.br,{}),"CALL_UPDATED",(0,s.jsx)(n.br,{}),"DTMF_RECEIVED"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"callDirection"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:'Direction of the call leg that triggered the callback. Values can be "INBOUND" or "OUTBOUND"'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"callType"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:'Type of the call leg. Values can be "PSTN" or "VOIP", depending on where the call was initiated from (telco operators or VoiceSDK users). For NumberMasking the value will always be PSTN.'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"source"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"Source number associated with the call leg that triggered this callback"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"destination"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"Destination number associated with the call leg that triggered this callback"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"sourceFormat"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"Format of the source number. For NumberMasking the value will always be MSISDN."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"destinationFormat"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"Format of the destination number. For NumberMasking the value will always be MSISDN."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"sourceCountryCode"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"Country code of the source number"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"destinationCountryCode"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"Country code of the destination number"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"sourceRefId"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"For INBOUND call legs this property shows the referenceId of the Virtual Number that has been called. For OUTBOUND calls the value is null"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"destinationRefId"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"For OUTBOUND call legs this property shows the referenceId of the Virtual Number that is used as callerId. For INBOUND calls the value is null"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"callDuration"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"Duration of the call leg (in seconds) that initiated the callback"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"eventData"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"Event data captured during the call."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"sipCode"}),(0,s.jsx)(n.td,{children:"Integer"}),(0,s.jsx)(n.td,{children:"Final Sip status code for the call leg(s) defined by RFC 3261"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"timestamp"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"Timestamp of a call event"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"Additional parameters could be included depending on individual destination or account requirements."}),"\n",(0,s.jsx)(n.p,{children:"Example of a JSON object sent to your handleURL:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "namespace": "VOICE",\n  "eventType": "CALL_STATUS",\n  "description": "Status update of a call",\n  "payload": {\n    "eventId": "eb0fc709-9693-11ea-454d-1705dde98182",\n    "callId": "a1d6a5e3-efec-11e9-b999-7d370b5f90d1",\n    "sessionId": "a1d6a5e2-efec-11e9-b999-efc71013a78f",\n    "subAccountId": "account_x",\n    "callStatus": "CALL_INITIATED",\n    "callDirection": "INBOUND | OUTBOUND",\n    "callType": "PSTN | VOIP",\n    "source": "+6283891703225",\n    "destination": "+622150996455",\n    "sourceFormat": "MSISDN",\n    "destinationFormat": "MSISDN",\n    "sourceCountryCode": "ID | Null",\n    "destinationCountryCode": "ID | Null",\n    "sourceRefId": "NumberRef1 | Null",\n    "destinationRefId": "vn-ref-1 | Null",\n    "callDuration": 10,\n    "eventData": " ",\n    "sipCode": 200,\n    "timestamp": "2019-10-16T08:12:01Z"\n  }\n}\n\n'})}),"\n",(0,s.jsx)(n.h2,{id:"response",children:"Response"}),"\n",(0,s.jsx)(n.p,{children:"Your endpoint should respond with 200 OK status."})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}}}]);