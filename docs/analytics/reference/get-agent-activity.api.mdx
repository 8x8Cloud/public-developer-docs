---
id: get-agent-activity
title: "Get Agent Activity Metrics"
description: "This endpoint returns the agent activity metrics for the selected pbx, grouped by agent. The response can be further filtered by a list of queues, sites, agents, user statuses. If no date range is provided, the metrics reflect the agent activity in the last 24 hours."
sidebar_label: "Get Agent Activity Metrics"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "get api-method"
info_path: analytics/reference/work-analytics
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Get Agent Activity Metrics"}
>
</Heading>

<MethodEndpoint
  method={"get"}
  path={"/v2/pbxes/{pbxId}/agent-activity"}
  context={"endpoint"}
>
  
</MethodEndpoint>



This endpoint returns the agent activity metrics for the selected pbx, grouped by agent. The response can be further filtered by a list of queues, sites, agents, user statuses. If no date range is provided, the metrics reflect the agent activity in the last 24 hours.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"pbxId","in":"path","description":"Id of the PBX.","required":true,"schema":{"type":"string"}},{"name":"siteIds","in":"query","description":"Site ids filtering. Multiple values can be passed separated by comma. If not passed, all sites data for the given pbx will be returned.","required":false,"schema":{"type":"string"},"examples":{"Single value":{"description":"single valued site id filter","value":"JMwyX0BUTRC9uAnuAz8wfg"},"Multiple values":{"description":"multivalued site id filter","value":"JMwyX0BUTRC9uAnuAz8wfg,JMwyX0BUTRC9uAnuAz8wfg"}}},{"name":"queueIds","in":"query","description":"Call Queue ids filtering. Multiple values can be passed separated by comma. If not passed, all queues data for the given pbx will be returned.","required":false,"schema":{"type":"string"}},{"name":"userIds","in":"query","description":"User ids filtering. Multiple values can be passed separated by comma.","required":false,"schema":{"type":"string"}},{"name":"userStatuses","in":"query","description":"User statuses filtering. Multiple values can be passed separated by comma.","required":false,"schema":{"type":"string","enum":["AVAILABLE","BUSY","DND","AWAY","AUTO_AWAY","OFFLINE","ON_CALL","INVISIBLE"]}},{"name":"startDate","in":"query","description":"Report start date in ISO 8601 standard. If startDate is entered, endDate is required as well.","required":false,"schema":{"type":"string"},"examples":{"Start date in U.S. Pacific Time time zone":{"description":"2023-06-14 start date in U.S. Pacific Time time zone","value":"2023-06-14T00:00:00-0700"},"Start date in UTC":{"description":"2023-06-14 start date in UTC","value":"2023-06-14T00:00:00Z"}}},{"name":"endDate","in":"query","description":"Report end date in ISO 8601 standard. If endDate is entered, startDate is required as well.","required":false,"schema":{"type":"string"},"examples":{"End date in U.S. Pacific Time time zone":{"description":"2023-06-15 end date in U.S. Pacific Time time zone","value":"2023-06-15T00:00:00-0700"},"End date in UTC":{"description":"2023-06-15 end date in UTC","value":"2023-06-15T00:00:00Z"}}},{"name":"intraDayStart","in":"query","description":"Report intra day start time (up to seconds) in ISO 8601 standard. If intraDayStart is entered, intraDayEnd is required as well. Report intraDayStart/intraDayEnd parameters should be passed only when report startDate/endDate are passed as well.","required":false,"schema":{"type":"string"},"examples":{"intra day start time in U.S. Pacific Time time zone":{"description":"8 AM in U.S. Pacific Time time zone","value":"08:00:00-0700"},"intra day start time in UTC":{"description":"8 AM in UTC","value":"08:00:00Z"}}},{"name":"intraDayEnd","in":"query","description":"Report intra day end time (up to seconds) in ISO 8601 standard. If intraDayEnd is entered, intraDayStart is required as well. Report intraDayStart/intraDayEnd parameters should be passed only when report startDate/endDate are passed as well.","required":false,"schema":{"type":"string"},"examples":{"intra day end time in U.S. Pacific Time time zone":{"description":"6 PM in U.S. Pacific Time time zone","value":"18:00:00-0700"},"intra day end time in UTC":{"description":"6 PM in UTC","value":"18:00:00Z"}}},{"name":"metrics","in":"query","description":"Expected metrics in response. Multiple values can be passed separated by comma.\n\n**Values allowed and their description**\n\n| Metric | Description | \n| -------| ----------- | \n| averageOnHoldInteractionsTime      | The average time an interaction spends on hold. |\n| enteredInteractions                | The number of interactions entered into the queue. |\n| rejectedInteractions               | The number of interactions rejected by the agent. |\n| missedInteractions                 | The number of interactions missed by the agent. |\n| rejectedInteractionsPercentage     | The percentage of interactions rejected by the agent. |\n| acceptedInteractions               | The number of interactions accepted by the agent. |\n| acceptedInteractionsPercentage     | The percentage of interactions accepted by the agent. |\n| ongoingHandlingInteractions        | The number of interactions currently being handled by the agent. |\n| ongoingAvgTalkingInteractionsTime  | The average time of ongoing talking interactions. |\n| ongoingAvgHandlingInteractionsTime | The average time of ongoing handling interactions. |\n| ongoingOnHoldInteractions          | The number of ongoing interactions currently on hold. |\n| ongoingTalkingInteractions         | The number of ongoing talking interactions. |\n| averageWrapUpTime                  | The average time taken to wrap up an interaction. |\n| missedInteractionsPercentage       | The percentage of interactions missed by the agent. |\n| averageTalkingInteractionsTime     | The average time of talking interactions. |\n| totalInteractionTime               | The total time spent on interactions. |\n| ongoingOnHoldInteractionsTime      | The total time of ongoing interactions currently on hold. |\n| ongoingTalkingInteractionsTime     | The total time of ongoing talking interactions. |\n| ongoingTotalHandlingInteractionsTime | The total time of ongoing handling interactions. |\n| userStatusTime                     | The total time the user has spent in their current status. |\n| ongoingWrapUpInteractionsTime      | The total time of ongoing wrap-up interactions. |\n| ongoingWrapUpInteractions          | The number of ongoing wrap-up interactions. |\n","required":false,"schema":{"type":"string"}},{"name":"includeSummary","in":"query","description":"If true, the response will contain the summary of agent activity metrics for each queue, otherwise not.","required":false,"schema":{"type":"boolean","default":true}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"agentActivity":{"type":"array","items":{"type":"object","properties":{"userId":{"type":"string","description":"Unique identifier for the agent."},"agentExtension":{"type":"string","description":"The phone extension associated with the agent."},"agentName":{"type":"string","description":"The name of the agent."},"userStatus":{"type":"string","description":"The overall status of the agent (e.g., OFFLINE, AVAILABLE)."},"activityStatus":{"type":"string","description":"The current activity status of the agent (e.g., IDLE, BUSY)."},"loggedInQueues":{"type":"array","items":{"type":"string"},"description":"A list of queues the agent is logged into."},"interaction":{"type":"object","properties":{"caller":{"type":"string"},"address":{"type":"string"}},"title":"Interaction"},"metrics":{"type":"object","additionalProperties":{"type":"object"},"description":"A collection of various metrics related to the agent's performance."}},"title":"AgentActivity"},"description":"A list of agent activities, including details of each agent's status and performance metrics."},"summary":{"type":"object","additionalProperties":{"type":"object"},"description":"A summary of various metrics and statistics related to the agents' activities."}},"title":"AgentActivityResponse"},"examples":{"All Metrics":{"description":"metrics param not passed, all call queue metrics will be returned.","value":{"queuesAgentActivity":[{"pbx":"testPbx","site":"Test Site","queueExtension":"6509967","queueName":"Timoth","autoLogin":false,"agentActivity":[{"userId":"user_1","agentExtension":"2062112","agentName":"John Doe","loggedInQueues":["1002","2002"],"userStatus":"ON_CALL","activityStatus":"NEW","interaction":{"caller":"Caller","address":"CallerPhone"},"metrics":{"ongoingHandlingInteractions":1,"acceptedInteractions":0,"ongoingOnHoldInteractionsTime":0,"ongoingTalkingInteractions":1,"ongoingWrapUpInteractionsTime":0,"rejectedInteractions":0,"userStatusTime":2579000,"averageWrapUpTime":0,"ongoingWrapUpInteractions":0,"enteredInteractions":0,"ongoingTalkingInteractionsTime":2594778,"ongoingHandlingInteractionsTime":2579000,"totalInteractionTime":0,"ongoingOnHoldInteractions":0}},{"userId":"user_2","agentExtension":"5368894","agentName":"Jane Doe","loggedInQueues":["1002","2002"],"activityStatus":"AVAILABLE_IDLE","interaction":{"caller":"Another Caller","address":"AnotherCallerPhone"},"metrics":{"ongoingHandlingInteractions":1,"acceptedInteractions":0,"ongoingOnHoldInteractionsTime":2599778,"ongoingTalkingInteractions":0,"ongoingWrapUpInteractionsTime":0,"rejectedInteractions":0,"userStatusTime":2615000,"averageWrapUpTime":0,"ongoingWrapUpInteractions":0,"enteredInteractions":0,"ongoingTalkingInteractionsTime":0,"ongoingHandlingInteractionsTime":2615000,"totalInteractionTime":0,"ongoingOnHoldInteractions":1}}],"metricsSummary":{"ongoingHandlingInteractions":2,"acceptedInteractions":0,"ongoingOnHoldInteractionsTime":2599778,"ongoingTalkingInteractions":1,"ongoingWrapUpInteractionsTime":0,"rejectedInteractions":0,"averageWrapUpTime":0,"ongoingWrapUpInteractions":0,"enteredInteractions":0,"ongoingTalkingInteractionsTime":2594778,"ongoingHandlingInteractionsTime":5195000,"totalInteractionTime":0,"ongoingOnHoldInteractions":1}}]}}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","description":"Error response","properties":{"timestamp":{"type":"string","description":"Timestamp of the error","format":"date-time","example":"2023-01-05T12:04:59.100+0000"},"status":{"type":"integer","description":"HTTP status of the response","format":"int32"},"messages":{"type":"array","description":"List of business service error messages","items":{"type":"string"}},"path":{"type":"string","description":"Request path"}},"title":"ErrorResponse"},"examples":{"Invalid metrics passed":{"description":"Invalid metrics passed","value":{"timestamp":"2023-01-05T12:04:59.100+0000","status":400,"messages":["Invalid Metrics Passed [random,notSupported]."],"path":"/analytics/work/v2/pbxes/PBX_ID_VALUE/agent-activity"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","description":"Error response","properties":{"error":{"type":"string","description":"type of  error","example":"invalid_token"},"error_description":{"type":"string","description":"Description of the error","example":"Access token expired: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9."}},"title":"401ErrorResponse"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"type":"object","description":"Error response","properties":{"timestamp":{"type":"string","description":"Timestamp of the error","format":"date-time","example":"2023-01-05T12:04:59.100+0000"},"status":{"type":"integer","description":"HTTP status of the response","format":"int32"},"messages":{"type":"array","description":"List of business service error messages","items":{"type":"string"}},"path":{"type":"string","description":"Request path"}},"title":"ErrorResponse"},"examples":{"User Not Authorized":{"description":"User Not Authorized","value":{"timestamp":"2023-01-05T12:04:59.100+0000","status":403,"messages":["user [user_name] does not have access to pbxId [PBX_ID] to make this request."],"path":"/analytics/work/v2/pbxes/PBX_ID_VALUE/agent-activity"}}}}}},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","description":"Error response","properties":{"timestamp":{"type":"string","description":"Timestamp of the error","format":"date-time","example":"2023-01-05T12:04:59.100+0000"},"status":{"type":"integer","description":"HTTP status of the response","format":"int32"},"messages":{"type":"array","description":"List of business service error messages","items":{"type":"string"}},"path":{"type":"string","description":"Request path"}},"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      